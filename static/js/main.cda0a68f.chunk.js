(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{136:function(e,t,n){var r={"./tile0.png":94,"./tile1.png":95,"./tile2.png":96,"./tile3.png":97};function a(e){var t=i(e);return n(t)}function i(e){var t=r[e];if(!(t+1)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return t}a.keys=function(){return Object.keys(r)},a.resolve=i,e.exports=a,a.id=136},158:function(e,t,n){e.exports=n(385)},169:function(e,t,n){},171:function(e,t,n){},175:function(e,t,n){},177:function(e,t,n){},179:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAD5JREFUWAnt10ERADAIA7Ax87iZRXao6CcYaMmv1fPmJC9ZYLNv8vnNVoAAAQIECBAgQIAAAQIECFRyHe84/XTlDQmQUCOUAAAAAElFTkSuQmCC"},180:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAYdJREFUWAntVz1LA0EQfbuEeAgi2EWsBCsL/0JqKytLf4KV+IGQIiDxxMqfYBOwECvr/AULK8FKSCeIzWlx6zzjQdibDRdwL80NhNy8zMx7O3N3YQzEUve4kePrCnBdcTvEItoYMCOLpeMTs/tmSO6QPTlgLSJpqbQB3g2Sndbk5PWSUw0P7KTr9q/tJYX1AK4rAqLPfNZZOhSwUGsENB1oOhDqwDdgTxMsr/PDa3lWBatslfNbeknbOzN76dRv6cA9iJtfTmEzLqvnqx1IkNz61TXMjyl8LVbDGK8KKArV8a0KyJAd+OQa5scUvharYYw3A3cv/4wl403UK9o2Sc77EtUuRepA5fyQAL1sBFQdQQSeYMlGQOBFJHcn7Pkmtq73zfY8b0C11Xfuuf2KlyOH/MIPCI5gBas3/0FOQtZhPZ+cflDAJz4OqVxLmhdjHdbT8prHMDgCrV0xMAqQXW1hNhYBZrQwei6p3FK5KNYtgpzktr8rsmyp0omhiKhjHMJhhtyMyf0DfCpzwbzHSMoAAAAASUVORK5CYII="},181:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAYxJREFUWAntV0FKw1AQnT82WRQqtDvFdbdewVN06RFciRUCLiwFI648QjdCT+EV3HYtuEvRgosEE+dFAk2Y3ybgTzcZKM1M3rw3mUk+/xsS+w7DsyRJHg3RRZZlJ4i5MmPMR0b06nneTX86fTe5eBy/ieDIlaiFN/J8/5zx5AcQR00jaDPaDu8QBm12PfNdDwZt3gVo415XQNeBrgNqB2SBiA3zbY/5FD9cI1b3s2yS31NJme+OgyDcuhd+zedEafqwFbNfNshXO3BEtKiya7EqpvA1rBYDXi2gIGrjXy3gh+iyKq7FqpjC17BaDHjzOZvJ/qBs+Qsncyzalien6b0A/TJS95rkqwXotG6i6gjcSOmsXQH6QiTdkt1rMBiPn8xkUnsF1JtMlC2X/ma1upYdkKxmZbOOYDAcPv+HOOTAA76y9J9nLWCzXl+hci2paSzvgPBped1naB2B1i4XMcZZzQVxHU5oMw6KdcAuMNBmnFKFPHIhsIczgjbjiIxTqqw8L22MI9cQLWhC+xfEpII8G45emQAAAABJRU5ErkJggg=="},182:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAW5JREFUWAntlsFOwzAMhu1qrwMSnOAtYOLCk3SDM6IVD8IFTeMp2AleqJqxS5JtrsucCSlCai6J7dj/lyxWh8+0Iig5SgKIdlXy8KI9AUw38P9uoKH12W+dcyyuc7NuoKX1HQF9cv82upDY4pe47LPils8NIEW3QK8ANONCtYYIdi1x2eeFcAEo8XiQBLETjyE/hAuAT3QZTh4V4iwQH2zwyfWgGcH2Qnu17QJY4u0DJ7Y6OdhXI/52gfPHkVhyuwBk9xLnC57GIFLBsGjDfu0f2G4AyXRCuMWlZhaAJPz1yAIYvnYTJ3WHGVVON4BTPJZ3Q7gAGlo9cWWj1Xq9TVRVcx3ylPvQdAEgVF8A2B2m9pY8uGteGd2B3U+ekbXncgHUePNWAd4riPTah92BneyXvD0tc+kCkEwFkcRj1R2EX7zP5ceV9bf8hd7Po6g153yOe+1cAEv0VJ9ou3+CU0WO5U0A0w0UvwEs2YbSId8ezJqOYuBQ4gAAAABJRU5ErkJggg=="},183:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAU5JREFUWAljZCAA2v+v+09ACU5pRgbG/xWMgUw4FQAl8Eri00gtuVEHjIbAaAgMeAgwUlLQUKMsGPAQGHXAaAjgDAFgVTodhClN6YTMwZkNKxmDGEGWU5JNkdsDuMzBGQKU+pxY/SyEFMJCgpA6cuUJhgAw6Cb+//8fHB2kWALS0/F/fSchPQQdADQgr5Nhw2yggcSoBdu3//9+FqCeeUBOKTUcwPCf4X9yJ8P6pSCDCRnY9/8Y50mGD8CW7P8EQmpB8gSDFi31buJm4AjLY/T6ic3w/v/rBX4wMGxiYPhvCzGc+q1iv68MP7fM/L+ZC90B/f93SP5g+H8QZjlIHhgKBD1IdLwiLPzv8p7hz87e/xtkYWLd/zfq/WT4fhTI14OJEUsTjFNsBgF9ZvOL4f8joBzYh38Y/l7Epo4YMTJCgBhjiVcz6oDREBjwEAAAwOJpSUqjPhYAAAAASUVORK5CYII="},184:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAX5JREFUWAlj/Njc/J9hIMFAOgBkN9NAeh5k96gDRkNgNARYKMmGXzs7pf78/i3HxsDwnLOm5iE5ZpHlgM9tbaL//v1b9OfXLw+Qpb+A+FNLyz5eLq5QxqKid6Q4hKw0ALR8McP//2DLGRgZ7zEyMv79//+/0+evXyeSYjlILckO+N/fLwDUpwXEX4AWJ/DX1Cj/Z2QsBRkGpO1BNCmA5ChgLCz8ALRADmYJ0OeMn1ta7EA1GuP//49g4sTSJDsA2WCw5a2tM4CWB4CiAYhrkeWJYZMcBciGfm5tLQY6Ig1sOQNDOG919X5keWLYFDkA6HN3kCVAejZvTc1aYixEV0NRFDAyMTUBDZzKwMx8Hd1gYvmUhcD//4oMf/+mMv/7x0WshejqKAoBYFkwDRj83H///AGVRYHohhPDpygEGBkY9gATIDD7M+4lxjKsaihtE/6fOZPs4KdKm5AxPf0bVp8RKUhRFBBpB15low4YDYHREBjwEGCktCTEm8mJkAQABD53sd5+Ls8AAAAASUVORK5CYII="},185:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAhVJREFUWAm9lulOwkAUhaf1WXCNStwIavzhGmOMxrihj+JSTFqsPgpv4Wv4Fmw/JHSuR5Lb2NJhpqWUhEw7c++Z75wuIMQEn9bnZ6nruo8TSAh7kmbr5+dVEjnUbM5k1ckM0G40ZoVl1UiIUvv7+6FwAAoCh4iGzi2iJxxnMpOpCe7nLSHu2TVSmOt5Xo3P04yZAIbuRfT+kUI8Z0khNUDn42MB7m/jLrH5PFK4i8/rzlMDyH6/jsgT+7KkkCikou74/hLcX6vWkcJi1/NuVOtJ86kAaDBwVO5ZHBAv+ILT7GMM0PX9ZUgq3fN2AFxCCto6rjcGkH/uDZ2lScEIAI5WQHzF1LoRKSyjx6jeCADv+7qpe4YzTUELACdliF6ysOmIFFY7nqft0wJkcc+QgHjlY9U4FgBvtjVEeaFq1s4TlduuO7Z/LECAa6/dRFOgS0EJ0Ht/X4f7c42+fploDSkodZQAQRC86dXNKsalkAgA95twf2Ymb1BFtNHyvES9RIA83Yd4RIlPxAhAq9GowP1p2JjXAdEWUhjRHQEQUuZ27ePslpROfC4CgP96VUF0Ei/K6xw3YwVv1oh+BICkrOe1mUpHxlIIAfCsbsP9saoxr3mkUEUKR6wXAmBhateeN+PxfwpDALjfhftDLpj2CLM7SOHgbx9OoDD3bI5TsDquu4ef3C9eKHK0bXvfLvLax83hqXN+AWhR9c/gEiSNAAAAAElFTkSuQmCC"},353:function(e,t,n){},355:function(e,t,n){},383:function(e,t,n){},385:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),i=n(17),o=n.n(i),c=n(13),l=n(27),u=n(91),A=n(144),s=n(145),p=n.n(s),m=n(3),f={code:"\n##################\n#                #\n#                #\n#                #\n#                #\n#                #\n#                #\n#    P           #\n#             G  #\n##################\n\nP = Player\n# = Brick\n? = QuestionBrick or Brick\nG = Goomba\nR = GoombaRed\n^ = Spike\n\n[ <HORIZONTAL> Player ] -> [ HORIZONTAL Player ]\n[ <UP> Player | Wall ] -> [ JUMP Player | Wall ]\n[ <ACTION> Player | Wall ] -> [ JUMP Player | Wall ]\n[ Player ] -> [ DOWN Player ]\n[ Goomba ] -> [ DOWN Goomba ]\n\nHORIZONTAL [ Player | Goomba ] -> [ DEAD Player | Goomba ]\nDOWN [ Player | Goomba ] -> [ Player | DEAD Goomba ]\n"},g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_CODE":return Object(m.a)({},e,{code:t.code});default:return e}},d=n(30),y=n(15),h=n(6),b=n(21),v=n(61),E=n.n(v),O="top",w="left",j="right",C=function(e,t,n){return{name:e,position:{x:t,y:n},prevPosition:{x:t,y:n},velocity:{x:0,y:0},maxVelocity:{x:20,y:20},acceleration:{x:0,y:0},colliding:{top:[],bottom:[],left:[],right:[]},static:!1,inputs:{}}},N=function(e){return e.map(function(e){return function(e){return e.replace("[","").replace("]","")}(e).trim().split(" ")})},x={UP:{acceleration:{y:-1}},DOWN:{acceleration:{y:1}},LEFT:{acceleration:{x:-1}},RIGHT:{acceleration:{x:1}},FAST_UP:{acceleration:{y:-6}},FAST_DOWN:{acceleration:{y:6}},FAST_LEFT:{acceleration:{x:-6}},FAST_RIGHT:{acceleration:{x:6}},SLOW_UP:{acceleration:{y:-.5}},SLOW_DOWN:{acceleration:{y:.5}},SLOW_LEFT:{acceleration:{x:-.5}},SLOW_RIGHT:{acceleration:{x:.5}},JUMP:{velocity:{y:-150}},DEAD:{dead:!0},STATIC:{static:!0}},T={"<UP>":"up","<DOWN>":"down","<LEFT>":"left","<RIGHT>":"right","<ACTION>":"action1","<ACTION1>":"action1","<ACTION2>":"action2"},S=function e(t,n,r,a){var i="forward"===n?a+1:a-1;if(!(i<0||i===r.length)){var o=r[i];o||console.error("Expecting there to always be a state here");var c=[Object(m.a)({},o)],l=e(t,n,r,i);return l&&(c.colliding=Object(d.a)({},t,l)),c}},P=function(e,t,n){var r={},a=function(e){return{left:"left",right:"right",down:"bottom",up:"top"}[e]}(e),i=function(e){return{left:"right",right:"left",top:"bottom",bottom:"top",up:"down",down:"up",forward:"backward"}[e]}(a),o=S(a,"forward",t,n),c=S(i,"backward",t,n);return c&&(r[i]=c),o&&(r[a]=o),o||c?r:void 0},k=function(e,t){var n=e.map(function(e){return t[e]?{name:e}:T[e]?{inputs:Object(d.a)({},T[e],!0)}:x[e]?Object(m.a)({},x[e]):{}}),r={},a=!0,i=!1,o=void 0;try{for(var c,l=n[Symbol.iterator]();!(a=(c=l.next()).done);a=!0){var u=c.value;Object(b.merge)(r,u)}}catch(A){i=!0,o=A}finally{try{a||null==l.return||l.return()}finally{if(i)throw o}}return r},I=function(e,t){return Object(y.a)(e).concat(Object(y.a)(t))},D=function(e,t){if(Object(b.isNumber)(e))return e+t},U=function(e,t){if(0===t.length)return e;var n=Object(m.a)({},e),r=!0,a=!1,i=void 0;try{for(var o,c=t[Symbol.iterator]();!(r=(o=c.next()).done);r=!0){var l=o.value,u=Object(h.a)(l,2),A=u[0],s=u[1];Object(b.matches)(A)(e)&&(n=Object(b.mergeWith)(n,s,D))}}catch(p){a=!0,i=p}finally{try{r||null==c.return||c.return()}finally{if(a)throw i}}return n},B=function(e){return!e.dead},M=function(e){return void 0!==Object(h.a)(e,2)[1].createNew},R=function(e){return e.includes("|")},L=function(e){return e.includes("->")&&!R(e)},F=function(e){return e.match(/#.+#/g)},G=function(e){return e.includes("=")},Q={ALL:["UP","DOWN","LEFT","RIGHT"],HORIZONTAL:["LEFT","RIGHT"],VERTICAL:["UP","DOWN"]},Y=function(e){for(var t=Object.keys(Q),n=0;n<t.length;n++){var r=t[n];if(e.includes(r))return!0}return!1},H=function e(t,n,r){var a=t.replace(n,r);return a.includes(n)?e(a,n,r):a},W=function(e){for(var t=[],n=Object.entries(Q),r=0;r<n.length;r++){var a=n[r],i=Object(h.a)(a,2),o=i[0],c=i[1];if(e.includes(o)){var l=!0,u=!1,A=void 0;try{for(var s,p=c[Symbol.iterator]();!(l=(s=p.next()).done);l=!0){var m=s.value;t.push(H(e,o,m))}}catch(f){u=!0,A=f}finally{try{l||null==p.return||p.return()}finally{if(u)throw A}}return t}}return t},J=function e(t){var n=t.filter(function(e){return!Y(e)}),r=Object(b.flatten)(t.filter(Y).map(W));return 0===r.length?t:Object(y.a)(n).concat(Object(y.a)(e(r)))},K=function(e){var t=e.split("["),n=e;return""===Object(h.a)(t,1)[0]&&(n=e.replace("[","ALL [")),n},X=function(e){return Object(m.a)({},e,{position:{x:Math.round(e.position.x),y:Math.round(e.position.y)}})},V=function(e){return{top:e.position.y,bottom:e.position.y+32,left:e.position.x,right:e.position.x+32}},z=function(e,t){var n=V(e),r=V(t);return n.bottom>r.top&&n.top<r.bottom&&n.right>r.left&&n.left<r.right},q=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=e.x,a=e.y,i=V(t),o=i.top,c=i.bottom,l=i.left,u=i.right;return a>o-n&&a<c+n&&r>l-n&&r<u+n},Z=function(e,t,n){var r=function(e,t){return e===w?[{x:t.position.x,y:t.position.y+5},{x:t.position.x,y:t.position.y+32-5}]:e===j?[{x:t.position.x+32,y:t.position.y+5},{x:t.position.x+32,y:t.position.y+32-5}]:e===O?[{x:t.position.x+5,y:t.position.y},{x:t.position.x+32-5,y:t.position.y}]:"bottom"===e?[{x:t.position.x+5,y:t.position.y+32},{x:t.position.x+32-5,y:t.position.y+32}]:void 0}(e,t),a=!0,i=!1,o=void 0;try{for(var c,l=r[Symbol.iterator]();!(a=(c=l.next()).done);a=!0){var u=c.value;if(q(u,n,1))return!0}}catch(A){i=!0,o=A}finally{try{a||null==l.return||l.return()}finally{if(i)throw o}}return!1},_=function(e,t){var n=V({position:Object(m.a)({},e.prevPosition)}),r=V({position:Object(m.a)({},t.prevPosition)}),a={top:!1,bottom:!1,left:!1,right:!1};return n.top>=r.bottom?a.top=!0:n.bottom<=r.top&&(a.bottom=!0),n.left>=r.right?a.left=!0:n.right<=r.left&&(a.right=!0),a},$=function(e,t,n){var r=V(n),a=Object(m.a)({},t.velocity,Object(d.a)({},{left:"x",right:"x",top:"y",bottom:"y"}[e],0)),i=Object(m.a)({},t.position);return e===O?i.y=r.bottom:"bottom"===e?i.y=r.top-32:e===w?i.x=r.right:e===j&&(i.x=r.left-32),{position:i,velocity:a}},ee=function(e,t){if(e.static)return e;var n=!0,r=!1,a=void 0;try{for(var i,o=t[Symbol.iterator]();!(n=(i=o.next()).done);n=!0){var c=i.value;if(e.id!==c.id&&z(e,c)){var l=_(e,c),u=Object(m.a)({},e);return l.top?u=Object(m.a)({},u,$(O,e,c)):l.bottom&&(u=Object(m.a)({},u,$("bottom",e,c))),z(u,c)&&(l.left?u=Object(m.a)({},u,$(w,e,c)):l.right&&(u=Object(m.a)({},u,$(j,e,c)))),u}}}catch(A){r=!0,a=A}finally{try{n||null==o.return||o.return()}finally{if(r)throw a}}return e},te=function(e){return Object(m.a)({},e,{prevPosition:Object(m.a)({},e.position)})},ne=function(e){var t=e.velocity,n=e.maxVelocity,r=e.acceleration;return Object(m.a)({},e,{velocity:{x:Math.max(Math.min(t.x+r.x,n.x),-n.x),y:Math.max(Math.min(t.y+r.y,n.y),-n.y)},acceleration:{x:0,y:0}})},re=function(e){return Object(m.a)({},e,{position:{x:e.position.x+e.velocity.x,y:e.position.y+e.velocity.y}})},ae=function(e){return Object(m.a)({},e,{colliding:{top:[],bottom:[],left:[],right:[]}})},ie=function(e){return Object(m.a)({},e,{velocity:{x:(e.colliding.top.length>0||e.colliding.bottom.length,.85*e.velocity.x),y:(e.colliding.left.length>0||e.colliding.right.length,.85*e.velocity.y)}})},oe={sprites:[],legend:{},names:{},rules:[],stateMutations:[],width_in_tiles:0,height_in_tiles:0,active:!1,theme:"dark",debug:!1,imageMap:{},images:["player","brick","questionbrick","spike","goomba","goombared"]},ce=function(){var e,t,n,r,a,i,o,c,l,u,A,s,p,f,g=arguments.length>0&&void 0!==arguments[0]?arguments[0]:oe,v=arguments.length>1?arguments[1]:void 0;switch(v.type){case"SET_ACTIVE":return Object(m.a)({},g,{active:v.active});case"TOGGLE_DEBUG":return Object(m.a)({},g,{debug:!g.debug});case"SELECT_IMAGE":var x=Object(m.a)({},g.imageMap),T=v.variableName,S=v.imageName;return x[T]=S,Object(m.a)({},g,{imageMap:x});case"COMPILE":try{var D=function(e){return e.split("\n").filter(function(e){return!e.includes("//")}).join("\n")}(v.code),Q=function(e){return e.split("\n").filter(F).slice(1,-1).map(function(e){return e.slice(1,-1)})}(D),Y=function(e){var t={};return e.split("\n").filter(G).forEach(function(e){var n=e.split("=").map(function(e){return e.trim()}),r=Object(h.a)(n,2),a=r[0],i=r[1].split(" or ");t[a]=function(){var e=Math.floor(Math.random()*i.length);return i[e]}}),t}(D),H=function(e,t){var n=[];return e.map(function(e,r){return e.split("").forEach(function(e,a){var i=t[e];if(i&&"Empty"!==i()){var o=32*a,c=32*r;n.push(Object(m.a)({id:E()()},C(i(),o,c)))}})}),n}(Q,Y),W=function(e){var t=e.split("\n").filter(G).map(function(e){var t=e.split(" = ");return Object(h.a)(t,2)[1].split(" or ")});return Object(b.flatten)(t)}(D),V=W.reduce(function(e,t){return e[t]=!0,e},{}),z=Object(m.a)({},g.imageMap),q=!0,_=!1,$=void 0;try{for(var ce,le=W[Symbol.iterator]();!(q=(ce=le.next()).done);q=!0){var ue=ce.value;z[ue]||(z[ue]=g.images[ue]?ue.toLowerCase():"player")}}catch(je){_=!0,$=je}finally{try{q||null==le.return||le.return()}finally{if(_)throw $}}var Ae=function(e){var t=e.split("\n").filter(L),n=e.split("\n").filter(R).map(K);return[J(t),J(n)]}(D),se=Object(h.a)(Ae,2),pe=se[0],me=se[1],fe=pe.map(function(e){return function(e,t){var n,r=(n=e.split("->"),N(n)),a=Object(h.a)(r,2),i=a[0],o=a[1];return[k(i,t),k(o,t)]}(e,V)}),ge=me.map(function(e){return function(e,t){var n,r,a=e.match(/^([A-Z]+)\b/),i=Object(h.a)(a,1)[0].toLowerCase(),o=e.split("->"),c=Object(h.a)(o,2),l=c[0],u=c[1],A=l.match(/\[.+?\]/),s=Object(h.a)(A,1)[0],p=u.match(/\[.+?\]/),f=Object(h.a)(p,1)[0],g=(n=s.split("|"),N(n)),d=(r=f.split("|"),N(r)),y=[],b=[],v=!0,E=!1,O=void 0;try{for(var w,j=g[Symbol.iterator]();!(v=(w=j.next()).done);v=!0){var x=w.value,T=Object(m.a)({},k(x,t));y.push(T)}}catch(je){E=!0,O=je}finally{try{v||null==j.return||j.return()}finally{if(E)throw O}}var S=y.map(function(e,t){return P(i,y,t)?Object(m.a)({},e,{colliding:P(i,y,t)}):e}),I=0,D=!0,U=!1,B=void 0;try{for(var M,R=d[Symbol.iterator]();!(D=(M=R.next()).done);D=!0){var L=M.value,F=g[I],G=void 0;if(F)G=k(L,t);else{var Q=C("TEMP_NAME",0,0);G=Object(m.a)({},Q,{createNew:{direction:i}},k(L,t)),S.push(Object(m.a)({},y[0]))}b.push(G),I+=1}}catch(je){U=!0,B=je}finally{try{D||null==R.return||R.return()}finally{if(U)throw B}}return S.map(function(e,t){return[e,b[t]]})}(e,V)}),de=Object(b.flatten)(ge),ye=de.filter(M),he=de.filter(function(e){return!M(e)}),be=function(e){return[e[0].length,e.length]}(Q),ve=Object(h.a)(be,2),Ee=ve[0],Oe=ve[1];return Object(m.a)({},oe,{sprites:H,legend:Y,rules:Object(y.a)(pe).concat(Object(y.a)(me)),stateMutations:fe,collisionStateMutationsCreate:ye,collisionStateMutationsModify:he,width:32*Ee,height:32*Oe,names:V,imageMap:z})}catch(je){return console.error(je),Object(m.a)({},oe,{error:"Compilation error \ud83d\ude1e"})}case"UPDATE":Object(m.a)({},g);var we=function(e,t){var n,r,a,i=[],o=!0,c=!1,l=void 0;try{for(var u,A=e[Symbol.iterator]();!(o=(u=A.next()).done);o=!0){var s=u.value,p=!0,f=!1,g=void 0;try{for(var d,y=t[Symbol.iterator]();!(p=(d=y.next()).done);p=!0){var v=d.value,O=Object(h.a)(v,2),w=O[0],j=O[1];Object(b.matches)(w)(s)&&i.push(Object(m.a)({},j,{id:E()(),position:(n=s.position,a=j.createNew.direction,r={up:{x:0,y:-32},down:{x:0,y:32},left:{x:-32,y:0},right:{x:32,y:0}}[a],{x:n.x+r.x,y:n.y+r.y}),createNew:void 0}))}}catch(je){f=!0,g=je}finally{try{p||null==y.return||y.return()}finally{if(f)throw g}}}}catch(je){c=!0,l=je}finally{try{o||null==A.return||A.return()}finally{if(c)throw l}}return i}(g.sprites,g.collisionStateMutationsCreate);return Object(m.a)({},g,{sprites:(f=g.sprites.filter(B),p=I(f,we),s=p.map(ae),A=s.map(function(e){return function(e,t,n,r){if(e.static)return e;var a=Object(m.a)({},e.colliding),i=!0,o=!1,c=void 0;try{for(var l,u=t[Symbol.iterator]();!(i=(l=u.next()).done);i=!0){var A=l.value;if(e.id!==A.id)for(var s=[O,"bottom",w,j],p=0;p<s.length;p++){var f=s[p];if(Z(f,e,A)){var g=Object(m.a)({},A);g.colliding=void 0,a[f].push(g)}}}}catch(je){o=!0,c=je}finally{try{i||null==u.return||u.return()}finally{if(o)throw c}}return e.position.x<1&&a.left.push({name:"Wall"}),e.position.x>n-32-1&&a.right.push({name:"Wall"}),e.position.y<1&&a.top.push({name:"Wall"}),e.position.y>r-32-1&&a.bottom.push({name:"Wall"}),Object(m.a)({},e,{colliding:a})}(e,g.sprites,g.width,g.height)}),u=A.map(te),l=u.map(function(e){return U(e,g.stateMutations)}),c=l.map(function(e){return U(e,g.collisionStateMutationsModify)}),o=c.map(ie),i=o.map(ne),a=i.map(re),r=a.map(function(e){return ee(e,g.sprites)}),n=r.map(function(e){return ee(e,g.sprites)}),t=n.map(function(e){return ee(e,g.sprites)}),e=t.map(function(e){return function(e,t,n){if(e.static)return e;var r=Object(m.a)({},e.position);return e.position.y>n-32&&(r.y=n-32),e.position.y<0&&(r.y=0),e.position.x>t-32&&(r.x=t-32),e.position.x<0&&(r.x=0),Object(m.a)({},e,{position:r})}(e,g.width,g.height)}),e.map(X))});case"SET_INPUT":return Object(m.a)({},g,{sprites:g.sprites.map(function(e){return Object(m.a)({},e,{inputs:Object(m.a)({},e.inputs,Object(d.a)({},v.input,!0))})})});case"TOGGLE_THEME":return Object(m.a)({},g,{theme:"light"===g.theme?"dark":"light"});case"CANCEL_INPUT":return Object(m.a)({},g,{sprites:g.sprites.map(function(e){var t=Object(m.a)({},e.inputs);return t[v.input]=void 0,Object(m.a)({},e,{inputs:t})})});default:return g}},le=[[[0,1,1,0],[1,1,1,1],[1,1,1,1],[0,1,1,0]],[[0,1,1,0],[1,0,0,1],[1,0,0,1],[0,1,1,0]]],ue=["tile0","tile1","tile2","tile3"],Ae=function(e){var t=document.createElement("canvas");t.width=128,t.height=128;var n=t.getContext("2d");return e.map(function(t,r){return e[r].map(function(a,i){var o=ue[e[r][i]],c=new Image(32,32);c.onload=function(){console.log("loaded"),n.drawImage(c,32*a,32*t)},c.src="../Game/images/tiles/".concat(o,".png")})}),t.toDataURL()},se={tileSets:le,open:!1,images:le.map(function(e){return Ae(e)}),tileImages:ue},pe=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:se,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"spriteEditor/SET_OPEN":return Object(m.a)({},e,{open:t.open});case"spriteEditor/UPDATE_TILESETS":return Object(m.a)({},e,{tileSets:t.tileSets,images:t.tileSets.map(function(e){return Ae(e)})});default:return e}},me=Object(l.b)({code:g,game:ce,spriteEditor:pe}),fe=(n(169),n(171),n(146)),ge=(n(175),function(e){var t=e.sprite;return a.a.createElement("div",{className:"debug-colliding"},Object.entries(t.colliding).map(function(e,t){var n=Object(h.a)(e,2),r=n[0],i=n[1];return a.a.createElement("p",{className:"number ".concat(r," ").concat(i.length>0&&"active")},i.length)}))}),de=(n(177),function(e,t){return{position:"relative",left:e,top:t}}),ye=function(e){var t=e.x,r=e.y,i=e.img,o=e.sprite,c=e.debug;return a.a.createElement("div",{className:"sprite",style:de(t,r)},a.a.createElement("img",{src:n(65)("./".concat(i,".png")),alt:""}),c&&a.a.createElement(ge,{sprite:o}))},he=function(e){var t=e.sprites,n=e.width,r=e.height,i=e.imageMap,o=e.error,c=e.debug;return a.a.createElement("div",{className:"stage",style:{width:n,height:r}},o&&a.a.createElement("p",{className:"error"},o),t.map(function(e){return a.a.createElement(ye,{key:e.id,x:e.position.x,y:e.position.y,img:i[e.name]||"player",sprite:e,debug:c})}))},be=Object(c.b)(null,function(e){return{onTimeChange:function(){e({type:"UPDATE"})}}})(function(e){var t,n=e.onTimeChange;return Object(r.useEffect)(function(){return t=requestAnimationFrame(function(){return function e(){n(),t=requestAnimationFrame(function(){return e()})}()}),function(){cancelAnimationFrame(t)}},[]),a.a.createElement("p",null)}),ve=function(e){return{type:"COMPILE",code:e}},Ee=n(149),Oe=n.n(Ee),we=n(156),je=n(42),Ce=n(153),Ne=n.n(Ce),xe=Object(c.b)(function(e){var t=e.game;return{imageMap:t.imageMap,images:t.images}},function(e){return{onSelect:function(t,n){e({type:"SELECT_IMAGE",variableName:t,imageName:n})}}})(function(e){var t=e.variableName,r=e.imageMap,i=e.images,o=e.onSelect;if(0===Object.keys(r).length)return null;var c=r[t]?r[t]:"player";return a.a.createElement(Ne.a,{interactive:!0,title:a.a.createElement("div",{className:"tooltip-content"},i.map(function(e){return a.a.createElement("img",{key:e,alt:"",src:n(65)("./".concat(e,".png")),onClick:function(){return o(t,e)}})}))},a.a.createElement("img",{className:"code-sprite",alt:"",src:n(65)("./".concat(c,".png"))}))}),Te={comment:/\/\/.*/,variable:{pattern:new RegExp(" = ([A-Z]+)","i")}},Se=function(e,t,n){if(!e.ctrlKey||"b"!==e.key)return n();e.preventDefault(),console.log("add bold"),t.addMark("bold")},Pe=function e(t){return"string"==typeof t?t:"string"==typeof t.content?t.content:t.content.map(e).join("")},ke=function(e,t,n){var r=n()||[],a=e.getTexts().toArray(),i=a.map(function(e){return e.text}).join("\n");if(1!==a.length)return r;var o=Oe.a.tokenize(i,Te),c=[],l=a.shift(),u=l,A=0,s=0,p=0,m=!0,f=!1,g=void 0;try{for(var d,h=o[Symbol.iterator]();!(m=(d=h.next()).done);m=!0){var b=d.value;l=u,A=s;var v=Pe(b),E=v.split("\n").length-1,O=v.length-E,w=p+O,j=l.text.length-A,C=O;for(s=A+C;j<C&&a.length>0;)u=a.shift(),C=O-j,j=u.text.length,s=C;if("string"!=typeof b){var N={anchor:{key:l.key,offset:A},focus:{key:u.key,offset:s},mark:{type:b.type}};c.push(N)}p=w}}catch(x){f=!0,g=x}finally{try{m||null==h.return||h.return()}finally{if(f)throw g}}return Object(y.a)(r).concat(c)},Ie=Object(c.b)(function(e){var t=e.code,n=e.game;return{code:t.code,width:n.width,height:n.height,imageMap:n.imageMap}},function(e){return{onUpdateCode:function(t){var n=t.value;e({type:"UPDATE_CODE",code:je.a.serialize(n)})},onCompile:function(t){e(ve(t))}}})(function(e){var t=e.code,n=(e.imageMap,e.onUpdateCode),i=e.onCompile;return Object(r.useEffect)(function(){i(t)},[]),a.a.createElement(we.a,{className:"code",defaultValue:je.a.deserialize(t),onChange:n,onKeyDown:Se,decorateNode:ke,renderMark:function(e,t,n){return function(e,t,n,r){var i=e.children,o=e.attributes,c=e.node;switch(e.mark.type){case"variable":var l=c.text.split("=").map(function(e){return e.trim()}),u=Object(h.a)(l,2)[1].split(" or "),A=Object(h.a)(u,1)[0];return a.a.createElement("span",o,i,a.a.createElement(xe,{variableName:A}));case"comment":return a.a.createElement("span",Object.assign({},o,{style:{opacity:"0.33"}}),i);case"keyword":return a.a.createElement("span",Object.assign({},o,{style:{fontWeight:"bold"}}),i);default:return n()}}(e,0,n)}})}),De=n(154),Ue=n.n(De),Be=(n(353),function(e,t){return{position:"relative",left:e,top:t}}),Me=function(e){var t=e.x,r=e.y,i=e.img,o=e.onClick;return a.a.createElement("div",{className:"tile",style:Be(t,r)},a.a.createElement("img",{src:n(136)("./".concat(i,".png")),alt:"",onClick:function(){return o()}}))},Re=(n(355),function(e){var t=e.images,n=(e.tileSets,e.selectedTileSet),r=e.onSelect;return a.a.createElement("div",{className:"image-list"},t.map(function(e,t){return a.a.createElement("img",{src:e,alt:"",className:"image ".concat(t===n&&"selected"),onClick:function(){return r(t)}})}))}),Le=function(e){var t=e.tiles,n=e.selectedTile,r=e.tileImages,i=e.onSelect;return a.a.createElement("div",{className:"preview"},t.map(function(e,t){return e.map(function(e,o){return a.a.createElement(Me,{img:r[e],x:32*o,y:32*t,onClick:function(){return i(t,o,n)}})})}))},Fe=function(e){var t=e.selectedTile,r=e.tileImages,i=e.onSelect;return a.a.createElement("div",{className:"picker"},r.map(function(e,r){return a.a.createElement("img",{key:e,alt:"",className:r===t?"selected":"",src:n(136)("./".concat(e,".png")),onClick:function(){return i(r)}})}))},Ge=Object(c.b)(function(e){e.game;var t=e.spriteEditor;return{open:t.open,tileImages:t.tileImages,images:t.images,tileSets:t.tileSets}},function(e){return{updateTileSets:function(t){e({type:"spriteEditor/UPDATE_TILESETS",tileSets:t})}}})(function(e){var t=e.tileSets,n=e.tileImages,i=e.images,o=e.open,c=e.updateTileSets,l=e.onClose,u=Object(r.useState)(0),A=Object(h.a)(u,2),s=A[0],p=A[1],m=Object(r.useState)(0),f=Object(h.a)(m,2),g=f[0],d=f[1],b=t[s];return a.a.createElement(Ue.a,{open:o,onClose:l},a.a.createElement("div",{className:"container"},a.a.createElement("div",{className:"left"},a.a.createElement(Re,{images:i,tileSets:t,selectedTileSet:s,onSelect:p})),a.a.createElement("div",{className:"right"},a.a.createElement(Le,{tiles:b,tileImages:n,selectedTile:g,onSelect:function(e,n,r){var a=Object(y.a)(t);a[s][e][n]=r,c(a)}}),a.a.createElement(Fe,{tileImages:n,selectedTile:g,onSelect:d}))))}),Qe=n(157),Ye={simple_movement:"\n##################\n#                #\n#                #\n#       P        #\n#       #        #\n#      ###       #\n#     #####      #\n#                #\n#                #\n##################\n\nP = Player\n# = Brick\n\n// Accelerate down, like gravity\n[ Player ] -> [ DOWN Player ]\n\n// Move sideways with <LEFT> and <RIGHT> arrow keys\n[ <HORIZONTAL> Player ] -> [ HORIZONTAL Player ]\n",simple_platformer:"\n##################\n#                #\n#                #\n#                #\n#                #\n#                #\n#     ###?#      #\n#                #\n#    P       G   #\n##################\n\nP = Player\n# = Brick\n? = QuestionBrick\nG = Goomba\n\n// Accelerate down, like gravity\n[ Player ] -> [ DOWN Player ]\n[ Goomba ] -> [ DOWN Goomba ]\n\n// Move sideways with <LEFT> and <RIGHT> arrow keys\n[ <HORIZONTAL> Player ] -> [ HORIZONTAL Player ]\n\n// Jump when <UP> is pressed and when the bottom of Player\n// is touching Wall (Wall = anything)\nDOWN [ <UP> Player | Wall ] -> [ JUMP Player | Wall ]\n\n// Player dies if touching Goomba on the side\nHORIZONTAL [ Player | Goomba ] -> [ DEAD Player | Goomba ]\n\n// Jumping on top of Goomba kills the Goomba\nDOWN [ Player | Goomba ] -> [ Player | DEAD Goomba ]\n\n// Break bricks by head-butting\nUP [ Player | Brick ] -> [ Player | DEAD Brick ]\n\n// Head-butting QuestionBrick turns it into another Player\nUP [ Player | QuestionBrick ] -> [ Player | JUMP Player ]\n",four_way_movement:"\n###############\n#             #\n#             #\n#             #\n#      P      #\n#             #\n#             #\n###############\n\nP = Player\n# = Brick\n\n[ <HORIZONTAL> Player ] -> [ HORIZONTAL Player ]\n[ <VERTICAL> Player ] -> [ VERTICAL Player ]\n\n"},He=Object(c.b)(function(){return{}},function(e){return{loadPreset:function(t){e({type:"code/LOAD_PRESET",value:t})}}})(function(){var e=Object(r.useState)(!0),t=Object(h.a)(e,2),n=t[0],i=t[1];return n?a.a.createElement("div",{className:"blanket",onClick:function(){return i(!1)}},a.a.createElement("div",{className:"modal",onClick:function(e){return e.stopPropagation()}},a.a.createElement("h1",null,"Examples"),Object.entries(Ye).map(function(e){var t=Object(h.a)(e,2),n=t[0],i=t[1];return a.a.createElement(r.Fragment,{key:n},a.a.createElement("h2",null,n),a.a.createElement("div",{className:"example"},a.a.createElement(Qe.a,{value:i})))}))):a.a.createElement("button",{className:"primary",onClick:function(){return i(!0)}},"Examples")}),We=n(155),Je=n.n(We),Ke=(n(383),{primary:"#F1A0A0",secondary:"#87FFAE",dark:"#000000",light:"#FDF6E2"}),Xe={primary:"#43153F",secondary:"#87FFAE",dark:"#FDF6E2",light:"#FFFFFF"},Ve={up:{sequence:"up",action:"keydown"},down:{sequence:"down",action:"keydown"},left:{sequence:"left",action:"keydown"},right:{sequence:"right",action:"keydown"},action1:{sequence:"x",action:"keydown"},action2:{sequence:"z",action:"keydown"},cancel_up:{sequence:"up",action:"keyup"},cancel_down:{sequence:"down",action:"keyup"},cancel_left:{sequence:"left",action:"keyup"},cancel_right:{sequence:"right",action:"keyup"},cancel_action1:{sequence:"x",action:"keyup"},cancel_action2:{sequence:"z",action:"keyup"}},ze=function(e,t,n,r,a,i){return{up:function(){return e("up")},down:function(){return e("down")},left:function(){return e("left")},right:function(){return e("right")},action1:function(){return e("action1")},action2:function(){return e("action2")},r:function(){return n()},d:function(){return a()},space:function(){return r(!i)},cancel_up:function(){return t("up")},cancel_down:function(){return t("down")},cancel_left:function(){return t("left")},cancel_right:function(){return t("right")},cancel_action1:function(){return t("action1")},cancel_action2:function(){return t("action2")}}},qe=Object(c.b)(function(e){var t=e.code,n=e.game;return{code:t.code,theme:n.theme,isGameActive:n.active,sprites:n.sprites,imageMap:n.imageMap,width:n.width,height:n.height,debug:n.debug,error:n.error}},function(e){return{compile:function(t){e(ve(t))},setGameActive:function(t){e(function(e){return{type:"SET_ACTIVE",active:e}}(t))},onSetInput:function(t){e(function(e){return{type:"SET_INPUT",input:e}}(t))},onCancelInput:function(t){e(function(e){return{type:"CANCEL_INPUT",input:e}}(t))},onToggleDebug:function(){var t;e({type:"TOGGLE_DEBUG",active:t})},onToggleTheme:function(){e({type:"TOGGLE_THEME"})},onToggleExamples:function(){e({type:"app/OPEN_EXAMPLES"})},onOpenCloseSpriteEditor:function(t){e({type:"spriteEditor/SET_OPEN",open:t})}}})(function(e){var t=e.code,n=e.compile,r=e.theme,i=e.sprites,o=e.imageMap,c=e.width,l=e.height,u=e.debug,A=e.error,s=e.isGameActive,p=e.setGameActive,m=e.onToggleDebug,f=e.onSetInput,g=e.onCancelInput,d=e.onToggleTheme,y=(e.onToggleExamples,e.onOpenCloseSpriteEditor),h="light"===r?Xe:Ke;return a.a.createElement(Je.a,{className:"custom-properties-container",properties:{"--primary-color":h.primary,"--secondary-color":h.secondary,"--dark-color":h.dark,"--light-color":h.light,"--hover-color":"".concat(h.primary,"22")}},a.a.createElement("div",{className:"main"},a.a.createElement("div",{className:"left"},a.a.createElement("header",null,a.a.createElement("h1",{className:"logo"},"micro gg"),a.a.createElement(He,null),a.a.createElement("button",{className:"primary",onClick:function(){return d()}},"dark"===r?"light":"dark")),a.a.createElement(Ie,{imageMap:o})),a.a.createElement(fe.HotKeys,{handlers:ze(f,g,function(){return n(t)},function(e){return p(e)},function(){return m()},s),keyMap:Ve},a.a.createElement("div",{className:"right"},a.a.createElement("header",null,a.a.createElement("button",{className:"primary",onClick:function(){return n(t)}},"compile"),a.a.createElement("button",{className:"secondary",onClick:function(){return p(!s)}},s?"pause":"run"),s&&a.a.createElement(be,null)),a.a.createElement("div",{className:"game-container"},a.a.createElement(Ge,{onClose:function(){return y(!1)}}),a.a.createElement(he,{sprites:i,imageMap:o,width:c,height:l,debug:u,error:A}))))))}),Ze={key:"root",storage:p.a},_e=Object(u.a)(Ze,me),$e=Object(l.c)(_e,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__()),et=Object(u.b)($e);et.purge(),o.a.render(a.a.createElement(c.a,{store:$e},a.a.createElement(A.a,{loading:null,persistor:et},a.a.createElement(qe,null))),document.getElementById("root"))},65:function(e,t,n){var r={"./brick.png":179,"./goomba.png":180,"./goombared.png":181,"./no-image.png":182,"./player.png":183,"./questionbrick.png":184,"./spike.png":185,"./tiles/tile0.png":94,"./tiles/tile1.png":95,"./tiles/tile2.png":96,"./tiles/tile3.png":97};function a(e){var t=i(e);return n(t)}function i(e){var t=r[e];if(!(t+1)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return t}a.keys=function(){return Object.keys(r)},a.resolve=i,e.exports=a,a.id=65},94:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAChJREFUWAnt0IEAAAAAw6D5Ux/khVBhwIABAwYMGDBgwIABAwYMvA8MECAAAc4qtccAAAAASUVORK5CYII="},95:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAADZJREFUWAnt0EENAEAIA8HjzOMGi5Bggs/UwDYT2dXvcP+wvWkHCBAgQIAAAQIECBAgQIAAgQGlEANzhaA9CAAAAABJRU5ErkJggg=="},96:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAN1JREFUWAnF0EsOwyAQg2HUi7VH867H6RFT/4tIUZQHkBmwxHb8mVIm5rv8Pq+J/VRrGoD1pSzvaQDW+5UpgHX9NICLRTkZ/gPb9VMALhXFa4b+wH49iKEA94nSbYYBjtYDGQZwlyjcZwjgbD2YIQD3iLKjpAOu1gNKB7hDFJ0lFXC3HlQqwPdFyVXSADXrgaUBfFsU3CUFULseXArAd8XxmoQDWtYDDAf4pjhcm1BA63qQoQDfE0dbEgboWQ80DOBb4mBrQgC968GGAHxHHOvJY8CT9YAfA3xDHOrNH5CJQjHdlUHlAAAAAElFTkSuQmCC"},97:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAARJJREFUWAljZCASrPp/le0ew23H/wz//RgZGLT+MzBIMTD8B2IGHiKNwKoMaBZ+0PV/q8Q/hl91QAujgRby4VdNuixOB0z6v439K8PPaqCCIqCvuUk3mjgdWB0A8fXP9UBfWxBnDPmqMBzQ/X+j3l+Gv1uBlsuQbyzxOlEcAPX5aXpZDnImE8ytoDj/xwAOdrr4HGYvC4wBSnBANs3jHGYfjAZHATSr3aFlaodZiE6DowCSz2mX1dAtReYzgUo4SCGDLEw/NhOoeKVFCUesF5hAZTuximmhjgmYCrVoYTCxZgJDAFSrDRwA5gJwlTpgLgBlQ4rqc0pdDi+KKTWIXP2jDhgNgdEQGA2B0RAYDYHREAAA23dKamEoqhoAAAAASUVORK5CYII="}},[[158,2,1]]]);
//# sourceMappingURL=main.cda0a68f.chunk.js.map