(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{125:function(e,t,n){var r={"./brick.png":422,"./goomba.png":423,"./goombared.png":424,"./no-image.png":425,"./player.png":426,"./questionbrick.png":427,"./spike.png":428,"./tiles/tile0.png":177,"./tiles/tile1.png":178,"./tiles/tile2.png":179,"./tiles/tile3.png":180};function a(e){var t=i(e);return n(t)}function i(e){var t=r[e];if(!(t+1)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return t}a.keys=function(){return Object.keys(r)},a.resolve=i,e.exports=a,a.id=125},177:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAChJREFUWAnt0IEAAAAAw6D5Ux/khVBhwIABAwYMGDBgwIABAwYMvA8MECAAAc4qtccAAAAASUVORK5CYII="},178:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAADZJREFUWAnt0EENAEAIA8HjzOMGi5Bggs/UwDYT2dXvcP+wvWkHCBAgQIAAAQIECBAgQIAAgQGlEANzhaA9CAAAAABJRU5ErkJggg=="},179:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAN1JREFUWAnF0EsOwyAQg2HUi7VH867H6RFT/4tIUZQHkBmwxHb8mVIm5rv8Pq+J/VRrGoD1pSzvaQDW+5UpgHX9NICLRTkZ/gPb9VMALhXFa4b+wH49iKEA94nSbYYBjtYDGQZwlyjcZwjgbD2YIQD3iLKjpAOu1gNKB7hDFJ0lFXC3HlQqwPdFyVXSADXrgaUBfFsU3CUFULseXArAd8XxmoQDWtYDDAf4pjhcm1BA63qQoQDfE0dbEgboWQ80DOBb4mBrQgC968GGAHxHHOvJY8CT9YAfA3xDHOrNH5CJQjHdlUHlAAAAAElFTkSuQmCC"},180:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAARJJREFUWAljZCASrPp/le0ew23H/wz//RgZGLT+MzBIMTD8B2IGHiKNwKoMaBZ+0PV/q8Q/hl91QAujgRby4VdNuixOB0z6v439K8PPaqCCIqCvuUk3mjgdWB0A8fXP9UBfWxBnDPmqMBzQ/X+j3l+Gv1uBlsuQbyzxOlEcAPX5aXpZDnImE8ytoDj/xwAOdrr4HGYvC4wBSnBANs3jHGYfjAZHATSr3aFlaodZiE6DowCSz2mX1dAtReYzgUo4SCGDLEw/NhOoeKVFCUesF5hAZTuximmhjgmYCrVoYTCxZgJDAFSrDRwA5gJwlTpgLgBlQ4rqc0pdDi+KKTWIXP2jDhgNgdEQGA2B0RAYDYHREAAA23dKamEoqhoAAAAASUVORK5CYII="},202:function(e,t,n){var r={"./tile0.png":177,"./tile1.png":178,"./tile2.png":179,"./tile3.png":180};function a(e){var t=i(e);return n(t)}function i(e){var t=r[e];if(!(t+1)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return t}a.keys=function(){return Object.keys(r)},a.resolve=i,e.exports=a,a.id=202},222:function(e,t,n){e.exports=n.p+"static/media/moon.80d90aa7.svg"},223:function(e,t,n){e.exports=n.p+"static/media/sun.8b9d1e17.svg"},224:function(e,t,n){e.exports=n.p+"static/media/play.e5a8524f.svg"},225:function(e,t,n){e.exports=n.p+"static/media/stop.f437901f.svg"},227:function(e,t,n){e.exports=n(536)},332:function(e,t,n){},334:function(e,t,n){},418:function(e,t,n){},420:function(e,t,n){},422:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAD5JREFUWAnt10ERADAIA7Ax87iZRXao6CcYaMmv1fPmJC9ZYLNv8vnNVoAAAQIECBAgQIAAAQIECFRyHe84/XTlDQmQUCOUAAAAAElFTkSuQmCC"},423:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAYdJREFUWAntVz1LA0EQfbuEeAgi2EWsBCsL/0JqKytLf4KV+IGQIiDxxMqfYBOwECvr/AULK8FKSCeIzWlx6zzjQdibDRdwL80NhNy8zMx7O3N3YQzEUve4kePrCnBdcTvEItoYMCOLpeMTs/tmSO6QPTlgLSJpqbQB3g2Sndbk5PWSUw0P7KTr9q/tJYX1AK4rAqLPfNZZOhSwUGsENB1oOhDqwDdgTxMsr/PDa3lWBatslfNbeknbOzN76dRv6cA9iJtfTmEzLqvnqx1IkNz61TXMjyl8LVbDGK8KKArV8a0KyJAd+OQa5scUvharYYw3A3cv/4wl403UK9o2Sc77EtUuRepA5fyQAL1sBFQdQQSeYMlGQOBFJHcn7Pkmtq73zfY8b0C11Xfuuf2KlyOH/MIPCI5gBas3/0FOQtZhPZ+cflDAJz4OqVxLmhdjHdbT8prHMDgCrV0xMAqQXW1hNhYBZrQwei6p3FK5KNYtgpzktr8rsmyp0omhiKhjHMJhhtyMyf0DfCpzwbzHSMoAAAAASUVORK5CYII="},424:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAYxJREFUWAntV0FKw1AQnT82WRQqtDvFdbdewVN06RFciRUCLiwFI648QjdCT+EV3HYtuEvRgosEE+dFAk2Y3ybgTzcZKM1M3rw3mUk+/xsS+w7DsyRJHg3RRZZlJ4i5MmPMR0b06nneTX86fTe5eBy/ieDIlaiFN/J8/5zx5AcQR00jaDPaDu8QBm12PfNdDwZt3gVo415XQNeBrgNqB2SBiA3zbY/5FD9cI1b3s2yS31NJme+OgyDcuhd+zedEafqwFbNfNshXO3BEtKiya7EqpvA1rBYDXi2gIGrjXy3gh+iyKq7FqpjC17BaDHjzOZvJ/qBs+Qsncyzalien6b0A/TJS95rkqwXotG6i6gjcSOmsXQH6QiTdkt1rMBiPn8xkUnsF1JtMlC2X/ma1upYdkKxmZbOOYDAcPv+HOOTAA76y9J9nLWCzXl+hci2paSzvgPBped1naB2B1i4XMcZZzQVxHU5oMw6KdcAuMNBmnFKFPHIhsIczgjbjiIxTqqw8L22MI9cQLWhC+xfEpII8G45emQAAAABJRU5ErkJggg=="},425:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAW5JREFUWAntlsFOwzAMhu1qrwMSnOAtYOLCk3SDM6IVD8IFTeMp2AleqJqxS5JtrsucCSlCai6J7dj/lyxWh8+0Iig5SgKIdlXy8KI9AUw38P9uoKH12W+dcyyuc7NuoKX1HQF9cv82upDY4pe47LPils8NIEW3QK8ANONCtYYIdi1x2eeFcAEo8XiQBLETjyE/hAuAT3QZTh4V4iwQH2zwyfWgGcH2Qnu17QJY4u0DJ7Y6OdhXI/52gfPHkVhyuwBk9xLnC57GIFLBsGjDfu0f2G4AyXRCuMWlZhaAJPz1yAIYvnYTJ3WHGVVON4BTPJZ3Q7gAGlo9cWWj1Xq9TVRVcx3ylPvQdAEgVF8A2B2m9pY8uGteGd2B3U+ekbXncgHUePNWAd4riPTah92BneyXvD0tc+kCkEwFkcRj1R2EX7zP5ceV9bf8hd7Po6g153yOe+1cAEv0VJ9ou3+CU0WO5U0A0w0UvwEs2YbSId8ezJqOYuBQ4gAAAABJRU5ErkJggg=="},426:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAU5JREFUWAljZCAA2v+v+09ACU5pRgbG/xWMgUw4FQAl8Eri00gtuVEHjIbAaAgMeAgwUlLQUKMsGPAQGHXAaAjgDAFgVTodhClN6YTMwZkNKxmDGEGWU5JNkdsDuMzBGQKU+pxY/SyEFMJCgpA6cuUJhgAw6Cb+//8fHB2kWALS0/F/fSchPQQdADQgr5Nhw2yggcSoBdu3//9+FqCeeUBOKTUcwPCf4X9yJ8P6pSCDCRnY9/8Y50mGD8CW7P8EQmpB8gSDFi31buJm4AjLY/T6ic3w/v/rBX4wMGxiYPhvCzGc+q1iv68MP7fM/L+ZC90B/f93SP5g+H8QZjlIHhgKBD1IdLwiLPzv8p7hz87e/xtkYWLd/zfq/WT4fhTI14OJEUsTjFNsBgF9ZvOL4f8joBzYh38Y/l7Epo4YMTJCgBhjiVcz6oDREBjwEAAAwOJpSUqjPhYAAAAASUVORK5CYII="},427:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAX5JREFUWAlj/Njc/J9hIMFAOgBkN9NAeh5k96gDRkNgNARYKMmGXzs7pf78/i3HxsDwnLOm5iE5ZpHlgM9tbaL//v1b9OfXLw+Qpb+A+FNLyz5eLq5QxqKid6Q4hKw0ALR8McP//2DLGRgZ7zEyMv79//+/0+evXyeSYjlILckO+N/fLwDUpwXEX4AWJ/DX1Cj/Z2QsBRkGpO1BNCmA5ChgLCz8ALRADmYJ0OeMn1ta7EA1GuP//49g4sTSJDsA2WCw5a2tM4CWB4CiAYhrkeWJYZMcBciGfm5tLQY6Ig1sOQNDOG919X5keWLYFDkA6HN3kCVAejZvTc1aYixEV0NRFDAyMTUBDZzKwMx8Hd1gYvmUhcD//4oMf/+mMv/7x0WshejqKAoBYFkwDRj83H///AGVRYHohhPDpygEGBkY9gATIDD7M+4lxjKsaihtE/6fOZPs4KdKm5AxPf0bVp8RKUhRFBBpB15low4YDYHREBjwEGCktCTEm8mJkAQABD53sd5+Ls8AAAAASUVORK5CYII="},428:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAhVJREFUWAm9lulOwkAUhaf1WXCNStwIavzhGmOMxrihj+JSTFqsPgpv4Wv4Fmw/JHSuR5Lb2NJhpqWUhEw7c++Z75wuIMQEn9bnZ6nruo8TSAh7kmbr5+dVEjnUbM5k1ckM0G40ZoVl1UiIUvv7+6FwAAoCh4iGzi2iJxxnMpOpCe7nLSHu2TVSmOt5Xo3P04yZAIbuRfT+kUI8Z0khNUDn42MB7m/jLrH5PFK4i8/rzlMDyH6/jsgT+7KkkCikou74/hLcX6vWkcJi1/NuVOtJ86kAaDBwVO5ZHBAv+ILT7GMM0PX9ZUgq3fN2AFxCCto6rjcGkH/uDZ2lScEIAI5WQHzF1LoRKSyjx6jeCADv+7qpe4YzTUELACdliF6ysOmIFFY7nqft0wJkcc+QgHjlY9U4FgBvtjVEeaFq1s4TlduuO7Z/LECAa6/dRFOgS0EJ0Ht/X4f7c42+fploDSkodZQAQRC86dXNKsalkAgA95twf2Ymb1BFtNHyvES9RIA83Yd4RIlPxAhAq9GowP1p2JjXAdEWUhjRHQEQUuZ27ePslpROfC4CgP96VUF0Ei/K6xw3YwVv1oh+BICkrOe1mUpHxlIIAfCsbsP9saoxr3mkUEUKR6wXAmBhateeN+PxfwpDALjfhftDLpj2CLM7SOHgbx9OoDD3bI5TsDquu4ef3C9eKHK0bXvfLvLax83hqXN+AWhR9c/gEiSNAAAAAElFTkSuQmCC"},429:function(e,t,n){},503:function(e,t,n){},505:function(e,t,n){},533:function(e,t,n){},535:function(e,t,n){e.exports=n.p+"static/media/menu.25a60c04.svg"},536:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),i=n(21),o=n.n(i),c=n(22),l=n(58),u=n(4),s=n(12),A="##################\n#                #\n#                #\n#                #\n#                #\n#                #\n#     ###?#      #\n#                #\n#    P       G   #\n##################",m="P = Player\n# = Brick\n? = QuestionBrick\nG = Goomba",f="// Accelerate down, like gravity\n{ Player } -> { DOWN Player }\n{ Goomba } -> { DOWN Goomba }\n\n// Move sideways with <LEFT> and <RIGHT> arrow keys\n{ <HORIZONTAL> Player } -> { HORIZONTAL Player }\n\n// Jump when <UP> is pressed and when the bottom of Player\n// is touching Wall (Wall = anything)\nDOWN { <UP> Player | Wall } -> { JUMP Player | Wall }\n\n// Player dies if touching Goomba on the side\nHORIZONTAL { Player | Goomba } -> { DEAD Player | Goomba }\n\n// Jumping on top of Goomba kills the Goomba\nDOWN { Player | Goomba } -> { Player | DEAD Goomba }\n\n// Break bricks by head-butting\nUP { Player | Brick } -> { Player | DEAD Brick }\n\n// Head-butting QuestionBrick turns it into another Player\nUP { Player | QuestionBrick } -> { Player | JUMP Player }",p={level:s.a.deserialize(A),legend:s.a.deserialize(m),rules:s.a.deserialize(f)},g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"UPDATE_LEVEL":return Object(u.a)({},e,{level:t.level});case"UPDATE_LEGEND":return Object(u.a)({},e,{legend:t.legend});case"UPDATE_RULES":return Object(u.a)({},e,{rules:t.rules});case"LOAD_SUCCESS":case"LOAD_PRESET":return Object(u.a)({},e,{level:t.level,legend:t.legend,rules:t.rules});default:return e}},d=n(19),v=n(8),y=n(24),h=n(95),b=n.n(h),E=n(30),O="top",w="left",j="right",N=function(e,t,n){return{name:e,position:{x:t,y:n},prevPosition:{x:t,y:n},velocity:{x:0,y:0},maxVelocity:{x:20,y:20},acceleration:{x:0,y:0},friction:.15,colliding:{top:[],bottom:[],left:[],right:[]},static:!1,inputs:{}}},C=function(e){var t=e.trim();if(!M(t))return e;var n=t.indexOf("{"),r=t.lastIndexOf("}");return t.substr(n+1,r-1).trim()},S={UP:{acceleration:{y:-1}},DOWN:{acceleration:{y:1}},LEFT:{acceleration:{x:-1}},RIGHT:{acceleration:{x:1}},FAST_UP:{acceleration:{y:-6}},FAST_DOWN:{acceleration:{y:6}},FAST_LEFT:{acceleration:{x:-6}},FAST_RIGHT:{acceleration:{x:6}},SLOW_UP:{acceleration:{y:-.5}},SLOW_DOWN:{acceleration:{y:.5}},SLOW_LEFT:{acceleration:{x:-.5}},SLOW_RIGHT:{acceleration:{x:.5}},JUMP:{velocity:{y:-150}},DEAD:{dead:!0},STATIC:{static:!0},STATIONARY:{velocity:{x:0,y:0}},WIN:{win:!0}},x={"<UP>":"up","<DOWN>":"down","<LEFT>":"left","<RIGHT>":"right","<ACTION>":"action1","<ACTION1>":"action1","<ACTION2>":"action2"},k=function e(t,n,r,a){var i="forward"===n?a+1:a-1;if(!(i<0||i===r.length)){var o=r[i];o||console.error("Expecting there to always be a state here");var c=[Object(u.a)({},o)],l=e(t,n,r,i);return l&&(c.colliding=Object(d.a)({},t,l)),c}},P=function(e,t,n){var r={},a=function(e){return{left:"left",right:"right",down:"bottom",up:"top"}[e]}(e),i=function(e){return{left:"right",right:"left",top:"bottom",bottom:"top",up:"down",down:"up",forward:"backward"}[e]}(a),o=k(a,"forward",t,n),c=k(i,"backward",t,n);return c&&(r[i]=c),o&&(r[a]=o),o||c?r:void 0},T=function e(t,n){var r=t.map(function(t){if(n[t])return{name:t};if(x[t])return{inputs:Object(d.a)({},x[t],!0)};if(S[t])return Object(u.a)({},S[t]);if(t.includes(":")){var r=t.split(":"),a=Object(v.a)(r,2),i=a[0],o=a[1],c=Number(o.trim());if("number"===typeof c&&!isNaN(c))return Object(d.a)({},i,c);var l=e([o.trim()],n);return Object(d.a)({},i,Object(u.a)({},l))}return{}}),a={},i=!0,o=!1,c=void 0;try{for(var l,s=r[Symbol.iterator]();!(i=(l=s.next()).done);i=!0){var A=l.value;Object(E.merge)(a,A)}}catch(m){o=!0,c=m}finally{try{i||null==s.return||s.return()}finally{if(o)throw c}}return a},U=/^\b[a-z_]+\b\s{0,1}[:]/i,I=/^[<]{0,1}[a-z_]+[0-9a-z_]*[>]{0,1}/i,D=/^\{/i,B=/^[-]{0,1}[0-9]*[.]{0,1}[0-9]+/,L=function(e){return Boolean(e.match(I))},R=function(e){return Boolean(e.match(U))},M=function(e){return Boolean(e.match(D))},G=function(e){return Boolean(e.match(B))},F=function(e){var t=e.trim();if(M(t))return function(e){for(var t=0,n=0;n<e.length;n++){var r=e.charAt(n);if(t<0&&console.error("more closing brackets than opening brackets"),"{"===r)t++;else if("}"===r)t--;else if(" "===r&&0===t)return[e.slice(0,n+1).trim(),e.slice(n+1).trim()]}return 0!==t&&console.error("unclosed brackets"),[e,""]}(t);if(R(t))return function(e){for(var t=e.match(U),n=Object(v.a)(t,1)[0],r=n.trim().replace(":",""),a=e.replace(n,"").trim(),i=0,o=0;o<a.length;o++){var c=a.charAt(o);if(i<0&&console.error("more closing brackets than opening brackets"),"{"===c)i++;else if("}"===c)i--;else if(" "===c&&0===i){var l=a.slice(0,o+1).trim(),u=a.slice(o+1).trim();return["".concat(r,": ").concat(l),u]}}return 0!==i&&console.error("unclosed brackets"),["".concat(r,": ").concat(a),""]}(t);if(L(t)){var n=t.match(I),r=Object(v.a)(n,1)[0];return[r.trim(),t.replace(r,"")]}if(G(t)){var a=t.match(B),i=Object(v.a)(a,1)[0];return[i,t.replace(i,"")]}console.error("made it to the end without returning anything:",t)},Q=function e(t){var n=F(t),r=Object(v.a)(n,2),a=r[0],i=r[1];return 0===i.length?[a]:[a].concat(Object(y.a)(e(i)))},H=function e(t,n){var r=Q(t);if(0===r.length)console.error("No word groups");else if(1===r.length){var a=Object(v.a)(r,1)[0];return R(a)?function(e,t){var n=e.split(/:(.+)/),r=Object(v.a)(n,2),a=r[0],i=r[1];if(M(i.trim())){var o=C(i.trim()),c=H(o,t);return Object(d.a)({},a,Object(u.a)({},c))}var l=H(i.trim(),t);return Object(d.a)({},a,l)}(a,n):L(a)?T([a],n):G(a)?parseFloat(a):(console.error("not dealing with:",r),{})}var i=[],o=!0,c=!1,l=void 0;try{for(var s,A=r[Symbol.iterator]();!(o=(s=A.next()).done);o=!0){var m=s.value;i.push(e(m,n))}}catch(y){c=!0,l=y}finally{try{o||null==A.return||A.return()}finally{if(c)throw l}}for(var f={},p=0;p<i.length;p++){var g=i[p];Object(E.merge)(f,g)}return f},Y=function(e,t){if(0===e.length)return[];var n={},r=!0,a=!1,i=void 0;try{for(var o,c=t[Symbol.iterator]();!(r=(o=c.next()).done);r=!0){var l=o.value,u=!0,s=!1,A=void 0;try{for(var m,f=e[Symbol.iterator]();!(u=(m=f.next()).done);u=!0){var p=m.value,g=Object(v.a)(p,2),d=g[0],y=g[1];Object(E.matches)(d)(l)&&(n[l.id]||(n[l.id]=[]),n[l.id].push(y))}}catch(h){s=!0,A=h}finally{try{u||null==f.return||f.return()}finally{if(s)throw A}}}}catch(h){a=!0,i=h}finally{try{r||null==c.return||c.return()}finally{if(a)throw i}}return n},W=function(e){return!e.dead},z=function(e){return void 0!==Object(v.a)(e,2)[1].createNew},V=function(e){return e.includes("|")},J=function(e){return e.includes("->")&&!V(e)},_=function(e){return e.match(/#.+#/g)},K=function(e){return e.includes("=")},X=function(e){return e.match(/=[ ]{0,1}\{/g)},q={ALL:["UP","DOWN","LEFT","RIGHT"],HORIZONTAL:["LEFT","RIGHT"],VERTICAL:["UP","DOWN"]},Z=function e(t,n,r){var a=t.replace(n,r);return a.includes(n)?e(a,n,r):a},$=function(e,t){for(var n=Object.keys(t),r=0;r<n.length;r++){var a=n[r];if(e.includes(a))return!0}return!1},ee=function e(t,n){var r=t.filter(function(e){return!$(e,n)}),a=Object(E.flatten)(t.filter(function(e){return $(e,n)}).map(function(e){return function(e,t){for(var n=[],r=Object.entries(t),a=0;a<r.length;a++){var i=r[a],o=Object(v.a)(i,2),c=o[0],l=o[1];if(e.includes(c)){var u=!0,s=!1,A=void 0;try{for(var m,f=l[Symbol.iterator]();!(u=(m=f.next()).done);u=!0){var p=m.value;n.push(Z(e,c,p))}}catch(g){s=!0,A=g}finally{try{u||null==f.return||f.return()}finally{if(s)throw A}}return n}}return n}(e,n)}));return 0===a.length?t:Object(y.a)(r).concat(Object(y.a)(e(a,n)))},te=function(e){var t=e.split("{"),n=e;return""===Object(v.a)(t,1)[0]&&(n=e.replace("{","ALL {")),n},ne=function(e,t,n){var r,a,i,o=n,c=Object(u.a)({},o,q),l=(r=e.split("\n").filter(J),ee(r,c).map(function(e){return function(e,t){var n=e.split("->"),r=Object(v.a)(n,2),a=r[0],i=r[1];return[H(C(a),t),H(C(i),t)]}(e,t)})),s=(i=e.split("\n").filter(V).map(te),a=ee(i,c).map(function(e){return function(e,t){var n=e.match(/^([A-Z]+)\b/),r=Object(v.a)(n,1)[0],a=r.toLowerCase(),i=e.replace(r,"").split("->"),o=Object(v.a)(i,2),c=o[0],l=o[1],s=C(c).split("|").map(function(e){return Q(e)}),A=C(l).split("|").map(function(e){return Q(e)}),m=[],f=[],p=!0,g=!1,d=void 0;try{for(var y,h=s[Symbol.iterator]();!(p=(y=h.next()).done);p=!0){var b=y.value,O=Object(u.a)({},T(b,t));m.push(O)}}catch(J){g=!0,d=J}finally{try{p||null==h.return||h.return()}finally{if(g)throw d}}var w=m.map(function(e,t){return P(a,m,t)?Object(u.a)({},e,{colliding:P(a,m,t)}):e}),j=0,S=!0,x=!1,k=void 0;try{for(var U,I=A[Symbol.iterator]();!(S=(U=I.next()).done);S=!0){var D=U.value,B=s[j],L={};if(B){var R=D.map(function(e){return H(e,t)}),M=!0,G=!1,F=void 0;try{for(var Y,W=R[Symbol.iterator]();!(M=(Y=W.next()).done);M=!0){var z=Y.value;Object(E.merge)(L,z)}}catch(J){G=!0,F=J}finally{try{M||null==W.return||W.return()}finally{if(G)throw F}}}else{var V=N("TEMP_NAME",0,0);L=Object(u.a)({},V,{createNew:{direction:a}},T(D,t)),w.push(Object(u.a)({},m[0]))}f.push(L),j+=1}}catch(J){x=!0,k=J}finally{try{S||null==I.return||I.return()}finally{if(x)throw k}}return w.map(function(e,t){return[e,f[t]]})}(e,t)}),Object(E.flatten)(a)),A=s.filter(z),m=s.filter(function(e){return!z(e)});return{modify:Object(y.a)(l).concat(Object(y.a)(m)),create:A}},re=function(e){return Object(u.a)({},e,{position:{x:Math.round(e.position.x),y:Math.round(e.position.y)}})},ae=function(e){return{top:e.position.y,bottom:e.position.y+32,left:e.position.x,right:e.position.x+32}},ie=function(e,t){var n=ae(e),r=ae(t);return n.bottom>r.top&&n.top<r.bottom&&n.right>r.left&&n.left<r.right},oe=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=e.x,a=e.y,i=ae(t),o=i.top,c=i.bottom,l=i.left,u=i.right;return a>o-n&&a<c+n&&r>l-n&&r<u+n},ce=function(e,t,n){var r=function(e,t){return e===w?[{x:t.position.x,y:t.position.y+5},{x:t.position.x,y:t.position.y+32-5}]:e===j?[{x:t.position.x+32,y:t.position.y+5},{x:t.position.x+32,y:t.position.y+32-5}]:e===O?[{x:t.position.x+5,y:t.position.y},{x:t.position.x+32-5,y:t.position.y}]:"bottom"===e?[{x:t.position.x+5,y:t.position.y+32},{x:t.position.x+32-5,y:t.position.y+32}]:void 0}(e,t),a=!0,i=!1,o=void 0;try{for(var c,l=r[Symbol.iterator]();!(a=(c=l.next()).done);a=!0){var u=c.value;if(oe(u,n,1))return!0}}catch(s){i=!0,o=s}finally{try{a||null==l.return||l.return()}finally{if(i)throw o}}return!1},le=function(e,t){var n=ae({position:Object(u.a)({},e.prevPosition)}),r=ae({position:Object(u.a)({},t.prevPosition)}),a={top:!1,bottom:!1,left:!1,right:!1};return n.top>=r.bottom?a.top=!0:n.bottom<=r.top&&(a.bottom=!0),n.left>=r.right?a.left=!0:n.right<=r.left&&(a.right=!0),a},ue=function(e,t,n){var r=ae(n),a=Object(u.a)({},t.velocity,Object(d.a)({},{left:"x",right:"x",top:"y",bottom:"y"}[e],0)),i=Object(u.a)({},t.position);return e===O?i.y=r.bottom:"bottom"===e?i.y=r.top-32:e===w?i.x=r.right:e===j&&(i.x=r.left-32),{position:i,velocity:a}},se=function(e,t){if(e.static)return e;var n=!0,r=!1,a=void 0;try{for(var i,o=t[Symbol.iterator]();!(n=(i=o.next()).done);n=!0){var c=i.value;if(e.id!==c.id&&ie(e,c)){var l=le(e,c),s=Object(u.a)({},e);return l.top?s=Object(u.a)({},s,ue(O,e,c)):l.bottom&&(s=Object(u.a)({},s,ue("bottom",e,c))),ie(s,c)&&(l.left?s=Object(u.a)({},s,ue(w,e,c)):l.right&&(s=Object(u.a)({},s,ue(j,e,c)))),s}}}catch(A){r=!0,a=A}finally{try{n||null==o.return||o.return()}finally{if(r)throw a}}return e},Ae=function(e){return Object(u.a)({},e,{prevPosition:Object(u.a)({},e.position)})},me=function(e){var t=e.velocity,n=e.maxVelocity,r=e.acceleration;return Object(u.a)({},e,{velocity:{x:Math.max(Math.min(t.x+r.x,n.x),-n.x),y:Math.max(Math.min(t.y+r.y,n.y),-n.y)},acceleration:{x:0,y:0}})},fe=function(e){return Object(u.a)({},e,{position:{x:e.position.x+e.velocity.x,y:e.position.y+e.velocity.y}})},pe=function(e){return Object(u.a)({},e,{colliding:{top:[],bottom:[],left:[],right:[]}})},ge=function(e){return Math.abs(e)>1e-4?e:0},de=function(e){var t=e.velocity.x*(1-e.friction),n=e.velocity.y*(1-e.friction);return Object(u.a)({},e,{velocity:{x:ge(t),y:ge(n)}})},ve={currentView:"game",sprites:[],legend:{},names:{},width_in_tiles:0,height_in_tiles:0,active:!1,theme:"dark",debug:!1,imageMap:{},rules:{regular:[],collisionCreate:[],collisionModify:[]},stateTransitions:{regular:{}},images:["player","brick","questionbrick","spike","goomba","goombared"]},ye=function(e){return e.split("\n").filter(function(e){return!e.includes("//")}).join("\n")},he=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ve,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"SET_ACTIVE":return Object(u.a)({},t,{active:n.active});case"TOGGLE_DEBUG":return Object(u.a)({},t,{debug:!t.debug});case"SELECT_IMAGE":var r=Object(u.a)({},t.imageMap),a=n.variableName,i=n.imageName;return r[a]=i,Object(u.a)({},t,{imageMap:r});case"COMPILE":try{var o,c,l,A=s.a.serialize,m=(o=A(n.level),ye(o).split("\n").filter(_).slice(1,-1).map(function(e){return e.slice(1,-1)})),f=(c=A(n.legend),function(e){var t={};return e.split("\n").filter(K).forEach(function(e){var n=e.split("=").map(function(e){return e.trim()}),r=Object(v.a)(n,2),a=r[0],i=r[1].split(" or ");t[a]=function(){var e=Math.floor(Math.random()*i.length);return i[e]}}),t}(ye(c))),p=function(e,t){var n=[];return e.map(function(e,r){return e.split("").forEach(function(e,a){var i=t[e];if(i&&"Empty"!==i()){var o=32*a,c=32*r;n.push(Object(u.a)({id:b()()},N(i(),o,c)))}})}),n}(m,f),g=function(e){var t=e.split("\n").filter(K).map(function(e){var t=e.split(" = ");return Object(v.a)(t,2)[1].split(" or ")});return Object(E.flatten)(t)}(A(n.legend)),h=g.reduce(function(e,t){return e[t]=!0,e},{}),S=function(e){var t=e.split("\n").filter(X),n={},r=!0,a=!1,i=void 0;try{for(var o,c=t[Symbol.iterator]();!(r=(o=c.next()).done);r=!0){var l=o.value.split(" = "),u=Object(v.a)(l,2),s=u[0],A=u[1];n[s]=[C(A)]}}catch(m){a=!0,i=m}finally{try{r||null==c.return||c.return()}finally{if(a)throw i}}return n}(A(n.rules)),x=Object(u.a)({},t.imageMap),k=!0,P=!1,T=void 0;try{for(var U,I=g[Symbol.iterator]();!(k=(U=I.next()).done);k=!0){var D=U.value;if(!x[D]){var B=t.images.includes(D.toLowerCase());x[D]=B?D.toLowerCase():"player"}}}catch(J){P=!0,T=J}finally{try{k||null==I.return||I.return()}finally{if(P)throw T}}var L=ne((l=A(n.rules),ye(l)),h,S),R=function(e){return[e[0].length,e.length]}(m),M=Object(v.a)(R,2),G=M[0],F=M[1];return Object(u.a)({},ve,{sprites:p,legend:f,rules:L,width:32*G,height:32*F,names:h,imageMap:x})}catch(J){return console.error(J),Object(u.a)({},ve,{error:"Compilation error \ud83d\ude1e"})}case"UPDATE":if("game"!==t.currentView)return t;Object(u.a)({},t);var Q=function(e,t){var n,r,a,i=[],o=!0,c=!1,l=void 0;try{for(var s,A=e[Symbol.iterator]();!(o=(s=A.next()).done);o=!0){var m=s.value,f=!0,p=!1,g=void 0;try{for(var d,y=t[Symbol.iterator]();!(f=(d=y.next()).done);f=!0){var h=d.value,O=Object(v.a)(h,2),w=O[0],j=O[1];Object(E.matches)(w)(m)&&i.push(Object(u.a)({},j,{id:b()(),position:(n=m.position,a=j.createNew.direction,r={up:{x:0,y:-32},down:{x:0,y:32},left:{x:-32,y:0},right:{x:32,y:0}}[a],{x:n.x+r.x,y:n.y+r.y}),createNew:void 0}))}}catch(J){p=!0,g=J}finally{try{f||null==y.return||y.return()}finally{if(p)throw g}}}}catch(J){c=!0,l=J}finally{try{o||null==A.return||A.return()}finally{if(c)throw l}}return i}(t.sprites,t.rules.create),H={modify:Y(t.rules.modify,t.sprites),create:Y(t.rules.create,t.sprites)},z=t.sprites.filter(function(e){return Boolean(e.win)}),V=(e=function(e,t){return Object(y.a)(e).concat(Object(y.a)(t))}(t.sprites.filter(W),Q).map(pe).map(function(e){return function(e,t,n,r){if(e.static)return e;var a=Object(u.a)({},e.colliding),i=!0,o=!1,c=void 0;try{for(var l,s=t[Symbol.iterator]();!(i=(l=s.next()).done);i=!0){var A=l.value;if(e.id!==A.id)for(var m=[O,"bottom",w,j],f=0;f<m.length;f++){var p=m[f];if(ce(p,e,A)){var g=Object(u.a)({},A);g.colliding=void 0,a[p].push(g)}}}}catch(J){o=!0,c=J}finally{try{i||null==s.return||s.return()}finally{if(o)throw c}}return e.position.x<1&&a.left.push({name:"Wall"}),e.position.x>n-32-1&&a.right.push({name:"Wall"}),e.position.y<1&&a.top.push({name:"Wall"}),e.position.y>r-32-1&&a.bottom.push({name:"Wall"}),Object(u.a)({},e,{colliding:a})}(e,t.sprites,t.width,t.height)}).map(Ae),function(e,t){return t.map(function(t){var n=e[t.id];if(n){var r=Object(u.a)({},t),a=!0,i=!1,o=void 0;try{for(var c,l=n[Symbol.iterator]();!(a=(c=l.next()).done);a=!0){var s=c.value;r=Object(E.mergeWith)(t,s)}}catch(J){i=!0,o=J}finally{try{a||null==l.return||l.return()}finally{if(i)throw o}}return r}return t})}(H.modify,e).map(de).map(me).map(fe).map(function(e){return se(e,t.sprites)}).map(function(e){return se(e,t.sprites)}).map(function(e){return se(e,t.sprites)}).map(function(e){return function(e,t,n){if(e.static)return e;var r=Object(u.a)({},e.position);return e.position.y>n-32&&(r.y=n-32),e.position.y<0&&(r.y=0),e.position.x>t-32&&(r.x=t-32),e.position.x<0&&(r.x=0),Object(u.a)({},e,{position:r})}(e,t.width,t.height)}).map(re));return Object(u.a)({},t,{sprites:V,stateTransitions:H,currentView:z.length>0?"menu":t.currentView});case"SET_INPUT":return Object(u.a)({},t,{sprites:t.sprites.map(function(e){return Object(u.a)({},e,{inputs:Object(u.a)({},e.inputs,Object(d.a)({},n.input,!0))})})});case"TOGGLE_THEME":return Object(u.a)({},t,{theme:"light"===t.theme?"dark":"light"});case"CANCEL_INPUT":return Object(u.a)({},t,{sprites:t.sprites.map(function(e){var t=Object(u.a)({},e.inputs);return t[n.input]=void 0,Object(u.a)({},e,{inputs:t})})});default:return t}},be=[[[0,1,1,0],[1,1,1,1],[1,1,1,1],[0,1,1,0]],[[0,1,1,0],[1,0,0,1],[1,0,0,1],[0,1,1,0]]],Ee=["tile0","tile1","tile2","tile3"],Oe=function(e){var t=document.createElement("canvas");t.width=128,t.height=128;var n=t.getContext("2d");return e.forEach(function(t,r){return e[r].forEach(function(a,i){var o=Ee[e[r][i]],c=new Image(32,32);c.onload=function(){console.log("loaded"),n.drawImage(c,32*a,32*t)},c.src="../Game/images/tiles/".concat(o,".png")})}),t.toDataURL()},we={tileSets:be,open:!1,images:be.map(function(e){return Oe(e)}),tileImages:Ee},je=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:we,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"spriteEditor/SET_OPEN":return Object(u.a)({},e,{open:t.open});case"spriteEditor/UPDATE_TILESETS":return Object(u.a)({},e,{tileSets:t.tileSets,images:t.tileSets.map(function(e){return Oe(e)})});default:return e}},Ne=Object(l.b)({code:g,game:he,spriteEditor:je}),Ce=(n(332),n(334),n(211)),Se=n(137),xe=(n(416),Se.initializeApp({apiKey:"AIzaSyBHLFHOl9TSm557CTNB0IARouvjID9eVmA",authDomain:"micro-gg.firebaseapp.com",databaseURL:"https://micro-gg.firebaseio.com",projectId:"micro-gg",storageBucket:"micro-gg.appspot.com",messagingSenderId:"53073229739"}));Se.firestore().enablePersistence().catch(function(e){"failed-precondition"===e.code||e.code});var ke=xe,Pe=n(214),Te=n(215),Ue=(n(417),n(418),function(e){var t=e.sprite;return a.a.createElement("div",{className:"debug-colliding"},Object.entries(t.colliding).map(function(e,t){var n=Object(v.a)(e,2),r=n[0],i=n[1];return a.a.createElement("p",{className:"number ".concat(r," ").concat(i.length>0&&"active")},i.length)}))}),Ie=(n(420),function(e,t){return{position:"relative",left:e,top:t}}),De=function(e){var t=e.x,r=e.y,i=e.img,o=e.sprite,c=e.debug;return a.a.createElement("div",{className:"sprite",style:Ie(t,r)},a.a.createElement("img",{src:n(125)("./".concat(i,".png")),alt:""}),c&&a.a.createElement(Ue,{sprite:o}))},Be=function(e){var t=e.sprites,n=e.width,r=e.height,i=e.imageMap,o=e.error,c=e.debug;return a.a.createElement("div",{className:"stage",style:{width:n,height:r}},o&&a.a.createElement("p",{className:"error"},o),t.map(function(e){return a.a.createElement(De,{key:e.id,x:e.position.x,y:e.position.y,img:i[e.name]||"player",sprite:e,debug:c})}))},Le=(n(429),function(e){var t=e.width,n=e.height,r=e.play;return a.a.createElement("div",{className:"menu",style:{width:t,height:n}},a.a.createElement("h1",{className:"title"},"Tiny game"),a.a.createElement("button",{className:"inverted",onClick:r},"Play again"))}),Re=Object(c.b)(null,function(e){return{onTimeChange:function(){e({type:"UPDATE"})}}})(function(e){var t,n=e.onTimeChange;return Object(r.useEffect)(function(){return t=requestAnimationFrame(function(){return function e(){n(),t=requestAnimationFrame(function(){return e()})}()}),function(){cancelAnimationFrame(t)}},[]),a.a.createElement("p",null)}),Me=n(216),Ge=n.n(Me),Fe=n(98),Qe=n(219),He=n.n(Qe),Ye=Object(c.b)(function(e){var t=e.game;return{imageMap:t.imageMap,images:t.images}},function(e){return{onSelect:function(t,n){e({type:"SELECT_IMAGE",variableName:t,imageName:n})}}})(function(e){var t=e.variableName,r=e.imageMap,i=e.images,o=e.onSelect;if(0===Object.keys(r).length)return null;var c=r[t]?r[t]:"player";return a.a.createElement(He.a,{interactive:!0,className:"tooltip",title:a.a.createElement("div",{className:"tooltip-content"},i.map(function(e){return a.a.createElement("img",{key:e,alt:"",src:n(125)("./".concat(e,".png")),onClick:function(){return o(t,e)}})}))},a.a.createElement("img",{className:"code-sprite",alt:"",src:n(125)("./".concat(c,".png"))}))}),We={comment:/\/\/.*/,variable:[{pattern:new RegExp("[^ ]{1} = ([A-Z]+) ","i")}]},ze=function e(t){return"string"==typeof t?t:"string"==typeof t.content?t.content:t.content.map(e).join("")},Ve=function(e,t,n){var r=n()||[],a=e.getTexts().toArray(),i=a.map(function(e){return e.text}).join("\n");if(1!==a.length)return r;var o=Ge.a.tokenize(i,We),c=[],l=a.shift(),u=l,s=0,A=0,m=0,f=!0,p=!1,g=void 0;try{for(var d,v=o[Symbol.iterator]();!(f=(d=v.next()).done);f=!0){var h=d.value;l=u,s=A;var b=ze(h),E=b.split("\n").length-1,O=b.length-E,w=m+O,j=l.text.length-s,N=O;for(A=s+N;j<N&&a.length>0;)u=a.shift(),N=O-j,j=u.text.length,A=N;if("string"!=typeof h){var C={anchor:{key:l.key,offset:s},focus:{key:u.key,offset:A},mark:{type:h.type}};c.push(C)}m=w}}catch(S){p=!0,g=S}finally{try{f||null==v.return||v.return()}finally{if(p)throw g}}return Object(y.a)(r).concat(c)},Je=function(e,t,n){var r=e.children,i=e.attributes,o=e.node;switch(e.mark.type){case"variable":var c=o.text.split("=").map(function(e){return e.trim()}),l=Object(v.a)(c,2),u=(l[0],l[1].split(" or "));return a.a.createElement("span",i,r,a.a.createElement(Ye,{variableName:u[0]}));case"comment":return a.a.createElement("span",Object.assign({},i,{style:{opacity:"0.33"}}),r);case"keyword":return a.a.createElement("span",Object.assign({},i,{style:{fontWeight:"bold"}}),r);default:return n()}},_e=Object(c.b)(function(e){var t=e.code,n=e.game;return{level:t.level,legend:t.legend,rules:t.rules,width:n.width,height:n.height,imageMap:n.imageMap}},function(e){return{onUpdateRules:function(t){var n=t.value;e({type:"UPDATE_RULES",rules:n})},onUpdateLevel:function(t){var n=t.value;e({type:"UPDATE_LEVEL",level:n})},onUpdateLegend:function(t){var n=t.value;e({type:"UPDATE_LEGEND",legend:n})},compile:function(t,n,r){e({type:"COMPILE",level:t,legend:n,rules:r})}}})(function(e){var t=e.level,n=e.legend,i=e.rules,o=(e.imageMap,e.onUpdateRules),c=e.onUpdateLevel,l=e.onUpdateLegend,s=e.compile;Object(r.useEffect)(function(){s(t,n,i)},[]);var A=Object(r.useState)({level:!0,legend:!0,rules:!0}),m=Object(v.a)(A,2),f=m[0],p=m[1],g=function(e){p(Object(u.a)({},f,Object(d.a)({},e,!f[e])))};return a.a.createElement(r.Fragment,null,a.a.createElement("button",{className:"primary collapsible",onClick:function(){return g("level")}},"Level"),f.level&&a.a.createElement(Fe.a,{className:"code level",value:t,onChange:c,decorateNode:Ve,renderMark:function(e,t,n){return Je(e,0,n)},spellCheck:!1}),a.a.createElement("button",{className:"primary collapsible",onClick:function(){return g("legend")}},"Legend"),f.legend&&a.a.createElement(Fe.a,{className:"code legend",value:n,onChange:l,decorateNode:Ve,renderMark:function(e,t,n){return Je(e,0,n)},spellCheck:!1}),a.a.createElement("button",{className:"primary collapsible",onClick:function(){return g("rules")}},"Rules"),f.rules&&a.a.createElement(Fe.a,{className:"code rules",value:i,onChange:o,decorateNode:Ve,renderMark:function(e,t,n){return Je(e,0,n)},spellCheck:!1}))}),Ke=n(220),Xe=n.n(Ke),qe=(n(503),function(e,t){return{position:"relative",left:e,top:t}}),Ze=function(e){var t=e.x,r=e.y,i=e.img,o=e.onClick;return a.a.createElement("div",{className:"tile",style:qe(t,r)},a.a.createElement("img",{src:n(202)("./".concat(i,".png")),alt:"",onClick:function(){return o()}}))},$e=(n(505),function(e){var t=e.images,n=(e.tileSets,e.selectedTileSet),r=e.onSelect;return a.a.createElement("div",{className:"image-list"},t.map(function(e,t){return a.a.createElement("img",{src:e,alt:"",className:"image ".concat(t===n&&"selected"),onClick:function(){return r(t)}})}))}),et=function(e){var t=e.tiles,n=e.selectedTile,r=e.tileImages,i=e.onSelect;return a.a.createElement("div",{className:"preview"},t.map(function(e,t){return e.map(function(e,o){return a.a.createElement(Ze,{img:r[e],x:32*o,y:32*t,onClick:function(){return i(t,o,n)}})})}))},tt=function(e){var t=e.selectedTile,r=e.tileImages,i=e.onSelect;return a.a.createElement("div",{className:"picker"},r.map(function(e,r){return a.a.createElement("img",{key:e,alt:"",className:r===t?"selected":"",src:n(202)("./".concat(e,".png")),onClick:function(){return i(r)}})}))},nt=Object(c.b)(function(e){e.game;var t=e.spriteEditor;return{open:t.open,tileImages:t.tileImages,images:t.images,tileSets:t.tileSets}},function(e){return{updateTileSets:function(t){e({type:"spriteEditor/UPDATE_TILESETS",tileSets:t})}}})(function(e){var t=e.tileSets,n=e.tileImages,i=e.images,o=e.open,c=e.updateTileSets,l=e.onClose,u=Object(r.useState)(0),s=Object(v.a)(u,2),A=s[0],m=s[1],f=Object(r.useState)(0),p=Object(v.a)(f,2),g=p[0],d=p[1],h=t[A];return a.a.createElement(Xe.a,{open:o,onClose:l},a.a.createElement("div",{className:"container"},a.a.createElement("div",{className:"left"},a.a.createElement($e,{images:i,tileSets:t,selectedTileSet:A,onSelect:m})),a.a.createElement("div",{className:"right"},a.a.createElement(et,{tiles:h,tileImages:n,selectedTile:g,onSelect:function(e,n,r){var a=Object(y.a)(t);a[A][e][n]=r,c(a)}}),a.a.createElement(tt,{tileImages:n,selectedTile:g,onSelect:d}))))}),rt=n(226),at={simple_movement:{level:"\n##################\n#                #\n#                #\n#       P        #\n#       #        #\n#      ###       #\n#     #####      #\n#                #\n#                #\n##################",legend:"\nP = Player\n# = Brick",rules:"\n// Accelerate down, like gravity\n{ Player } -> { DOWN Player }\n\n// Move sideways with <LEFT> and <RIGHT> arrow keys\n{ <HORIZONTAL> Player } -> { HORIZONTAL Player }\n"},simple_platformer:{level:"\n##################\n#                #\n#                #\n#                #\n#                #\n#                #\n#     ###?#      #\n#                #\n#    P       G   #\n##################",legend:"\nP = Player\n# = Brick\n? = QuestionBrick\nG = Goomba",rules:"\n// Accelerate down, like gravity\n{ Player } -> { DOWN Player }\n{ Goomba } -> { DOWN Goomba }\n\n// Move sideways with <LEFT> and <RIGHT> arrow keys\n{ <HORIZONTAL> Player } -> { HORIZONTAL Player }\n\n// Jump when <UP> is pressed and when the bottom of Player\n// is touching Wall (Wall = anything)\nDOWN { <UP> Player | Wall } -> { JUMP Player | Wall }\n\n// Player dies if touching Goomba on the side\nHORIZONTAL { Player | Goomba } -> { DEAD Player | Goomba }\n\n// Jumping on top of Goomba kills the Goomba\nDOWN { Player | Goomba } -> { Player | DEAD Goomba }\n\n// Break bricks by head-butting\nUP { Player | Brick } -> { Player | DEAD Brick }\n\n// Head-butting QuestionBrick turns it into another Player\nUP { Player | QuestionBrick } -> { Player | JUMP Player }\n"},four_way_movement:{level:"\n###############\n#             #\n#             #\n#             #\n#      P      #\n#             #\n#             #\n###############",legend:"\nP = Player\n# = Brick",rules:"\n{ <HORIZONTAL> Player } -> { HORIZONTAL Player }\n{ <VERTICAL> Player } -> { VERTICAL Player }"}},it=Object(c.b)(function(){return{}},function(e){return{loadPreset:function(t,n,r){var a=s.a.deserialize(t),i=s.a.deserialize(n),o=s.a.deserialize(r);e({type:"LOAD_PRESET",level:a,legend:i,rules:o}),e({type:"COMPILE",level:a,legend:i,rules:o})}}})(function(e){var t=e.loadPreset,n=Object(r.useState)(!1),i=Object(v.a)(n,2),o=i[0],c=i[1];return o?a.a.createElement("div",{className:"blanket",onClick:function(){return c(!1)}},a.a.createElement("div",{className:"modal",onClick:function(e){return e.stopPropagation()}},a.a.createElement("h1",null,"Examples"),Object.entries(at).map(function(e){var n=Object(v.a)(e,2),i=n[0],o=n[1],l=o.level.trim(),u=o.legend.trim(),s=o.rules.trim();return a.a.createElement(r.Fragment,{key:i},a.a.createElement("div",{className:"columns"},a.a.createElement("h2",null,i),a.a.createElement("button",{className:"secondary",onClick:function(){t(l,u,s),c(!1)}},"Load")),a.a.createElement("div",{className:"example"},a.a.createElement(rt.a,{value:l+"\n"+u+"\n"+s})))}))):a.a.createElement("button",{className:"primary",onClick:function(){return c(!0)}},"Examples")}),ot=n(221),ct=n.n(ot),lt=(n(533),n(222)),ut=n.n(lt),st=n(223),At=n.n(st),mt=n(224),ft=n.n(mt),pt=n(225),gt=n.n(pt),dt=(n(535),ke.firestore()),vt=ke.auth(),yt={googleProvider:new Te.auth.GoogleAuthProvider},ht={primary:"#F1A0A0",secondary:"#70EFA6",dark:"#000000",light:"#FDF6E2"},bt={primary:"#43153F",secondary:"#70EFA6",dark:"#FDF6E2",light:"#FFFFFF"},Et={up:{sequence:"up",action:"keydown"},down:{sequence:"down",action:"keydown"},left:{sequence:"left",action:"keydown"},right:{sequence:"right",action:"keydown"},action1:{sequence:"x",action:"keydown"},action2:{sequence:"z",action:"keydown"},cancel_up:{sequence:"up",action:"keyup"},cancel_down:{sequence:"down",action:"keyup"},cancel_left:{sequence:"left",action:"keyup"},cancel_right:{sequence:"right",action:"keyup"},cancel_action1:{sequence:"x",action:"keyup"},cancel_action2:{sequence:"z",action:"keyup"}},Ot=function(e,t,n,r,a,i){return{up:function(){return e("up")},down:function(){return e("down")},left:function(){return e("left")},right:function(){return e("right")},action1:function(){return e("action1")},action2:function(){return e("action2")},r:function(){return n()},d:function(){return a()},space:function(){return r(!i)},cancel_up:function(){return t("up")},cancel_down:function(){return t("down")},cancel_left:function(){return t("left")},cancel_right:function(){return t("right")},cancel_action1:function(){return t("action1")},cancel_action2:function(){return t("action2")}}},wt=Object(Pe.a)({providers:yt,firebaseAppAuth:vt})(function(e){var t=e.legend,n=e.level,i=e.rules,o=e.compile,c=e.theme,l=e.sprites,u=e.imageMap,s=e.width,A=e.height,m=e.debug,f=e.error,p=e.isGameActive,g=e.currentView,d=e.setGameActive,v=e.onToggleDebug,y=e.onSetInput,h=e.onCancelInput,b=e.onToggleTheme,E=e.onOpenCloseSpriteEditor,O=e.user,w=e.signOut,j=e.save,N=e.load,C=e.signInWithGoogle,S="light"===c?bt:ht;return a.a.createElement(ct.a,{className:"custom-properties-container",properties:{"--primary-color":S.primary,"--secondary-color":S.secondary,"--dark-color":S.dark,"--light-color":S.light,"--hover-color":"".concat(S.primary,"22")}},a.a.createElement("div",{className:"main"},a.a.createElement("div",{className:"left"},a.a.createElement("header",null,a.a.createElement("h1",{className:"logo"},"micro gg"),a.a.createElement(it,null),O?a.a.createElement(r.Fragment,null,a.a.createElement("button",{onClick:function(){return j(n,t,i,O)}},"Save"),a.a.createElement("button",{onClick:function(){return N(O)}},"Load"),a.a.createElement("button",{onClick:w},"Sign out")):a.a.createElement(r.Fragment,null,a.a.createElement("button",{onClick:C},"Sign in with Google to save")),a.a.createElement("button",{className:"icon",onClick:function(){return b()}},"dark"===c?a.a.createElement("img",{src:At.a,alt:"Light UI"}):a.a.createElement("img",{src:ut.a,alt:"Dark UI"}))),a.a.createElement(_e,{imageMap:u})),a.a.createElement(Ce.HotKeys,{handlers:Ot(y,h,function(){return o(n,t,i)},function(e){return d(e)},function(){return v()},p),keyMap:Et},a.a.createElement("div",{className:"right"},a.a.createElement("header",null,p?a.a.createElement("button",{className:"icon stop",onClick:function(){o(n,t,i),d(!1)}},a.a.createElement("img",{src:gt.a,alt:"Stop"})):a.a.createElement("button",{className:"icon",onClick:function(){o(n,t,i),d(!0)}},a.a.createElement("img",{src:ft.a,alt:"Play"})),p&&a.a.createElement(Re,null)),a.a.createElement("div",{className:"game-container"},a.a.createElement(nt,{onClose:function(){return E(!1)}}),"game"===g?a.a.createElement(Be,{sprites:l,imageMap:u,width:s,height:A,debug:m,error:f}):a.a.createElement(Le,{width:s,height:A}))))))}),jt=Object(c.b)(function(e){var t=e.code,n=e.game;return{level:t.level,legend:t.legend,rules:t.rules,theme:n.theme,isGameActive:n.active,sprites:n.sprites,imageMap:n.imageMap,width:n.width,height:n.height,debug:n.debug,error:n.error,currentView:n.currentView}},function(e){return{compile:function(t,n,r){e({type:"COMPILE",level:t,legend:n,rules:r})},setGameActive:function(t){e({type:"SET_ACTIVE",active:t})},onSetInput:function(t){e(function(e){return{type:"SET_INPUT",input:e}}(t))},onCancelInput:function(t){e(function(e){return{type:"CANCEL_INPUT",input:e}}(t))},onToggleDebug:function(){var t;e({type:"TOGGLE_DEBUG",active:t})},onToggleTheme:function(){e({type:"TOGGLE_THEME"})},onOpenCloseSpriteEditor:function(t){e({type:"spriteEditor/SET_OPEN",open:t})},save:function(t,n,r,a){console.log(a),e({type:"SAVE_START"}),dt.collection(a.uid).doc("default").set({level:s.a.serialize(t),legend:s.a.serialize(n),rules:s.a.serialize(r)}).then(function(){e({type:"SAVE_SUCCESS"})}).catch(function(t){console.error("Error adding document: ",t),e({type:"SAVE_ERROR"})}),console.log("saving...")},load:function(t){e({type:"LOAD_START"}),console.log(t),dt.collection(t.uid).doc("default").get().then(function(t){if(t.exists){var n=t.data(),r=n.level,a=n.legend,i=n.rules;e({type:"LOAD_SUCCESS",level:s.a.deserialize(r),legend:s.a.deserialize(a),rules:s.a.deserialize(i)})}else console.error("No doc found")})}}})(wt),Nt=Object(l.c)(Ne,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());o.a.render(a.a.createElement(c.a,{store:Nt},a.a.createElement(jt,null)),document.getElementById("root"))}},[[227,2,1]]]);
//# sourceMappingURL=main.5b0cfda5.chunk.js.map