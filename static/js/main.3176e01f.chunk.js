(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{126:function(e,t,n){var r={"./Brick.png":418,"./Goomba.png":419,"./GoombaRed.png":420,"./Player.png":421,"./QuestionBrick.png":422,"./Spike.png":423,"./no-image.png":424,"./tiles/tile0.png":180,"./tiles/tile1.png":181,"./tiles/tile2.png":182,"./tiles/tile3.png":183};function a(e){var t=o(e);return n(t)}function o(e){var t=r[e];if(!(t+1)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return t}a.keys=function(){return Object.keys(r)},a.resolve=o,e.exports=a,a.id=126},180:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAChJREFUWAnt0IEAAAAAw6D5Ux/khVBhwIABAwYMGDBgwIABAwYMvA8MECAAAc4qtccAAAAASUVORK5CYII="},181:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAADZJREFUWAnt0EENAEAIA8HjzOMGi5Bggs/UwDYT2dXvcP+wvWkHCBAgQIAAAQIECBAgQIAAgQGlEANzhaA9CAAAAABJRU5ErkJggg=="},182:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAN1JREFUWAnF0EsOwyAQg2HUi7VH867H6RFT/4tIUZQHkBmwxHb8mVIm5rv8Pq+J/VRrGoD1pSzvaQDW+5UpgHX9NICLRTkZ/gPb9VMALhXFa4b+wH49iKEA94nSbYYBjtYDGQZwlyjcZwjgbD2YIQD3iLKjpAOu1gNKB7hDFJ0lFXC3HlQqwPdFyVXSADXrgaUBfFsU3CUFULseXArAd8XxmoQDWtYDDAf4pjhcm1BA63qQoQDfE0dbEgboWQ80DOBb4mBrQgC968GGAHxHHOvJY8CT9YAfA3xDHOrNH5CJQjHdlUHlAAAAAElFTkSuQmCC"},183:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAARJJREFUWAljZCASrPp/le0ew23H/wz//RgZGLT+MzBIMTD8B2IGHiKNwKoMaBZ+0PV/q8Q/hl91QAujgRby4VdNuixOB0z6v439K8PPaqCCIqCvuUk3mjgdWB0A8fXP9UBfWxBnDPmqMBzQ/X+j3l+Gv1uBlsuQbyzxOlEcAPX5aXpZDnImE8ytoDj/xwAOdrr4HGYvC4wBSnBANs3jHGYfjAZHATSr3aFlaodZiE6DowCSz2mX1dAtReYzgUo4SCGDLEw/NhOoeKVFCUesF5hAZTuximmhjgmYCrVoYTCxZgJDAFSrDRwA5gJwlTpgLgBlQ4rqc0pdDi+KKTWIXP2jDhgNgdEQGA2B0RAYDYHREAAA23dKamEoqhoAAAAASUVORK5CYII="},184:function(e,t,n){var r={"./tile0.png":180,"./tile1.png":181,"./tile2.png":182,"./tile3.png":183};function a(e){var t=o(e);return n(t)}function o(e){var t=r[e];if(!(t+1)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return t}a.keys=function(){return Object.keys(r)},a.resolve=o,e.exports=a,a.id=184},218:function(e,t,n){e.exports=n.p+"static/media/moon.5a53c948.svg"},219:function(e,t,n){e.exports=n.p+"static/media/sun.a78e8514.svg"},220:function(e,t,n){e.exports=n.p+"static/media/play.e5a8524f.svg"},221:function(e,t,n){e.exports=n.p+"static/media/stop.f437901f.svg"},228:function(e,t,n){e.exports=n(531)},332:function(e,t,n){},334:function(e,t,n){},413:function(e,t,n){},418:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAD5JREFUWAnt10ERADAIA7Ax87iZRXao6CcYaMmv1fPmJC9ZYLNv8vnNVoAAAQIECBAgQIAAAQIECFRyHe84/XTlDQmQUCOUAAAAAElFTkSuQmCC"},419:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAYdJREFUWAntVz1LA0EQfbuEeAgi2EWsBCsL/0JqKytLf4KV+IGQIiDxxMqfYBOwECvr/AULK8FKSCeIzWlx6zzjQdibDRdwL80NhNy8zMx7O3N3YQzEUve4kePrCnBdcTvEItoYMCOLpeMTs/tmSO6QPTlgLSJpqbQB3g2Sndbk5PWSUw0P7KTr9q/tJYX1AK4rAqLPfNZZOhSwUGsENB1oOhDqwDdgTxMsr/PDa3lWBatslfNbeknbOzN76dRv6cA9iJtfTmEzLqvnqx1IkNz61TXMjyl8LVbDGK8KKArV8a0KyJAd+OQa5scUvharYYw3A3cv/4wl403UK9o2Sc77EtUuRepA5fyQAL1sBFQdQQSeYMlGQOBFJHcn7Pkmtq73zfY8b0C11Xfuuf2KlyOH/MIPCI5gBas3/0FOQtZhPZ+cflDAJz4OqVxLmhdjHdbT8prHMDgCrV0xMAqQXW1hNhYBZrQwei6p3FK5KNYtgpzktr8rsmyp0omhiKhjHMJhhtyMyf0DfCpzwbzHSMoAAAAASUVORK5CYII="},420:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAYxJREFUWAntV0FKw1AQnT82WRQqtDvFdbdewVN06RFciRUCLiwFI648QjdCT+EV3HYtuEvRgosEE+dFAk2Y3ybgTzcZKM1M3rw3mUk+/xsS+w7DsyRJHg3RRZZlJ4i5MmPMR0b06nneTX86fTe5eBy/ieDIlaiFN/J8/5zx5AcQR00jaDPaDu8QBm12PfNdDwZt3gVo415XQNeBrgNqB2SBiA3zbY/5FD9cI1b3s2yS31NJme+OgyDcuhd+zedEafqwFbNfNshXO3BEtKiya7EqpvA1rBYDXi2gIGrjXy3gh+iyKq7FqpjC17BaDHjzOZvJ/qBs+Qsncyzalien6b0A/TJS95rkqwXotG6i6gjcSOmsXQH6QiTdkt1rMBiPn8xkUnsF1JtMlC2X/ma1upYdkKxmZbOOYDAcPv+HOOTAA76y9J9nLWCzXl+hci2paSzvgPBped1naB2B1i4XMcZZzQVxHU5oMw6KdcAuMNBmnFKFPHIhsIczgjbjiIxTqqw8L22MI9cQLWhC+xfEpII8G45emQAAAABJRU5ErkJggg=="},421:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAU5JREFUWAljZCAA2v+v+09ACU5pRgbG/xWMgUw4FQAl8Eri00gtuVEHjIbAaAgMeAgwUlLQUKMsGPAQGHXAaAjgDAFgVTodhClN6YTMwZkNKxmDGEGWU5JNkdsDuMzBGQKU+pxY/SyEFMJCgpA6cuUJhgAw6Cb+//8fHB2kWALS0/F/fSchPQQdADQgr5Nhw2yggcSoBdu3//9+FqCeeUBOKTUcwPCf4X9yJ8P6pSCDCRnY9/8Y50mGD8CW7P8EQmpB8gSDFi31buJm4AjLY/T6ic3w/v/rBX4wMGxiYPhvCzGc+q1iv68MP7fM/L+ZC90B/f93SP5g+H8QZjlIHhgKBD1IdLwiLPzv8p7hz87e/xtkYWLd/zfq/WT4fhTI14OJEUsTjFNsBgF9ZvOL4f8joBzYh38Y/l7Epo4YMTJCgBhjiVcz6oDREBjwEAAAwOJpSUqjPhYAAAAASUVORK5CYII="},422:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAX5JREFUWAlj/Njc/J9hIMFAOgBkN9NAeh5k96gDRkNgNARYKMmGXzs7pf78/i3HxsDwnLOm5iE5ZpHlgM9tbaL//v1b9OfXLw+Qpb+A+FNLyz5eLq5QxqKid6Q4hKw0ALR8McP//2DLGRgZ7zEyMv79//+/0+evXyeSYjlILckO+N/fLwDUpwXEX4AWJ/DX1Cj/Z2QsBRkGpO1BNCmA5ChgLCz8ALRADmYJ0OeMn1ta7EA1GuP//49g4sTSJDsA2WCw5a2tM4CWB4CiAYhrkeWJYZMcBciGfm5tLQY6Ig1sOQNDOG919X5keWLYFDkA6HN3kCVAejZvTc1aYixEV0NRFDAyMTUBDZzKwMx8Hd1gYvmUhcD//4oMf/+mMv/7x0WshejqKAoBYFkwDRj83H///AGVRYHohhPDpygEGBkY9gATIDD7M+4lxjKsaihtE/6fOZPs4KdKm5AxPf0bVp8RKUhRFBBpB15low4YDYHREBjwEGCktCTEm8mJkAQABD53sd5+Ls8AAAAASUVORK5CYII="},423:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAhVJREFUWAm9lulOwkAUhaf1WXCNStwIavzhGmOMxrihj+JSTFqsPgpv4Wv4Fmw/JHSuR5Lb2NJhpqWUhEw7c++Z75wuIMQEn9bnZ6nruo8TSAh7kmbr5+dVEjnUbM5k1ckM0G40ZoVl1UiIUvv7+6FwAAoCh4iGzi2iJxxnMpOpCe7nLSHu2TVSmOt5Xo3P04yZAIbuRfT+kUI8Z0khNUDn42MB7m/jLrH5PFK4i8/rzlMDyH6/jsgT+7KkkCikou74/hLcX6vWkcJi1/NuVOtJ86kAaDBwVO5ZHBAv+ILT7GMM0PX9ZUgq3fN2AFxCCto6rjcGkH/uDZ2lScEIAI5WQHzF1LoRKSyjx6jeCADv+7qpe4YzTUELACdliF6ysOmIFFY7nqft0wJkcc+QgHjlY9U4FgBvtjVEeaFq1s4TlduuO7Z/LECAa6/dRFOgS0EJ0Ht/X4f7c42+fploDSkodZQAQRC86dXNKsalkAgA95twf2Ymb1BFtNHyvES9RIA83Yd4RIlPxAhAq9GowP1p2JjXAdEWUhjRHQEQUuZ27ePslpROfC4CgP96VUF0Ei/K6xw3YwVv1oh+BICkrOe1mUpHxlIIAfCsbsP9saoxr3mkUEUKR6wXAmBhateeN+PxfwpDALjfhftDLpj2CLM7SOHgbx9OoDD3bI5TsDquu4ef3C9eKHK0bXvfLvLax83hqXN+AWhR9c/gEiSNAAAAAElFTkSuQmCC"},424:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAW5JREFUWAntlsFOwzAMhu1qrwMSnOAtYOLCk3SDM6IVD8IFTeMp2AleqJqxS5JtrsucCSlCai6J7dj/lyxWh8+0Iig5SgKIdlXy8KI9AUw38P9uoKH12W+dcyyuc7NuoKX1HQF9cv82upDY4pe47LPils8NIEW3QK8ANONCtYYIdi1x2eeFcAEo8XiQBLETjyE/hAuAT3QZTh4V4iwQH2zwyfWgGcH2Qnu17QJY4u0DJ7Y6OdhXI/52gfPHkVhyuwBk9xLnC57GIFLBsGjDfu0f2G4AyXRCuMWlZhaAJPz1yAIYvnYTJ3WHGVVON4BTPJZ3Q7gAGlo9cWWj1Xq9TVRVcx3ylPvQdAEgVF8A2B2m9pY8uGteGd2B3U+ekbXncgHUePNWAd4riPTah92BneyXvD0tc+kCkEwFkcRj1R2EX7zP5ceV9bf8hd7Po6g153yOe+1cAEv0VJ9ou3+CU0WO5U0A0w0UvwEs2YbSId8ezJqOYuBQ4gAAAABJRU5ErkJggg=="},425:function(e,t,n){},432:function(e,t,n){},434:function(e,t,n){},527:function(e,t,n){},531:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(19),i=n.n(o),c=n(12),l=n(59),u=n(2),s=n(42),m=n.n(s),f={simple_movement:"\n##################\n#                #\n#                #\n#       P        #\n#       #        #\n#      ###       #\n#     #####      #\n#                #\n#                #\n##################\n  \nP = Player\n# = Brick\n  \n// Accelerate down, like gravity\n{ Player } -> { DOWN Player }\n\n// Move sideways with <LEFT> and <RIGHT> arrow keys\n{ <HORIZONTAL> Player } -> { HORIZONTAL Player }\n",gravity_flip:"\n#################\n#               #\n#               #\n#               #\n#               #\n#  P    G    X  #\n#################\n\n// Legend\nP = Player\nG = Goomba\nX = Goal\n\n// Horizontal input move player horizontally\n{ <HORIZONTAL> Player } -> { HORIZONTAL Player }\n\n// Press Action1 (X) to flip\nDOWN { Player <ACTION> | Any } -> { Player FLIP | Any }\nUP { Player <ACTION> | Any } -> { Player !FLIP | Any }\n\n// Flipped Player falls up, unflipped Player falls down\n{ Player FLIP } -> { Player UP }\n{ Player !FLIP } -> { Player DOWN }\n\n// If Player touches Goomba, player dies\n{ Player | Goomba } -> { DEAD Player | Goomba }\n\n// Win state\n{ Player | Goal } -> { Player WIN | Goal }\n",simple_platformer:"\n##################\n#                #\n#                #\n#                #\n#                #\n#                #\n#     ###?#  G   #\n#                #\n#    P           #\n##################\n\nP = Player\n# = Brick\n? = QuestionBrick\nG = Goomba\n\n// List syntax\nThingsThatFall = [ Player Goomba ]\n\n// Accelerate down, like gravity. On everything in the list\n{ ThingsThatFall } -> { DOWN ThingsThatFall }\n\n// Move sideways with <LEFT> and <RIGHT> arrow keys\n{ <HORIZONTAL> Player } -> { HORIZONTAL Player }\n\n// Jump when <UP> is pressed and when the bottom of Player\n// is touching Wall (Wall = anything)\nDOWN { <UP> Player | Wall } -> { JUMP Player | Wall }\n\n// Player dies if touching Goomba on the side or from below\nHORIZONTAL { Player | Goomba } -> { DEAD Player | Goomba }\nUP { Player | Goomba } -> { DEAD Player | Goomba }\n\n// Jumping on top of Goomba kills the Goomba\nDOWN { Player | Goomba } -> { Player | DEAD Goomba }\n\n// Break bricks by head-butting\nUP { Player | Brick } -> { Player | DEAD Brick }\n\n// Head-butting QuestionBrick turns it into a Goomba\nUP { Player | QuestionBrick } -> { Player | JUMP Goomba }\n",four_way_movement:"\n###############\n#             #\n#             #\n#             #\n#      P      #\n#             #\n#             #\n###############\n\nP = Player\n\n// MOVE is shorthand for UP, DOWN, LEFT and RIGHT\n// You can also use HORIZONTAL or VERTICAL\n{ <MOVE> Player } -> { MOVE Player }\n",follow_player:"\n##################\n#                #\n#   G            #\n#                #\n#                #\n#                #\n#                #\n#           P    #\n#                #\n##################\n\nP = Player\nG = Goomba\n\n{ <MOVE> Player } -> { MOVE Player }\nUP { Bro > Player } -> { SLOW_UP Bro > Player }\nDOWN { Bro > Player } -> { SLOW_DOWN Bro > Player }\nLEFT { Bro > Player } -> { SLOW_LEFT Bro > Player }\nRIGHT { Bro > Player } -> { SLOW_RIGHT Bro > Player }\n\n"},p=n(23),d={name:"UNTITILED GAME",id:m()(),code:p.a.deserialize(f.gravity_flip)},A={name:d.name,code:d.code,id:d.id,games:[d],theme:"dark",user:null,active:!1},g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:A,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_ACTIVE":return Object(u.a)({},e,{active:t.active});case"TOGGLE_THEME":return Object(u.a)({},e,{theme:"light"===e.theme?"dark":"light"});case"SET_NAME":return Object(u.a)({},e,{name:t.name});case"SET_USER":return Object(u.a)({},e,{user:t.user});case"SIGN_OUT":return Object(u.a)({},e,{user:null});case"SET_GAMES":return Object(u.a)({},e,{games:t.games});case"SET_CURRENT_GAME":return Object(u.a)({},e,{currentGame:t.currentGame});case"UPDATE_CODE":case"LOAD_SUCCESS":case"LOAD_CODE":return Object(u.a)({},e,{code:t.code});default:return e}},h=n(22),y=n(17),v=n(6),b=n(29),E="top",O="left",w="right",j=function(e,t,n,r){return{name:e,letter:r,position:{x:t,y:n},rotation:0,prevPosition:{x:t,y:n},velocity:{x:0,y:0},maxVelocity:{x:20,y:20},acceleration:{x:0,y:0},friction:.15,colliding:{top:[],bottom:[],left:[],right:[]},positioning:{top:[],bottom:[],left:[],right:[]},static:!1,inputs:{}}},x=function(e){var t,n,r=e.trim();if(R(r))t="{",n="}";else{if(!F(r))return e;t="[",n="]"}var a=r.indexOf(t),o=r.lastIndexOf(n);return r.substr(a+1,o-1).trim()},C={UP:{acceleration:{y:-1}},DOWN:{acceleration:{y:1}},LEFT:{acceleration:{x:-1}},RIGHT:{acceleration:{x:1}},FAST_UP:{acceleration:{y:-6}},FAST_DOWN:{acceleration:{y:6}},FAST_LEFT:{acceleration:{x:-6}},FAST_RIGHT:{acceleration:{x:6}},SLOW_UP:{acceleration:{y:-.5}},SLOW_DOWN:{acceleration:{y:.5}},SLOW_LEFT:{acceleration:{x:-.5}},SLOW_RIGHT:{acceleration:{x:.5}},JUMP:{velocity:{y:-150}},FLIP:{flip:!0},MIRROR:{mirror:!0},DEAD:{dead:!0},STATIC:{static:!0},STATIONARY:{velocity:{x:0,y:0}},WIN:{win:!0}},I={"<UP>":"up","<DOWN>":"down","<LEFT>":"left","<RIGHT>":"right","<ACTION>":"action1","<ACTION1>":"action1","<ACTION2>":"action2"},N=function e(t,n,r,a,o){var i="forward"===n?a+1:a-1;if(!(i<0||i===r.length)){var c=r[i];c||console.error("Expecting there to always be a state here");var l=[Object(u.a)({},c)],s=e(t,n,r,i,o);return s&&(l[o]=Object(h.a)({},t,s)),l}},k=function(e,t,n,r){var a={},o=function(e){return{left:"left",right:"right",down:"bottom",up:"top"}[e]}(e),i=function(e){return{left:"right",right:"left",top:"bottom",bottom:"top",up:"down",down:"up",forward:"backward"}[e]}(o),c=N(o,"forward",t,n,r),l=N(i,"backward",t,n,r);return l&&(a[i]=l),c&&(a[o]=c),c||l?a:void 0},S=function e(t,n){var r=t.map(function(t){if(n[t])return{name:t};if(I[t])return{inputs:Object(h.a)({},I[t],!0)};if(C[t])return Object(u.a)({},C[t]);if(Q(t)){var r=t.split("!"),a=Object(v.a)(r,2),o=(a[0],a[1]);return function(e){for(var t=Object(u.a)({},e),n=Object.keys(t),r=0;r<n.length;r++){var a=n[r];t[a]=!t[a]}return t}(e([o.trim()],n))}if(t.includes(":")){var i=t.split(":"),c=Object(v.a)(i,2),l=c[0],s=c[1],m=Number(s.trim());if("number"===typeof m&&!isNaN(m))return Object(h.a)({},l,m);var f=e([s.trim()],n);return Object(h.a)({},l,Object(u.a)({},f))}return{}}),a={},o=!0,i=!1,c=void 0;try{for(var l,s=r[Symbol.iterator]();!(o=(l=s.next()).done);o=!0){var m=l.value;Object(b.merge)(a,m)}}catch(f){i=!0,c=f}finally{try{o||null==s.return||s.return()}finally{if(i)throw c}}return a},T=/^\b[a-z_]+\b\s{0,1}[:]/i,P=/^[<!]{0,1}[a-z_]+[0-9a-z_]*[>]{0,1}/i,D=/^\{/i,G=/^\[/i,U=/^[-]{0,1}[0-9]*[.]{0,1}[0-9]+/,B=/^[!]{1}/,M=function(e){return Boolean(e.match(P))},L=function(e){return Boolean(e.match(T))},R=function(e){return Boolean(e.match(D))},F=function(e){return Boolean(e.match(G))},_=function(e){return Boolean(e.match(U))},Q=function(e){return Boolean(e.match(B))},W=function(e){var t=e.trim();if(R(t))return function(e){for(var t=0,n=0;n<e.length;n++){var r=e.charAt(n);if(t<0&&console.error("more closing brackets than opening brackets"),"{"===r)t++;else if("}"===r)t--;else if(" "===r&&0===t)return[e.slice(0,n+1).trim(),e.slice(n+1).trim()]}return 0!==t&&console.error("unclosed brackets"),[e,""]}(t);if(L(t))return function(e){for(var t=e.match(T),n=Object(v.a)(t,1)[0],r=n.trim().replace(":",""),a=e.replace(n,"").trim(),o=0,i=0;i<a.length;i++){var c=a.charAt(i);if(o<0&&console.error("more closing brackets than opening brackets"),"{"===c)o++;else if("}"===c)o--;else if(" "===c&&0===o){var l=a.slice(0,i+1).trim(),u=a.slice(i+1).trim();return["".concat(r,": ").concat(l),u]}}return 0!==o&&console.error("unclosed brackets"),["".concat(r,": ").concat(a),""]}(t);if(M(t)){var n=t.match(P),r=Object(v.a)(n,1)[0];return[r.trim(),t.replace(r,"")]}if(_(t)){var a=t.match(U),o=Object(v.a)(a,1)[0];return[o,t.replace(o,"")]}console.error("made it to the end without returning anything:",t)},H=function e(t){var n=W(t),r=Object(v.a)(n,2),a=r[0],o=r[1];return 0===o.length?[a]:[a].concat(Object(y.a)(e(o)))},Y=function e(t,n){var r=H(t);if(0===r.length)console.error("No word groups");else if(1===r.length){var a=Object(v.a)(r,1)[0];return L(a)?function(e,t){var n=e.split(/:(.+)/),r=Object(v.a)(n,2),a=r[0],o=r[1];if(R(o.trim())){var i=x(o.trim()),c=Y(i,t);return Object(h.a)({},a,Object(u.a)({},c))}var l=Y(o.trim(),t);return Object(h.a)({},a,l)}(a,n):M(a)?S([a],n):_(a)?parseFloat(a):(console.error("not dealing with:",r),{})}var o=[],i=!0,c=!1,l=void 0;try{for(var s,m=r[Symbol.iterator]();!(i=(s=m.next()).done);i=!0){var f=s.value;o.push(e(f,n))}}catch(g){c=!0,l=g}finally{try{i||null==m.return||m.return()}finally{if(c)throw l}}for(var p={},d=0;d<o.length;d++){var A=o[d];Object(b.merge)(p,A)}return p},z=function(e,t){if(0===e.length)return[];var n={},r=!0,a=!1,o=void 0;try{for(var i,c=t[Symbol.iterator]();!(r=(i=c.next()).done);r=!0){var l=i.value,u=!0,s=!1,m=void 0;try{for(var f,p=e[Symbol.iterator]();!(u=(f=p.next()).done);u=!0){var d=f.value,A=Object(v.a)(d,2),g=A[0],h=A[1];Object(b.matches)(g)(l)&&(n[l.id]||(n[l.id]=[]),n[l.id].push(h))}}catch(y){s=!0,m=y}finally{try{u||null==p.return||p.return()}finally{if(s)throw m}}}}catch(y){a=!0,o=y}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n},V=function(e){return!e.dead},J=function(e){return void 0!==Object(v.a)(e,2)[1].createNew},X=function(e){return e.dead?Object(u.a)({},e,{flash:!0}):e},K=function(e){return e.dead?Object(u.a)({},e,{remove:!0}):e},q=function(e){return e.includes("|")||e.includes(" >")||e.includes(" <")},Z=function(e){return e.includes("->")&&!q(e)},$=function(e){return e.match(/#.+#/g)},ee=function(e){return e.includes("=")},te=function(e){return e.match(/=[ ]{0,1}\{/g)},ne=function(e){return e.match(/=[ ]{0,1}\[/g)},re={ALL:["UP","DOWN","LEFT","RIGHT"],MOVE:["UP","DOWN","LEFT","RIGHT"],SLOW_MOVE:["SLOW_UP","SLOW_DOWN","SLOW_LEFT","SLOW_RIGHT"],HORIZONTAL:["LEFT","RIGHT"],VERTICAL:["UP","DOWN"]},ae=function e(t,n,r){var a=t.replace(n,r);return a.includes(n)?e(a,n,r):a},oe=function(e,t){for(var n=Object.keys(t),r=0;r<n.length;r++){var a=n[r];if(e.includes(a))return!0}return!1},ie=function e(t,n){var r=t.filter(function(e){return!oe(e,n)}),a=Object(b.flatten)(t.filter(function(e){return oe(e,n)}).map(function(e){return function(e,t){for(var n=[],r=Object.entries(t),a=0;a<r.length;a++){var o=r[a],i=Object(v.a)(o,2),c=i[0],l=i[1];if(e.includes(c)){var u=!0,s=!1,m=void 0;try{for(var f,p=l[Symbol.iterator]();!(u=(f=p.next()).done);u=!0){var d=f.value;n.push(ae(e,c,d))}}catch(A){s=!0,m=A}finally{try{u||null==p.return||p.return()}finally{if(s)throw m}}return n}}return n}(e,n)}));return 0===a.length?t:Object(y.a)(r).concat(Object(y.a)(e(a,n)))},ce=function(e){var t=e.split("{"),n=e;return""===Object(v.a)(t,1)[0]&&(n=e.replace("{","ALL {")),n},le=function(e,t,n){var r,a,o,i=n,c=Object(u.a)({},i,re),l=(r=e.split("\n").filter(Z),ie(r,c).map(function(e){return function(e,t){var n=e.split("->"),r=Object(v.a)(n,2),a=r[0],o=r[1];return[Y(x(a),t),Y(x(o),t)]}(e,t)})),s=(o=e.split("\n").filter(q).map(ce),a=ie(o,c).map(function(e){return function(e,t){var n,r=e.match(/^([A-Z]+)\b/),a=Object(v.a)(r,1)[0],o=a.toLowerCase(),i=e.replace(a,"").split("->"),c=Object(v.a)(i,2),l=c[0],s=c[1],m="|"===(n=l.includes(" > ")?">":l.includes(" < ")?"<":"|")?"colliding":"positioning",f=x(l).split(n).map(function(e){return H(e)}),p=x(s).split(n).map(function(e){return H(e)}),d=[],A=[],g=!0,y=!1,E=void 0;try{for(var O,w=f[Symbol.iterator]();!(g=(O=w.next()).done);g=!0){var C=O.value,I=Object(u.a)({},S(C,t));d.push(I)}}catch(K){y=!0,E=K}finally{try{g||null==w.return||w.return()}finally{if(y)throw E}}var N=d.map(function(e,t){return k(o,d,t,m)?Object(u.a)({},e,Object(h.a)({},m,k(o,d,t,m))):e}),T=0,P=!0,D=!1,G=void 0;try{for(var U,B=p[Symbol.iterator]();!(P=(U=B.next()).done);P=!0){var M=U.value,L=f[T],R={};if(L){var F=M.map(function(e){return Y(e,t)}),_=!0,Q=!1,W=void 0;try{for(var z,V=F[Symbol.iterator]();!(_=(z=V.next()).done);_=!0){var J=z.value;Object(b.merge)(R,J)}}catch(K){Q=!0,W=K}finally{try{_||null==V.return||V.return()}finally{if(Q)throw W}}}else{var X=j("TEMP_NAME",0,0,"X");R=Object(u.a)({},X,{createNew:{direction:o}},S(M,t)),N.push(Object(u.a)({},d[0]))}A.push(R),T+=1}}catch(K){D=!0,G=K}finally{try{P||null==B.return||B.return()}finally{if(D)throw G}}return N.map(function(e,t){return[e,A[t]]})}(e,t)}),Object(b.flatten)(a)),m=s.filter(J),f=s.filter(function(e){return!J(e)});return{modify:Object(y.a)(l).concat(Object(y.a)(f)),create:m}},ue=function(e){return Object(u.a)({},e,{position:{x:Math.round(e.position.x),y:Math.round(e.position.y)}})},se=function(e){return{top:e.position.y,bottom:e.position.y+32,left:e.position.x,right:e.position.x+32}},me=function(e,t){var n=se(e),r=se(t);return n.bottom>r.top&&n.top<r.bottom&&n.right>r.left&&n.left<r.right},fe=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=e.x,a=e.y,o=se(t),i=o.top,c=o.bottom,l=o.left,u=o.right;return a>i-n&&a<c+n&&r>l-n&&r<u+n},pe=function(e,t,n){var r=function(e,t){return e===O?[{x:t.position.x,y:t.position.y+5},{x:t.position.x,y:t.position.y+32-5}]:e===w?[{x:t.position.x+32,y:t.position.y+5},{x:t.position.x+32,y:t.position.y+32-5}]:e===E?[{x:t.position.x+5,y:t.position.y},{x:t.position.x+32-5,y:t.position.y}]:"bottom"===e?[{x:t.position.x+5,y:t.position.y+32},{x:t.position.x+32-5,y:t.position.y+32}]:void 0}(e,t),a=!0,o=!1,i=void 0;try{for(var c,l=r[Symbol.iterator]();!(a=(c=l.next()).done);a=!0){var u=c.value;if(fe(u,n,1))return!0}}catch(s){o=!0,i=s}finally{try{a||null==l.return||l.return()}finally{if(o)throw i}}return!1},de=function(e,t){var n=se({position:Object(u.a)({},e.prevPosition)}),r=se({position:Object(u.a)({},t.prevPosition)}),a={top:!1,bottom:!1,left:!1,right:!1};return n.top>=r.bottom?a.top=!0:n.bottom<=r.top&&(a.bottom=!0),n.left>=r.right?a.left=!0:n.right<=r.left&&(a.right=!0),a},Ae=function(e,t,n){var r=se(n),a=Object(u.a)({},t.velocity,Object(h.a)({},{left:"x",right:"x",top:"y",bottom:"y"}[e],0)),o=Object(u.a)({},t.position);return e===E?o.y=r.bottom:"bottom"===e?o.y=r.top-32:e===O?o.x=r.right:e===w&&(o.x=r.left-32),{position:o,velocity:a}},ge=function(e,t){if(e.static)return e;var n=!0,r=!1,a=void 0;try{for(var o,i=t[Symbol.iterator]();!(n=(o=i.next()).done);n=!0){var c=o.value;if(e.id!==c.id&&me(e,c)){var l=de(e,c),s=Object(u.a)({},e);return l.top?s=Object(u.a)({},s,Ae(E,e,c)):l.bottom&&(s=Object(u.a)({},s,Ae("bottom",e,c))),me(s,c)&&(l.left?s=Object(u.a)({},s,Ae(O,e,c)):l.right&&(s=Object(u.a)({},s,Ae(w,e,c)))),s}}}catch(m){r=!0,a=m}finally{try{n||null==i.return||i.return()}finally{if(r)throw a}}return e},he=function(e){return Object(u.a)({},e,{prevPosition:Object(u.a)({},e.position)})},ye=function(e){var t=e.velocity,n=e.maxVelocity,r=e.acceleration;return Object(u.a)({},e,{velocity:{x:Math.max(Math.min(t.x+r.x,n.x),-n.x),y:Math.max(Math.min(t.y+r.y,n.y),-n.y)},acceleration:{x:0,y:0}})},ve=function(e){return Object(u.a)({},e,{position:{x:e.position.x+e.velocity.x,y:e.position.y+e.velocity.y}})},be=function(e){return Object(u.a)({},e,{colliding:{top:[],bottom:[],left:[],right:[]}})},Ee=function(e){return Object(u.a)({},e,{positioning:{top:[],bottom:[],left:[],right:[]}})},Oe=function(e){return Math.abs(e)>1e-4?e:0},we=function(e){var t=e.velocity.x*(1-e.friction),n=e.velocity.y*(1-e.friction);return Object(u.a)({},e,{velocity:{x:Oe(t),y:Oe(n)}})},je={currentView:"game",sprites:[],effects:[],names:{},width_in_tiles:0,height_in_tiles:0,debug:!1,imageMap:{},rules:{regular:[],collisionCreate:[],collisionModify:[]},stateTransitions:{regular:{}},availableImages:["Player","Brick","QuestionBrick","Spike","Goomba","GoombaRed"],freezeFrames:0,shake:!1},xe=function(e){return e.split("\n").filter(function(e){return!e.includes("//")}).join("\n")},Ce=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:je,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"TOGGLE_DEBUG":return Object(u.a)({},e,{debug:!e.debug});case"SET_IMAGE":var n=Object(u.a)({},e.imageMap),r=t.variableName,a=t.imageName;return n[r]=a,Object(u.a)({},e,{imageMap:n});case"SET_NO_IMAGE":var o=Object(u.a)({},e.imageMap);return o[t.variableName]=null,Object(u.a)({},e,{imageMap:o});case"COMPILE":try{var i,c,l,s=p.a.serialize,f=(i=s(t.code),xe(i).split("\n").filter($).slice(1,-1).map(function(e){return e.slice(1,-1)})),d=function(e,t){var n=[];return e.map(function(e,r){return e.split("").forEach(function(e,a){var o=t[e];if(o&&"Empty"!==o()){var i=32*a,c=32*r;n.push(Object(u.a)({id:m()()},j(o(),i,c,e)))}})}),n}(f,(c=s(t.code),function(e){var t={};return e.split("\n").filter(ee).forEach(function(e){var n=e.split("=").map(function(e){return e.trim()}),r=Object(v.a)(n,2),a=r[0],o=r[1].split(" or ");t[a]=function(){var e=Math.floor(Math.random()*o.length);return o[e]}}),t}(xe(c)))),A=function(e){var t=e.split("\n").filter(ee).map(function(e){var t=e.split(" = ");return Object(v.a)(t,2)[1].split(" or ")});return Object(b.flatten)(t)}(s(t.code)),g=A.reduce(function(e,t){return e[t]=!0,e},{}),C=function(e){var t=e.split("\n").filter(te),n={},r=!0,a=!1,o=void 0;try{for(var i,c=t[Symbol.iterator]();!(r=(i=c.next()).done);r=!0){var l=i.value.split(" = "),u=Object(v.a)(l,2),s=u[0],m=u[1];n[s]=[x(m)]}}catch(f){a=!0,o=f}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}(s(t.code)),I=function(e){var t=e.split("\n").filter(ne),n={},r=!0,a=!1,o=void 0;try{for(var i,c=t[Symbol.iterator]();!(r=(i=c.next()).done);r=!0){var l=i.value.split(" = "),u=Object(v.a)(l,2),s=u[0],m=u[1],f=x(m).split(" ");n[s]=f}}catch(p){a=!0,o=p}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return n}(s(t.code)),N=Object(u.a)({},C,I),k=le((l=s(t.code),xe(l)),g,N),S=function(e){return[e[0].length,e.length]}(f),T=Object(v.a)(S,2),P=T[0],D=T[1];return Object(u.a)({},je,{sprites:d,rules:k,width:32*P,height:32*D,names:g,imageMap:Object(u.a)({},e.imageMap)})}catch(Y){return console.error(Y),Object(u.a)({},je,{error:"Compilation error \ud83d\ude1e"})}case"UPDATE":var G;if("game"!==e.currentView)return e;if(e.freezeFrames>0)return Object(u.a)({},e,{freezeFrames:e.freezeFrames-1});var U=e.sprites.filter(function(e){return!e.remove}),B=e.effects.filter(function(e){return e.progress<e.duration}),M=(U.filter(V),U.filter(function(e){return!1===V(e)}));if(M.length>0){var L=U.map(X).map(K),R=M.map(function(e){return{name:"explosion",duration:10,progress:0,id:m()(),position:e.position}});return Object(u.a)({},e,{sprites:L,freezeFrames:5,shake:!0,effects:Object(y.a)(R).concat(Object(y.a)(B))})}Object(u.a)({},e);var F=function(e,t){var n,r,a,o=[],i=!0,c=!1,l=void 0;try{for(var s,f=e[Symbol.iterator]();!(i=(s=f.next()).done);i=!0){var p=s.value,d=!0,A=!1,g=void 0;try{for(var h,y=t[Symbol.iterator]();!(d=(h=y.next()).done);d=!0){var E=h.value,O=Object(v.a)(E,2),w=O[0],j=O[1];Object(b.matches)(w)(p)&&o.push(Object(u.a)({},j,{id:m()(),position:(n=p.position,a=j.createNew.direction,r={up:{x:0,y:-32},down:{x:0,y:32},left:{x:-32,y:0},right:{x:32,y:0}}[a],{x:n.x+r.x,y:n.y+r.y}),createNew:void 0}))}}catch(Y){A=!0,g=Y}finally{try{d||null==y.return||y.return()}finally{if(A)throw g}}}}catch(Y){c=!0,l=Y}finally{try{i||null==f.return||f.return()}finally{if(c)throw l}}return o}(U,e.rules.create),_={modify:z(e.rules.modify,U),create:z(e.rules.create,U)},Q=U.filter(function(e){return Boolean(e.win)}),W=(G=function(e,t){return Object(y.a)(e).concat(Object(y.a)(t))}(U,F).map(be).map(Ee).map(function(t){return function(e,t,n,r){if(e.static)return e;var a=Object(u.a)({},e.colliding),o=!0,i=!1,c=void 0;try{for(var l,s=t[Symbol.iterator]();!(o=(l=s.next()).done);o=!0){var m=l.value;if(e.id!==m.id)for(var f=[E,"bottom",O,w],p=0;p<f.length;p++){var d=f[p];if(pe(d,e,m)){var A=Object(u.a)({},m);A.colliding=void 0,a[d].push(A)}}}}catch(Y){i=!0,c=Y}finally{try{o||null==s.return||s.return()}finally{if(i)throw c}}return e.position.x<1&&a.left.push({name:"Wall"}),e.position.x>n-32-1&&a.right.push({name:"Wall"}),e.position.y<1&&a.top.push({name:"Wall"}),e.position.y>r-32-1&&a.bottom.push({name:"Wall"}),Object(u.a)({},e,{colliding:a})}(t,U,e.width,e.height)}).map(function(e){return function(e,t){if(e.static)return e;var n=Object(u.a)({},e.positioning),r=!0,a=!1,o=void 0;try{for(var i,c=t[Symbol.iterator]();!(r=(i=c.next()).done);r=!0){var l=i.value;if(e.id!==l.id){var s=function(e){return Object(u.a)({},e,{positioning:void 0})};e.position.x<l.position.x?n.right.push(s(l)):n.left.push(s(l)),e.position.y<l.position.y?n.bottom.push(s(l)):n.top.push(s(l))}}}catch(Y){a=!0,o=Y}finally{try{r||null==c.return||c.return()}finally{if(a)throw o}}return Object(u.a)({},e,{positioning:n})}(e,U)}).map(he),function(e,t){return t.map(function(t){var n=e[t.id];if(n){var r=Object(u.a)({},t),a=!0,o=!1,i=void 0;try{for(var c,l=n[Symbol.iterator]();!(a=(c=l.next()).done);a=!0){var s=c.value;r=Object(b.mergeWith)(t,s)}}catch(Y){o=!0,i=Y}finally{try{a||null==l.return||l.return()}finally{if(o)throw i}}return r}return t})}(_.modify,G).map(we).map(ye).map(ve).map(function(e){return ge(e,U)}).map(function(e){return ge(e,U)}).map(function(e){return ge(e,U)}).map(function(t){return function(e,t,n){if(e.static)return e;var r=Object(u.a)({},e.position);return e.position.y>n-32&&(r.y=n-32),e.position.y<0&&(r.y=0),e.position.x>t-32&&(r.x=t-32),e.position.x<0&&(r.x=0),Object(u.a)({},e,{position:r})}(t,e.width,e.height)}).map(ue)),H=B.map(function(e){return Object(u.a)({},e,{progress:e.progress+1})});return Object(u.a)({},e,{sprites:W,stateTransitions:_,currentView:Q.length>0?"menu":e.currentView,shake:!1,effects:H});case"SET_INPUT":return Object(u.a)({},e,{sprites:e.sprites.map(function(e){return Object(u.a)({},e,{inputs:Object(u.a)({},e.inputs,Object(h.a)({},t.input,!0))})})});case"CANCEL_INPUT":return Object(u.a)({},e,{sprites:e.sprites.map(function(e){var n=Object(u.a)({},e.inputs);return n[t.input]=void 0,Object(u.a)({},e,{inputs:n})})});default:return e}},Ie=[[[0,1,1,0],[1,1,1,1],[1,1,1,1],[0,1,1,0]],[[0,1,1,0],[1,0,0,1],[1,0,0,1],[0,1,1,0]]],Ne=["tile0","tile1","tile2","tile3"],ke=function(e){var t=document.createElement("canvas");t.width=128,t.height=128;var n=t.getContext("2d");return e.forEach(function(t,r){return e[r].forEach(function(a,o){var i=Ne[e[r][o]],c=new Image(32,32);c.onload=function(){console.log("loaded"),n.drawImage(c,32*a,32*t)},c.src="../Game/images/tiles/".concat(i,".png")})}),t.toDataURL()},Se={tileSets:Ie,open:!1,images:Ie.map(function(e){return ke(e)}),tileImages:Ne},Te=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Se,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"spriteEditor/SET_OPEN":return Object(u.a)({},e,{open:t.open});case"spriteEditor/UPDATE_TILESETS":return Object(u.a)({},e,{tileSets:t.tileSets,images:t.tileSets.map(function(e){return ke(e)})});default:return e}},Pe=Object(l.b)({app:g,game:Ce,spriteEditor:Te}),De=(n(332),n(334),n(136)),Ge=(n(412),De.initializeApp({apiKey:"AIzaSyBHLFHOl9TSm557CTNB0IARouvjID9eVmA",authDomain:"micro-gg.firebaseapp.com",databaseURL:"https://micro-gg.firebaseio.com",projectId:"micro-gg",storageBucket:"micro-gg.appspot.com",messagingSenderId:"53073229739"}));De.firestore().enablePersistence().catch(function(e){"failed-precondition"===e.code||e.code});var Ue=Ge,Be=n(210),Me=(n(179),n(413),function(e){var t=e.sprite;return a.a.createElement("div",{className:"debug-colliding"},Object.entries(t.colliding).map(function(e,t){var n=Object(v.a)(e,2),r=n[0],o=n[1];return a.a.createElement("p",{className:"number ".concat(r," ").concat(o.length>0&&"active")},o.length)}))}),Le=n(9),Re=function(e){var t=1e4*Math.sin(e++);return t-Math.floor(t)},Fe=Le.b.div.withConfig({displayName:"LetterImage__LetterImageContainer",componentId:"sc-1yhd6f2-0"})(["display:inline-block;text-align:center;width:32px;height:32px;border-radius:0.3rem;color:black;background-color:",";p{display:inline;font-weight:800;font-size:1.6rem;user-select:none;}"],function(e){return function(e){var t=e.codePointAt(0),n=255*Re(t),r=35*Re(t+1)+65,a=20*Re(t+2)+40;return"hsl(".concat(n,", ").concat(r,"%, ").concat(a,"%)")}(e.letter)}),_e=function(e){var t=e.letter;return a.a.createElement(Fe,Object.assign({letter:t},e),a.a.createElement("p",null,t))},Qe=function(e,t,n){return t[e]?t[e]:void 0===t[e]&&n.includes(e)?e:null},We=Le.b.div.attrs(function(e){var t=e.position,n=e.flash;return{style:{left:t.x,top:t.y,filter:n?"brightness(2)":"none"}}}).withConfig({displayName:"Sprite__SpriteContainer",componentId:"fu96fo-0"})(["position:relative;width:0;height:0;"]),He=Le.b.div.attrs(function(e){var t=e.flip,n=e.mirror,r=e.rotation;return{style:{width:"".concat(32,"px"),height:"".concat(32,"px"),transform:"\n    ".concat(t?"scaleY(-1)":"","\n    ").concat(n?"scaleX(-1)":"","\n    ").concat(r?"rotate3d(0, 0, 1, ".concat(r,"deg)"):"","\n  ")}}}).withConfig({displayName:"Sprite__Inner",componentId:"fu96fo-1"})(["width:","px;height:","px;"],32,32),Ye=function(e){var t=e.availableImages,r=e.imageMap,o=e.sprite,i=e.debug,c=o.position,l=o.letter,u=o.name,s=o.flash,m=o.flip,f=o.mirror,p=o.rotation,d=Qe(u,r,t);return a.a.createElement(We,{position:c,flash:s},a.a.createElement(He,{mirror:f,flip:m,rotation:p},d?a.a.createElement("img",{alt:"",src:n(126)("./".concat(d,".png"))}):a.a.createElement(_e,{letter:l}),i&&a.a.createElement(Me,{sprite:o})))},ze=Le.b.div.withConfig({displayName:"Effect__Container",componentId:"bmkp7j-0"})(["position:relative;width:0;height:0;left:","px;top:","px;"],function(e){return e.x},function(e){return e.y}),Ve=Le.b.div.withConfig({displayName:"Effect__Explosion",componentId:"bmkp7j-1"})(["width:32px;height:32px;outline:var(--light-color);outline-width:20px;outline-style:solid;@keyframes expand{0%{transform:scale(0.8);}100%{transform:scale(2);outline-width:0px;}}animation-name:expand;animation-duration:","s;animation-fill-mode:forwards;animation-timing-function:ease-out;"],function(e){return e.duration}),Je=function(e){var t=e.effect;return a.a.createElement(ze,{x:t.position.x,y:t.position.y},a.a.createElement(Ve,{duration:t.duration/60}))},Xe=Le.b.div.withConfig({displayName:"Game__Stage",componentId:"tn960b-0"})(["width:","px;height:","px;background-color:var(--dark-color);overflow:hidden;",""],function(e){return e.width},function(e){return e.height},function(e){return e.shake&&Object(Le.a)(["transform:translate3d( ","px,","px,0px );"],8*Math.random()-4,8*Math.random()-4)}),Ke=Object(c.b)(function(e){var t=e.game;return{width:t.width,height:t.height,sprites:t.sprites,effects:t.effects,imageMap:t.imageMap,availableImages:t.availableImages,shake:t.shake,debug:t.debug,error:t.error,currentView:t.currentView}},null)(function(e){var t=e.width,n=e.height,r=e.sprites,o=e.effects,i=e.imageMap,c=e.availableImages,l=e.shake,u=e.error,s=e.debug;return a.a.createElement(Xe,{width:t,height:n,shake:l},u&&a.a.createElement("p",{className:"error"},u),r.map(function(e){return a.a.createElement(Ye,{key:e.id,imageMap:i,availableImages:c,sprite:e,debug:s})}),o.map(function(e){return a.a.createElement(Je,{key:e.id,effect:e})}))}),qe=Le.b.button.withConfig({displayName:"Button",componentId:"sc-12yph62-0"})(["border:none;border-radius:0.4rem;text-transform:uppercase;font-weight:800;font-size:0.8rem;min-width:6rem;padding:0.5rem 1rem;cursor:pointer;background-color:",";color:",";&:hover{opacity:0.8;}&:active{opacity:1.0;background-color:","",";}&:focus{outline:0;}"," ",""],function(e){return e.colors.dark},function(e){return e.colors.primary},function(e){return e.colors.primary},"22",function(e){return e.secondary&&Object(Le.a)(["color:",";background-color:transparent;border:solid 2px ",";&:hover{color:",";background-color:",";}"],e.colors.dark,e.colors.dark,function(e){return e.colors.primary},function(e){return e.colors.dark})},function(e){return e.inverted&&Object(Le.a)(["color:",";background-color:",";"],e.colors.dark,function(e){return e.colors.primary})}),Ze=(n(425),function(e){var t=e.width,n=e.height,r=e.onPlay,o=e.colors;return a.a.createElement("div",{className:"menu",style:{width:t,height:n}},a.a.createElement("h1",{className:"title"},"Win."),a.a.createElement(qe,{colors:o,inverted:!0,onClick:r},"Play again"))}),$e=Object(c.b)(null,function(e){return{onTimeChange:function(){e({type:"UPDATE"})}}})(function(e){var t,n=e.onTimeChange;return Object(r.useEffect)(function(){return t=requestAnimationFrame(function(){return function e(){n(),t=requestAnimationFrame(function(){return e()})}()}),function(){cancelAnimationFrame(t)}},[]),a.a.createElement("p",null)}),et=n(213),tt=n.n(et),nt=n(225),rt=Le.b.div.withConfig({displayName:"ImagePicker__PickerContainer",componentId:"sc-5g1plt-0"})(["position:absolute;display:inline-flex;cursor:pointer;margin-top:-0.5rem;"]),at=Le.b.div.withConfig({displayName:"ImagePicker__PickerBox",componentId:"sc-5g1plt-1"})(["display:flex;background-color:black;border:solid 1px #555;border-radius:.5rem;padding:0.5rem;margin-top:-0.5rem;z-index:1;div,img{margin-right:0.5rem;&:last-child{margin-right:0}}"]),ot=Object(c.b)(function(e){var t=e.game;return{imageMap:t.imageMap,availableImages:t.availableImages}},function(e){return{onSetImage:function(t,n){e({type:"SET_IMAGE",variableName:t,imageName:n})},onSetNoImage:function(t){e({type:"SET_NO_IMAGE",variableName:t})}}})(function(e){var t=e.letter,o=e.variableName,i=e.imageMap,c=e.availableImages,l=e.onSetImage,u=e.onSetNoImage,s=Qe(o,i,c),m=Object(r.useState)(!1),f=Object(v.a)(m,2),p=f[0],d=f[1];return a.a.createElement(rt,{onMouseOver:function(){return d(!0)},onMouseLeave:function(){return d(!1)}},p?a.a.createElement(at,null,a.a.createElement(_e,{letter:t,onClick:function(){return u(o)}}),c.map(function(e){return a.a.createElement("img",{key:e,alt:"",src:n(126)("./".concat(e,".png")),onClick:function(){return l(o,e)}})})):a.a.createElement("div",{className:"code-sprite"},s?a.a.createElement("img",{alt:"",src:n(126)("./".concat(s,".png"))}):a.a.createElement(_e,{letter:t})))}),it=(Ue.firestore(),{comment:/\/\/.*/,variable:[{pattern:new RegExp("[^ ]{1} = ([A-Z]+)","i")}]}),ct=function e(t){return"string"==typeof t?t:"string"==typeof t.content?t.content:t.content.map(e).join("")},lt=function(e,t,n){var r=n()||[],a=e.getTexts().toArray(),o=a.map(function(e){return e.text}).join("\n");if(1!==a.length)return r;var i=tt.a.tokenize(o,it),c=[],l=a.shift(),u=l,s=0,m=0,f=0,p=!0,d=!1,A=void 0;try{for(var g,h=i[Symbol.iterator]();!(p=(g=h.next()).done);p=!0){var v=g.value;l=u,s=m;var b=ct(v),E=b.split("\n").length-1,O=b.length-E,w=f+O,j=l.text.length-s,x=O;for(m=s+x;j<x&&a.length>0;)u=a.shift(),x=O-j,j=u.text.length,m=x;if("string"!=typeof v){var C={anchor:{key:l.key,offset:s},focus:{key:u.key,offset:m},mark:{type:v.type}};c.push(C)}f=w}}catch(I){d=!0,A=I}finally{try{p||null==h.return||h.return()}finally{if(d)throw A}}return Object(y.a)(r).concat(c)},ut=Object(c.b)(function(e){var t=e.app,n=e.game;return{user:t.user,name:t.name,id:t.id,code:t.code,width:n.width,height:n.height,imageMap:n.imageMap}},function(e){return{setCode:function(t){e({type:"UPDATE_CODE",code:t})},compile:function(t){e({type:"COMPILE",code:t})}}})(function(e){e.user,e.name,e.id;var t=e.code,n=(e.imageMap,e.setCode),o=(e.save,e.compile);return Object(r.useEffect)(function(){o(t)},[]),a.a.createElement(nt.a,{className:"code",value:t,onChange:function(e){var t=e.value;n(t)},decorateNode:lt,renderMark:function(e,t,n){return function(e,t,n){var r=e.children,o=e.attributes,i=e.node;switch(e.mark.type){case"variable":var c=i.text.split("=").map(function(e){return e.trim()}),l=Object(v.a)(c,2),u=l[0],s=l[1].split(" or ");return a.a.createElement("span",o,r,a.a.createElement(ot,{letter:u,variableName:s[0]}));case"comment":return a.a.createElement("span",Object.assign({},o,{style:{opacity:"0.33"}}),r);case"keyword":return a.a.createElement("span",Object.assign({},o,{style:{fontWeight:"bold"}}),r);default:return n()}}(e,0,n)},spellCheck:!1})}),st=n(216),mt=n.n(st),ft=(n(432),function(e,t){return{position:"relative",left:e,top:t}}),pt=function(e){var t=e.x,r=e.y,o=e.img,i=e.onClick;return a.a.createElement("div",{className:"tile",style:ft(t,r)},a.a.createElement("img",{src:n(184)("./".concat(o,".png")),alt:"",onClick:function(){return i()}}))},dt=(n(434),function(e){var t=e.images,n=(e.tileSets,e.selectedTileSet),r=e.onSelect;return a.a.createElement("div",{className:"image-list"},t.map(function(e,t){return a.a.createElement("img",{src:e,alt:"",className:"image ".concat(t===n&&"selected"),onClick:function(){return r(t)}})}))}),At=function(e){var t=e.tiles,n=e.selectedTile,r=e.tileImages,o=e.onSelect;return a.a.createElement("div",{className:"preview"},t.map(function(e,t){return e.map(function(e,i){return a.a.createElement(pt,{img:r[e],x:32*i,y:32*t,onClick:function(){return o(t,i,n)}})})}))},gt=function(e){var t=e.selectedTile,r=e.tileImages,o=e.onSelect;return a.a.createElement("div",{className:"picker"},r.map(function(e,r){return a.a.createElement("img",{key:e,alt:"",className:r===t?"selected":"",src:n(184)("./".concat(e,".png")),onClick:function(){return o(r)}})}))},ht=Object(c.b)(function(e){e.game;var t=e.spriteEditor;return{open:t.open,tileImages:t.tileImages,images:t.images,tileSets:t.tileSets}},function(e){return{updateTileSets:function(t){e({type:"spriteEditor/UPDATE_TILESETS",tileSets:t})}}})(function(e){var t=e.tileSets,n=e.tileImages,o=e.images,i=e.open,c=e.updateTileSets,l=e.onClose,u=Object(r.useState)(0),s=Object(v.a)(u,2),m=s[0],f=s[1],p=Object(r.useState)(0),d=Object(v.a)(p,2),A=d[0],g=d[1],h=t[m];return a.a.createElement(mt.a,{open:i,onClose:l},a.a.createElement("div",{className:"container"},a.a.createElement("div",{className:"left"},a.a.createElement(dt,{images:o,tileSets:t,selectedTileSet:m,onSelect:f})),a.a.createElement("div",{className:"right"},a.a.createElement(At,{tiles:h,tileImages:n,selectedTile:A,onSelect:function(e,n,r){var a=Object(y.a)(t);a[m][e][n]=r,c(a)}}),a.a.createElement(gt,{tileImages:n,selectedTile:A,onSelect:g}))))}),yt=Ue.firestore(),vt=Object(c.b)(function(e){var t=e.app;return{user:t.user,name:t.name,id:t.id,code:t.code}},function(e){return{saveGame:function(e,t,n,r){var a=p.a.serialize(n);yt.collection(r.uid).doc(t).set({name:e,id:t,code:a}).then(function(){console.log("Document successfully written!")}).catch(function(e){console.error("Error writing document: ",e)})},loadGames:function(t){yt.collection(t.uid).get().then(function(t){var n=[];t.forEach(function(e){var t=e.data(),r=t.name,a=t.id,o=t.code;n.push({name:r,id:a,code:o})}),e({type:"SET_GAMES",games:n})})},clearGames:function(){e({type:"SET_GAMES",games:[]})}}})(function(e){var t=e.user,n=e.name,a=e.id,o=e.code,i=e.loadGames,c=e.clearGames,l=e.saveGame;return Object(r.useEffect)(function(){t?i(t):c()},[t]),Object(r.useEffect)(function(){l(n,a,o,t)},[n,a,o]),null}),bt=n(226),Et=Le.b.div.withConfig({displayName:"Modal__Blanket",componentId:"mln755-0"})(["height:100%;width:100%;position:fixed;z-index:1;left:0;top:0;background-color:",";overflow-x:hidden;display:flex;align-items:center;justify-content:center;"],function(e){return e.colors.dark}),Ot=Le.b.div.withConfig({displayName:"Modal__Contents",componentId:"mln755-1"})(["width:80%;color:",";background-color:",";border-radius:0.5rem;padding:2rem;top:10%;position:absolute;margin-bottom:10%;h2{margin-top:1.5rem;line-height:2rem;}"],function(e){return e.colors.dark},function(e){return e.colors.primary}),wt=function(e){var t=e.colors,n=e.onClose,r=e.children;return a.a.createElement(Et,{colors:t,onClick:n},a.a.createElement(Ot,{colors:t,onClick:function(e){return e.stopPropagation()}},r))},jt=Le.b.div.withConfig({displayName:"ExamplesModal__CodeExample",componentId:"yqfuc4-0"})(["padding:1.5rem;margin-bottom:1rem;background-color:",";border-radius:0.5rem;textarea{background-color:transparent;color:var(--primary-color);padding:0rem;border:none;overflow:hidden;resize:none;outline:none;line-height:1rem;font-family:'Fira Code';font-size:1rem;width:100%;padding:0;}"],function(e){return e.colors.dark}),xt=Le.b.div.withConfig({displayName:"ExamplesModal__ColumnLayout",componentId:"yqfuc4-1"})(["display:flex;flex-direction:row;align-items:baseline;justify-content:space-between;"]),Ct=Object(c.b)(function(){return{}},function(e){return{loadPreset:function(t){var n=p.a.deserialize(t);e({type:"LOAD_CODE",code:n}),e({type:"COMPILE",code:n})}}})(function(e){var t=e.colors,n=e.loadPreset,o=Object(r.useState)(!1),i=Object(v.a)(o,2),c=i[0],l=i[1];return c?a.a.createElement(wt,{colors:t,onClose:function(){return l(!1)}},a.a.createElement("h1",null,"Examples"),Object.entries(f).map(function(e){var o=Object(v.a)(e,2),i=o[0],c=o[1];return a.a.createElement(r.Fragment,{key:i},a.a.createElement(xt,null,a.a.createElement("h2",null,i),a.a.createElement(qe,{colors:t,secondary:!0,onClick:function(){n(c),l(!1)}},"Load")),a.a.createElement(jt,{colors:t},a.a.createElement(bt.a,{value:c})))})):a.a.createElement(qe,{colors:t,onClick:function(){return l(!0)}},"Examples")}),It=Object(c.b)(function(e){return{games:e.app.games}},function(e){return{loadGame:function(t){var n=p.a.deserialize(t);e({type:"LOAD_CODE",code:n}),e({type:"COMPILE",code:n})}}})(function(e){var t=e.colors,n=e.games,o=e.loadGame,i=Object(r.useState)(!1),c=Object(v.a)(i,2),l=c[0],u=c[1];return l?a.a.createElement(wt,{colors:t,onClose:function(){return u(!1)}},a.a.createElement("h1",null,"Games"),n.map(function(e){var n=e.name,r=e.id,i=e.code;return a.a.createElement("div",{className:"item",key:r},a.a.createElement("h2",null,n),a.a.createElement(qe,{secondary:!0,colors:t,onClick:function(){o(i),u(!1)}},"Load"))})):a.a.createElement(qe,{colors:t,onClick:function(){return u(!0)}},"Games")}),Nt=n(217),kt=n.n(Nt),St=Le.b.input.withConfig({displayName:"Input",componentId:"vg089u-0"})(["background-color:","",";&:hover,&:focus{background-color:","",";}&:focus{outline:none;}color:",";font-size:0.8rem;font-weight:800;padding:0.5rem;border:none;border-radius:0.3rem;"],function(e){return e.colors.primary},30,function(e){return e.colors.primary},45,function(e){return e.colors.primary}),Tt=Object(Le.b)(qe).withConfig({displayName:"IconButton",componentId:"jtj0lm-0"})(["@keyframes grow{0%{transform:scale(1.0);easing:'ease-out'}30%{transform:scale(1.3);easing:'ease-in-out'}100%{transform:scale(1.2);}}@keyframes shrink{0%{transform:scale(1.2);easing:'ease-out'}30%{transform:scale(0.9);easing:'ease-in-out'}100%{transform:scale(1.0);}}min-width:auto;padding:0;background-color:transparent;animation-name:shrink;animation-duration:0.2s;animation-fill-mode:forwards;&:hover{animation-name:grow;animation-duration:0.2s;animation-fill-mode:forwards;}"]),Pt=(n(527),n(218)),Dt=n.n(Pt),Gt=n(219),Ut=n.n(Gt),Bt=n(220),Mt=n.n(Bt),Lt=n(221),Rt=n.n(Lt),Ft={primary:"#F1A0A0",secondary:"#70EFA6",dark:"#000000",light:"#FDF6E2"},_t={primary:"#43153F",secondary:"#70EFA6",dark:"#FDF6E2",light:"#FFFFFF"},Qt=n(222),Wt={up:{sequence:"up",action:"keydown"},down:{sequence:"down",action:"keydown"},left:{sequence:"left",action:"keydown"},right:{sequence:"right",action:"keydown"},action1:{sequence:"x",action:"keydown"},action2:{sequence:"z",action:"keydown"},cancel_up:{sequence:"up",action:"keyup"},cancel_down:{sequence:"down",action:"keyup"},cancel_left:{sequence:"left",action:"keyup"},cancel_right:{sequence:"right",action:"keyup"},cancel_action1:{sequence:"x",action:"keyup"},cancel_action2:{sequence:"z",action:"keyup"}},Ht=function(e,t,n,r,a,o){return{up:function(){return e("up")},down:function(){return e("down")},left:function(){return e("left")},right:function(){return e("right")},action1:function(){return e("action1")},action2:function(){return e("action2")},r:function(){return n()},d:function(){return a()},space:function(){return r(!o)},cancel_up:function(){return t("up")},cancel_down:function(){return t("down")},cancel_left:function(){return t("left")},cancel_right:function(){return t("right")},cancel_action1:function(){return t("action1")},cancel_action2:function(){return t("action2")}}},Yt=Object(c.b)(function(e){var t=e.app,n=e.game;return{user:t.user,name:t.name,id:t.id,code:t.code,theme:n.theme,isGameActive:t.active,imageMap:n.imageMap,width:n.width,height:n.height,debug:n.debug,error:n.error,currentView:n.currentView}},function(e){return{compile:function(t){e({type:"COMPILE",code:t})},setGameActive:function(t){e({type:"SET_ACTIVE",active:t})},onSetInput:function(t){e(function(e){return{type:"SET_INPUT",input:e}}(t))},onCancelInput:function(t){e(function(e){return{type:"CANCEL_INPUT",input:e}}(t))},onToggleDebug:function(){var t;e({type:"TOGGLE_DEBUG",active:t})},onToggleTheme:function(){e({type:"TOGGLE_THEME"})},onOpenCloseSpriteEditor:function(t){e({type:"spriteEditor/SET_OPEN",open:t})}}})(function(e){var t=e.code,n=e.compile,r=e.isGameActive,o=e.setGameActive,i=e.onToggleDebug,c=e.onSetInput,l=e.onCancelInput,u=e.children;return a.a.createElement(Qt.HotKeys,{handlers:Ht(c,l,function(){return n(t)},function(e){return o(e)},function(){return i()},r),keyMap:Wt},u)}),zt={google:new Be.auth.GoogleAuthProvider},Vt=Le.b.div.withConfig({displayName:"App__AppContainer",componentId:"sc-1m2p0z1-0"})(["display:flex;height:100%;background-color:",";@media only screen and (max-width:900px){flex-direction:column-reverse;}"],function(e){return e.colors.primary}),Jt=Object(c.b)(function(e){var t=e.app,n=e.game;return{user:t.user,name:t.name,id:t.id,code:t.code,theme:t.theme,isGameActive:t.active,currentView:n.currentView,width:n.width,height:n.height}},function(e){return{updateName:function(t){e({type:"SET_NAME",name:t})},signOut:function(){Ue.auth().signOut().then(function(){e({type:"SIGN_OUT"})}).catch(function(e){console.error("could not sign out")})},signInWithGoogle:function(){Ue.auth().signInWithPopup(zt.google).then(function(t){e({type:"SET_USER",user:t.user})}).catch(function(e){console.error(e)})},compile:function(t){e({type:"COMPILE",code:t})},setGameActive:function(t){e({type:"SET_ACTIVE",active:t})},onToggleTheme:function(){e({type:"TOGGLE_THEME"})},onOpenCloseSpriteEditor:function(t){e({type:"spriteEditor/SET_OPEN",open:t})}}})(function(e){var t=e.name,n=e.code,r=e.compile,o=e.theme,i=e.imageMap,c=e.width,l=e.height,u=e.isGameActive,s=e.currentView,m=e.setGameActive,f=e.onOpenCloseSpriteEditor,p=e.onToggleTheme,d=e.updateName,A=e.user,g=e.signOut,h=e.signInWithGoogle,y="light"===o?_t:Ft;return a.a.createElement(kt.a,{className:"custom-properties-container",properties:{"--primary-color":y.primary,"--secondary-color":y.secondary,"--dark-color":y.dark,"--primary-transparent-color":y.primaryTransparent,"--light-color":y.light,"--hover-color":"".concat(y.primary,"22")}},a.a.createElement(Vt,{colors:y},A&&a.a.createElement(vt,null),a.a.createElement("div",{className:"left"},a.a.createElement("header",null,a.a.createElement("h1",{className:"logo"},"micro gg"),a.a.createElement(St,{type:"text",value:t,onChange:function(e){return d(e.target.value.toUpperCase())},colors:y,onFocus:function(e){return e.target.select()}}),a.a.createElement(It,{colors:y}),a.a.createElement(Ct,{colors:y}),A?a.a.createElement(qe,{onClick:g,colors:y},"Sign out"):a.a.createElement(qe,{onClick:h,colors:y},"Sign in with Google to save"),a.a.createElement(Tt,{colors:y,className:"icon",onClick:function(){return p()}},"dark"===o?a.a.createElement("img",{src:Ut.a,alt:"Light UI"}):a.a.createElement("img",{src:Dt.a,alt:"Dark UI"}))),a.a.createElement(ut,{imageMap:i})),a.a.createElement(Yt,null,a.a.createElement("div",{className:"right"},a.a.createElement("header",null,u?a.a.createElement(Tt,{colors:y,className:"icon stop",onClick:function(){r(n),m(!1)}},a.a.createElement("img",{src:Rt.a,alt:"Stop"})):a.a.createElement(Tt,{colors:y,className:"icon play",onClick:function(){r(n),m(!0)}},a.a.createElement("img",{src:Mt.a,alt:"Play"})),u&&a.a.createElement($e,null)),a.a.createElement("div",{className:"game-container"},a.a.createElement(ht,{onClose:function(){return f(!1)}}),"game"===s?a.a.createElement(Ke,null):a.a.createElement(Ze,{width:c,height:l,onPlay:function(){r(n),m(!0)},colors:y}))))))}),Xt=Object(l.c)(Pe,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());i.a.render(a.a.createElement(c.a,{store:Xt},a.a.createElement(Jt,null)),document.getElementById("root"))}},[[228,2,1]]]);
//# sourceMappingURL=main.3176e01f.chunk.js.map