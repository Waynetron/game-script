(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{126:function(e,t,n){var r={"./Brick.png":418,"./Goomba.png":419,"./GoombaRed.png":420,"./Player.png":421,"./QuestionBrick.png":422,"./Spike.png":423,"./no-image.png":424,"./tiles/tile0.png":180,"./tiles/tile1.png":181,"./tiles/tile2.png":182,"./tiles/tile3.png":183};function a(e){var t=i(e);return n(t)}function i(e){var t=r[e];if(!(t+1)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return t}a.keys=function(){return Object.keys(r)},a.resolve=i,e.exports=a,a.id=126},180:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAChJREFUWAnt0IEAAAAAw6D5Ux/khVBhwIABAwYMGDBgwIABAwYMvA8MECAAAc4qtccAAAAASUVORK5CYII="},181:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAADZJREFUWAnt0EENAEAIA8HjzOMGi5Bggs/UwDYT2dXvcP+wvWkHCBAgQIAAAQIECBAgQIAAgQGlEANzhaA9CAAAAABJRU5ErkJggg=="},182:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAN1JREFUWAnF0EsOwyAQg2HUi7VH867H6RFT/4tIUZQHkBmwxHb8mVIm5rv8Pq+J/VRrGoD1pSzvaQDW+5UpgHX9NICLRTkZ/gPb9VMALhXFa4b+wH49iKEA94nSbYYBjtYDGQZwlyjcZwjgbD2YIQD3iLKjpAOu1gNKB7hDFJ0lFXC3HlQqwPdFyVXSADXrgaUBfFsU3CUFULseXArAd8XxmoQDWtYDDAf4pjhcm1BA63qQoQDfE0dbEgboWQ80DOBb4mBrQgC968GGAHxHHOvJY8CT9YAfA3xDHOrNH5CJQjHdlUHlAAAAAElFTkSuQmCC"},183:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAARJJREFUWAljZCASrPp/le0ew23H/wz//RgZGLT+MzBIMTD8B2IGHiKNwKoMaBZ+0PV/q8Q/hl91QAujgRby4VdNuixOB0z6v439K8PPaqCCIqCvuUk3mjgdWB0A8fXP9UBfWxBnDPmqMBzQ/X+j3l+Gv1uBlsuQbyzxOlEcAPX5aXpZDnImE8ytoDj/xwAOdrr4HGYvC4wBSnBANs3jHGYfjAZHATSr3aFlaodZiE6DowCSz2mX1dAtReYzgUo4SCGDLEw/NhOoeKVFCUesF5hAZTuximmhjgmYCrVoYTCxZgJDAFSrDRwA5gJwlTpgLgBlQ4rqc0pdDi+KKTWIXP2jDhgNgdEQGA2B0RAYDYHREAAA23dKamEoqhoAAAAASUVORK5CYII="},184:function(e,t,n){var r={"./tile0.png":180,"./tile1.png":181,"./tile2.png":182,"./tile3.png":183};function a(e){var t=i(e);return n(t)}function i(e){var t=r[e];if(!(t+1)){var n=new Error("Cannot find module '"+e+"'");throw n.code="MODULE_NOT_FOUND",n}return t}a.keys=function(){return Object.keys(r)},a.resolve=i,e.exports=a,a.id=184},218:function(e,t,n){e.exports=n.p+"static/media/moon.5a53c948.svg"},219:function(e,t,n){e.exports=n.p+"static/media/sun.a78e8514.svg"},220:function(e,t,n){e.exports=n.p+"static/media/play.e5a8524f.svg"},221:function(e,t,n){e.exports=n.p+"static/media/stop.f437901f.svg"},228:function(e,t,n){e.exports=n(531)},332:function(e,t,n){},334:function(e,t,n){},413:function(e,t,n){},418:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAD5JREFUWAnt10ERADAIA7Ax87iZRXao6CcYaMmv1fPmJC9ZYLNv8vnNVoAAAQIECBAgQIAAAQIECFRyHe84/XTlDQmQUCOUAAAAAElFTkSuQmCC"},419:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAYdJREFUWAntVz1LA0EQfbuEeAgi2EWsBCsL/0JqKytLf4KV+IGQIiDxxMqfYBOwECvr/AULK8FKSCeIzWlx6zzjQdibDRdwL80NhNy8zMx7O3N3YQzEUve4kePrCnBdcTvEItoYMCOLpeMTs/tmSO6QPTlgLSJpqbQB3g2Sndbk5PWSUw0P7KTr9q/tJYX1AK4rAqLPfNZZOhSwUGsENB1oOhDqwDdgTxMsr/PDa3lWBatslfNbeknbOzN76dRv6cA9iJtfTmEzLqvnqx1IkNz61TXMjyl8LVbDGK8KKArV8a0KyJAd+OQa5scUvharYYw3A3cv/4wl403UK9o2Sc77EtUuRepA5fyQAL1sBFQdQQSeYMlGQOBFJHcn7Pkmtq73zfY8b0C11Xfuuf2KlyOH/MIPCI5gBas3/0FOQtZhPZ+cflDAJz4OqVxLmhdjHdbT8prHMDgCrV0xMAqQXW1hNhYBZrQwei6p3FK5KNYtgpzktr8rsmyp0omhiKhjHMJhhtyMyf0DfCpzwbzHSMoAAAAASUVORK5CYII="},420:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAYxJREFUWAntV0FKw1AQnT82WRQqtDvFdbdewVN06RFciRUCLiwFI648QjdCT+EV3HYtuEvRgosEE+dFAk2Y3ybgTzcZKM1M3rw3mUk+/xsS+w7DsyRJHg3RRZZlJ4i5MmPMR0b06nneTX86fTe5eBy/ieDIlaiFN/J8/5zx5AcQR00jaDPaDu8QBm12PfNdDwZt3gVo415XQNeBrgNqB2SBiA3zbY/5FD9cI1b3s2yS31NJme+OgyDcuhd+zedEafqwFbNfNshXO3BEtKiya7EqpvA1rBYDXi2gIGrjXy3gh+iyKq7FqpjC17BaDHjzOZvJ/qBs+Qsncyzalien6b0A/TJS95rkqwXotG6i6gjcSOmsXQH6QiTdkt1rMBiPn8xkUnsF1JtMlC2X/ma1upYdkKxmZbOOYDAcPv+HOOTAA76y9J9nLWCzXl+hci2paSzvgPBped1naB2B1i4XMcZZzQVxHU5oMw6KdcAuMNBmnFKFPHIhsIczgjbjiIxTqqw8L22MI9cQLWhC+xfEpII8G45emQAAAABJRU5ErkJggg=="},421:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAU5JREFUWAljZCAA2v+v+09ACU5pRgbG/xWMgUw4FQAl8Eri00gtuVEHjIbAaAgMeAgwUlLQUKMsGPAQGHXAaAjgDAFgVTodhClN6YTMwZkNKxmDGEGWU5JNkdsDuMzBGQKU+pxY/SyEFMJCgpA6cuUJhgAw6Cb+//8fHB2kWALS0/F/fSchPQQdADQgr5Nhw2yggcSoBdu3//9+FqCeeUBOKTUcwPCf4X9yJ8P6pSCDCRnY9/8Y50mGD8CW7P8EQmpB8gSDFi31buJm4AjLY/T6ic3w/v/rBX4wMGxiYPhvCzGc+q1iv68MP7fM/L+ZC90B/f93SP5g+H8QZjlIHhgKBD1IdLwiLPzv8p7hz87e/xtkYWLd/zfq/WT4fhTI14OJEUsTjFNsBgF9ZvOL4f8joBzYh38Y/l7Epo4YMTJCgBhjiVcz6oDREBjwEAAAwOJpSUqjPhYAAAAASUVORK5CYII="},422:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAX5JREFUWAlj/Njc/J9hIMFAOgBkN9NAeh5k96gDRkNgNARYKMmGXzs7pf78/i3HxsDwnLOm5iE5ZpHlgM9tbaL//v1b9OfXLw+Qpb+A+FNLyz5eLq5QxqKid6Q4hKw0ALR8McP//2DLGRgZ7zEyMv79//+/0+evXyeSYjlILckO+N/fLwDUpwXEX4AWJ/DX1Cj/Z2QsBRkGpO1BNCmA5ChgLCz8ALRADmYJ0OeMn1ta7EA1GuP//49g4sTSJDsA2WCw5a2tM4CWB4CiAYhrkeWJYZMcBciGfm5tLQY6Ig1sOQNDOG919X5keWLYFDkA6HN3kCVAejZvTc1aYixEV0NRFDAyMTUBDZzKwMx8Hd1gYvmUhcD//4oMf/+mMv/7x0WshejqKAoBYFkwDRj83H///AGVRYHohhPDpygEGBkY9gATIDD7M+4lxjKsaihtE/6fOZPs4KdKm5AxPf0bVp8RKUhRFBBpB15low4YDYHREBjwEGCktCTEm8mJkAQABD53sd5+Ls8AAAAASUVORK5CYII="},423:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAhVJREFUWAm9lulOwkAUhaf1WXCNStwIavzhGmOMxrihj+JSTFqsPgpv4Wv4Fmw/JHSuR5Lb2NJhpqWUhEw7c++Z75wuIMQEn9bnZ6nruo8TSAh7kmbr5+dVEjnUbM5k1ckM0G40ZoVl1UiIUvv7+6FwAAoCh4iGzi2iJxxnMpOpCe7nLSHu2TVSmOt5Xo3P04yZAIbuRfT+kUI8Z0khNUDn42MB7m/jLrH5PFK4i8/rzlMDyH6/jsgT+7KkkCikou74/hLcX6vWkcJi1/NuVOtJ86kAaDBwVO5ZHBAv+ILT7GMM0PX9ZUgq3fN2AFxCCto6rjcGkH/uDZ2lScEIAI5WQHzF1LoRKSyjx6jeCADv+7qpe4YzTUELACdliF6ysOmIFFY7nqft0wJkcc+QgHjlY9U4FgBvtjVEeaFq1s4TlduuO7Z/LECAa6/dRFOgS0EJ0Ht/X4f7c42+fploDSkodZQAQRC86dXNKsalkAgA95twf2Ymb1BFtNHyvES9RIA83Yd4RIlPxAhAq9GowP1p2JjXAdEWUhjRHQEQUuZ27ePslpROfC4CgP96VUF0Ei/K6xw3YwVv1oh+BICkrOe1mUpHxlIIAfCsbsP9saoxr3mkUEUKR6wXAmBhateeN+PxfwpDALjfhftDLpj2CLM7SOHgbx9OoDD3bI5TsDquu4ef3C9eKHK0bXvfLvLax83hqXN+AWhR9c/gEiSNAAAAAElFTkSuQmCC"},424:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAW5JREFUWAntlsFOwzAMhu1qrwMSnOAtYOLCk3SDM6IVD8IFTeMp2AleqJqxS5JtrsucCSlCai6J7dj/lyxWh8+0Iig5SgKIdlXy8KI9AUw38P9uoKH12W+dcyyuc7NuoKX1HQF9cv82upDY4pe47LPils8NIEW3QK8ANONCtYYIdi1x2eeFcAEo8XiQBLETjyE/hAuAT3QZTh4V4iwQH2zwyfWgGcH2Qnu17QJY4u0DJ7Y6OdhXI/52gfPHkVhyuwBk9xLnC57GIFLBsGjDfu0f2G4AyXRCuMWlZhaAJPz1yAIYvnYTJ3WHGVVON4BTPJZ3Q7gAGlo9cWWj1Xq9TVRVcx3ylPvQdAEgVF8A2B2m9pY8uGteGd2B3U+ekbXncgHUePNWAd4riPTah92BneyXvD0tc+kCkEwFkcRj1R2EX7zP5ceV9bf8hd7Po6g153yOe+1cAEv0VJ9ou3+CU0WO5U0A0w0UvwEs2YbSId8ezJqOYuBQ4gAAAABJRU5ErkJggg=="},425:function(e,t,n){},432:function(e,t,n){},434:function(e,t,n){},527:function(e,t,n){},531:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),i=n(19),o=n.n(i),c=n(12),l=n(59),u=n(2),s=n(42),m=n.n(s),f={simple_movement:"\n##################\n#                #\n#                #\n#       P        #\n#       #        #\n#      ###       #\n#     #####      #\n#                #\n#                #\n##################\n  \nP = Player\n# = Brick\n  \n// Accelerate down, like gravity\n{ Player } -> { DOWN Player }\n\n// Move sideways with <LEFT> and <RIGHT> arrow keys\n{ <HORIZONTAL> Player } -> { HORIZONTAL Player }\n",gravity_flip:"\n#################\n#               #\n#               #\n#               #\n#               #\n#  P    G    X  #\n#################\n\n// Legend\nP = Player\nG = Goomba\nX = Goal\n\n// Horizontal input move player horizontally\n{ <HORIZONTAL> Player } -> { HORIZONTAL Player }\n\n// Press Action1 (X) to flip\nDOWN { Player <ACTION> | Any } -> { Player FLIP | Any }\nUP { Player <ACTION> | Any } -> { Player !FLIP | Any }\n\n// Flipped Player falls up, unflipped Player falls down\n{ Player FLIP } -> { Player UP }\n{ Player !FLIP } -> { Player DOWN }\n\n// If Player touches Goomba, player dies\n{ Player | Goomba } -> { DEAD Player | Goomba }\n\n// Win state\n{ Player | Goal } -> { Player WIN | Goal }\n",sliding_puzzle:"\n###################\n#    #      #     #\n#                 #\n#                 #\n#                 #\n#   P    G  # x   #\n###################\n\n// Legend\nP = Player\nG = Goomba\nx = Goal\n# = Brick\n\nFlippable = [ Player Goomba ]\n\n{ <UP> STATIONARY Flippable } -> { Flippable gravity: 1 }\n{ <DOWN> STATIONARY Flippable } -> { Flippable gravity: 2 }\n{ <LEFT> STATIONARY Flippable } -> { Flippable gravity: 3 }\n{ <RIGHT> STATIONARY Flippable } -> { Flippable gravity: 4 }\n\n{ Flippable gravity: 1 } -> { Flippable UP rotation:180 }\n{ Flippable gravity: 2 } -> { Flippable DOWN rotation:0 }\n{ Flippable gravity: 3 } -> { Flippable LEFT rotation:90 }\n{ Flippable gravity: 4 } -> { Flippable RIGHT rotation:-90 }\n\n{ Goomba | Any } -> { Goomba | Goomba }\n\n// Win state\n{ Player | Goal } -> { Player WIN | Goal }\n",simple_platformer:"\n##################\n#                #\n#                #\n#                #\n#                #\n#                #\n#     ###?#  G   #\n#                #\n#    P           #\n##################\n\nP = Player\n# = Brick\n? = QuestionBrick\nG = Goomba\n\n// List syntax\nThingsThatFall = [ Player Goomba ]\n\n// Accelerate down, like gravity. On everything in the list\n{ ThingsThatFall } -> { DOWN ThingsThatFall }\n\n// Move sideways with <LEFT> and <RIGHT> arrow keys\n{ <HORIZONTAL> Player } -> { HORIZONTAL Player }\n\n// Jump when <UP> is pressed and when the bottom of Player\n// is touching Wall (Wall = anything)\nDOWN { <UP> Player | Wall } -> { JUMP Player | Wall }\n\n// Player dies if touching Goomba on the side or from below\nHORIZONTAL { Player | Goomba } -> { DEAD Player | Goomba }\nUP { Player | Goomba } -> { DEAD Player | Goomba }\n\n// Jumping on top of Goomba kills the Goomba\nDOWN { Player | Goomba } -> { Player | DEAD Goomba }\n\n// Break bricks by head-butting\nUP { Player | Brick } -> { Player | DEAD Brick }\n\n// Head-butting QuestionBrick turns it into a Goomba\nUP { Player | QuestionBrick } -> { Player | JUMP Goomba }\n",four_way_movement:"\n###############\n#             #\n#             #\n#             #\n#      P      #\n#             #\n#             #\n###############\n\nP = Player\n\n// MOVE is shorthand for UP, DOWN, LEFT and RIGHT\n// You can also use HORIZONTAL or VERTICAL\n{ <MOVE> Player } -> { MOVE Player }\n",follow_player:"\n##################\n#                #\n#   G            #\n#                #\n#                #\n#                #\n#                #\n#           P    #\n#                #\n##################\n\nP = Player\nG = Goomba\n\n{ <MOVE> Player } -> { MOVE Player }\nUP { Bro > Player } -> { SLOW_UP Bro > Player }\nDOWN { Bro > Player } -> { SLOW_DOWN Bro > Player }\nLEFT { Bro > Player } -> { SLOW_LEFT Bro > Player }\nRIGHT { Bro > Player } -> { SLOW_RIGHT Bro > Player }\n\n"},p=n(23),A={name:"UNTITILED GAME",id:m()(),code:p.a.deserialize(f.gravity_flip)},d={name:A.name,code:A.code,id:A.id,games:[A],theme:"dark",user:null,active:!1},g=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:d,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_ACTIVE":return Object(u.a)({},e,{active:t.active});case"TOGGLE_THEME":return Object(u.a)({},e,{theme:"light"===e.theme?"dark":"light"});case"SET_NAME":return Object(u.a)({},e,{name:t.name});case"SET_USER":return Object(u.a)({},e,{user:t.user});case"SIGN_OUT":return Object(u.a)({},e,{user:null});case"SET_GAMES":return Object(u.a)({},e,{games:t.games});case"SET_CURRENT_GAME":return Object(u.a)({},e,{currentGame:t.currentGame});case"UPDATE_CODE":case"LOAD_SUCCESS":case"LOAD_CODE":return Object(u.a)({},e,{code:t.code});default:return e}},h=n(22),y=n(17),b=n(6),v=n(29),E="top",O="left",w="right",j=function(e,t,n){return{name:e,position:{x:t,y:n},rotation:0,prevPosition:{x:t,y:n},velocity:{x:0,y:0},maxVelocity:{x:20,y:20},acceleration:{x:0,y:0},friction:.15,colliding:{top:[],bottom:[],left:[],right:[]},positioning:{top:[],bottom:[],left:[],right:[]},static:!1,inputs:{}}},x=function(e){var t,n,r=e.trim();if(R(r))t="{",n="}";else{if(!M(r))return e;t="[",n="]"}var a=r.indexOf(t),i=r.lastIndexOf(n);return r.substr(a+1,i-1).trim()},I={UP:{acceleration:{y:-1}},DOWN:{acceleration:{y:1}},LEFT:{acceleration:{x:-1}},RIGHT:{acceleration:{x:1}},FAST_UP:{acceleration:{y:-6}},FAST_DOWN:{acceleration:{y:6}},FAST_LEFT:{acceleration:{x:-6}},FAST_RIGHT:{acceleration:{x:6}},SLOW_UP:{acceleration:{y:-.5}},SLOW_DOWN:{acceleration:{y:.5}},SLOW_LEFT:{acceleration:{x:-.5}},SLOW_RIGHT:{acceleration:{x:.5}},JUMP:{velocity:{y:-150}},FLIP:{flip:!0},MIRROR:{mirror:!0},DEAD:{dead:!0},STATIC:{static:!0},STATIONARY:{velocity:{x:0,y:0}},WIN:{win:!0},LOSE:{lose:!0}},C={"<UP>":"up","<DOWN>":"down","<LEFT>":"left","<RIGHT>":"right","<ACTION>":"action1","<ACTION1>":"action1","<ACTION2>":"action2"},N=function e(t,n,r,a,i){var o="forward"===n?a+1:a-1;if(!(o<0||o===r.length)){var c=r[o];c||console.error("Expecting there to always be a state here");var l=[Object(u.a)({},c)],s=e(t,n,r,o,i);return s&&(l[i]=Object(h.a)({},t,s)),l}},T=function(e,t,n,r){var a={},i=function(e){return{left:"left",right:"right",down:"bottom",up:"top"}[e]}(e),o=function(e){return{left:"right",right:"left",top:"bottom",bottom:"top",up:"down",down:"up",forward:"backward"}[e]}(i),c=N(i,"forward",t,n,r),l=N(o,"backward",t,n,r);return l&&(a[o]=l),c&&(a[i]=c),c||l?a:void 0},S=function e(t,n){var r=t.map(function(t){if(n[t])return{name:t};if(C[t])return{inputs:Object(h.a)({},C[t],!0)};if(I[t])return Object(u.a)({},I[t]);if(Q(t)){var r=t.split("!"),a=Object(b.a)(r,2),i=(a[0],a[1]);return function(e){for(var t=Object(u.a)({},e),n=Object.keys(t),r=0;r<n.length;r++){var a=n[r];t[a]=!t[a]}return t}(e([i.trim()],n))}if(t.includes(":")){var o=t.split(":"),c=Object(b.a)(o,2),l=c[0],s=c[1],m=Number(s.trim());if("number"===typeof m&&!isNaN(m))return Object(h.a)({},l,m);var f=e([s.trim()],n);return Object(h.a)({},l,Object(u.a)({},f))}return{}}),a={},i=!0,o=!1,c=void 0;try{for(var l,s=r[Symbol.iterator]();!(i=(l=s.next()).done);i=!0){var m=l.value;Object(v.merge)(a,m)}}catch(f){o=!0,c=f}finally{try{i||null==s.return||s.return()}finally{if(o)throw c}}return a},k=/^\b[a-z_]+\b\s{0,1}[:]/i,P=/^[<!]{0,1}[a-z_]+[0-9a-z_]*[>]{0,1}/i,G=/^\{/i,D=/^\[/i,U=/^[-]{0,1}[0-9]*[.]{0,1}[0-9]+/,B=/^[!]{1}/,L=function(e){return Boolean(e.match(P))},F=function(e){return Boolean(e.match(k))},R=function(e){return Boolean(e.match(G))},M=function(e){return Boolean(e.match(D))},_=function(e){return Boolean(e.match(U))},Q=function(e){return Boolean(e.match(B))},W=function(e){var t=e.trim();if(R(t))return function(e){for(var t=0,n=0;n<e.length;n++){var r=e.charAt(n);if(t<0&&console.error("more closing brackets than opening brackets"),"{"===r)t++;else if("}"===r)t--;else if(" "===r&&0===t)return[e.slice(0,n+1).trim(),e.slice(n+1).trim()]}return 0!==t&&console.error("unclosed brackets"),[e,""]}(t);if(F(t))return function(e){for(var t=e.match(k),n=Object(b.a)(t,1)[0],r=n.trim().replace(":",""),a=e.replace(n,"").trim(),i=0,o=0;o<a.length;o++){var c=a.charAt(o);if(i<0&&console.error("more closing brackets than opening brackets"),"{"===c)i++;else if("}"===c)i--;else if(" "===c&&0===i){var l=a.slice(0,o+1).trim(),u=a.slice(o+1).trim();return["".concat(r,": ").concat(l),u]}}return 0!==i&&console.error("unclosed brackets"),["".concat(r,": ").concat(a),""]}(t);if(L(t)){var n=t.match(P),r=Object(b.a)(n,1)[0];return[r.trim(),t.replace(r,"")]}if(_(t)){var a=t.match(U),i=Object(b.a)(a,1)[0];return[i,t.replace(i,"")]}console.error("made it to the end without returning anything:",t)},H=function e(t){var n=W(t),r=Object(b.a)(n,2),a=r[0],i=r[1];return 0===i.length?[a]:[a].concat(Object(y.a)(e(i)))},Y=function e(t,n){var r=H(t);if(0===r.length)console.error("No word groups");else if(1===r.length){var a=Object(b.a)(r,1)[0];return F(a)?function(e,t){var n=e.split(/:(.+)/),r=Object(b.a)(n,2),a=r[0],i=r[1];if(R(i.trim())){var o=x(i.trim()),c=Y(o,t);return Object(h.a)({},a,Object(u.a)({},c))}var l=Y(i.trim(),t);return Object(h.a)({},a,l)}(a,n):L(a)?S([a],n):_(a)?parseFloat(a):(console.error("not dealing with:",r),{})}var i=[],o=!0,c=!1,l=void 0;try{for(var s,m=r[Symbol.iterator]();!(o=(s=m.next()).done);o=!0){var f=s.value;i.push(e(f,n))}}catch(g){c=!0,l=g}finally{try{o||null==m.return||m.return()}finally{if(c)throw l}}for(var p={},A=0;A<i.length;A++){var d=i[A];Object(v.merge)(p,d)}return p},z=function(e,t){if(0===e.length)return[];var n={},r=!0,a=!1,i=void 0;try{for(var o,c=t[Symbol.iterator]();!(r=(o=c.next()).done);r=!0){var l=o.value,u=!0,s=!1,m=void 0;try{for(var f,p=e[Symbol.iterator]();!(u=(f=p.next()).done);u=!0){var A=f.value,d=Object(b.a)(A,2),g=d[0],h=d[1];Object(v.matches)(g)(l)&&(n[l.id]||(n[l.id]=[]),n[l.id].push(h))}}catch(y){s=!0,m=y}finally{try{u||null==p.return||p.return()}finally{if(s)throw m}}}}catch(y){a=!0,i=y}finally{try{r||null==c.return||c.return()}finally{if(a)throw i}}return n},V=function(e){return void 0!==Object(b.a)(e,2)[1].createNew},J=function(e){return e.dead?Object(u.a)({},e,{flash:!0}):e},X=function(e){return e.dead?Object(u.a)({},e,{remove:!0}):e},K=function(e){return e.includes("|")||e.includes(" >")||e.includes(" <")},q=function(e){return e.includes("->")&&!K(e)},Z=function(e){return e.match(/#.+#/g)},$=function(e){return e.includes("=")&&!e.includes(" or ")},ee=function(e){return e.includes("=")&&e.includes(" or ")},te=function(e){return e.match(/=[ ]{0,1}\{/g)},ne=function(e){return e.match(/=[ ]{0,1}\[/g)},re={ALL:["UP","DOWN","LEFT","RIGHT"],MOVE:["UP","DOWN","LEFT","RIGHT"],SLOW_MOVE:["SLOW_UP","SLOW_DOWN","SLOW_LEFT","SLOW_RIGHT"],HORIZONTAL:["LEFT","RIGHT"],VERTICAL:["UP","DOWN"]},ae=function e(t,n,r){var a=t.replace(n,r);return a.includes(n)?e(a,n,r):a},ie=function(e,t){for(var n=Object.keys(t),r=0;r<n.length;r++){var a=n[r];if(e.includes(a))return!0}return!1},oe=function e(t,n){var r=t.filter(function(e){return!ie(e,n)}),a=Object(v.flatten)(t.filter(function(e){return ie(e,n)}).map(function(e){return function(e,t){for(var n=[],r=Object.entries(t),a=0;a<r.length;a++){var i=r[a],o=Object(b.a)(i,2),c=o[0],l=o[1];if(e.includes(c)){var u=!0,s=!1,m=void 0;try{for(var f,p=l[Symbol.iterator]();!(u=(f=p.next()).done);u=!0){var A=f.value;n.push(ae(e,c,A))}}catch(d){s=!0,m=d}finally{try{u||null==p.return||p.return()}finally{if(s)throw m}}return n}}return n}(e,n)}));return 0===a.length?t:Object(y.a)(r).concat(Object(y.a)(e(a,n)))},ce=function(e){var t=e.split("{"),n=e;return""===Object(b.a)(t,1)[0]&&(n=e.replace("{","ALL {")),n},le=function(e,t,n){var r,a,i,o=n,c=Object(u.a)({},o,re),l=(r=e.split("\n").filter(q),oe(r,c).map(function(e){return function(e,t){var n=e.split("->"),r=Object(b.a)(n,2),a=r[0],i=r[1];return[Y(x(a),t),Y(x(i),t)]}(e,t)})),s=(i=e.split("\n").filter(K).map(ce),a=oe(i,c).map(function(e){return function(e,t){var n,r=e.match(/^([A-Z]+)\b/),a=Object(b.a)(r,1)[0],i=a.toLowerCase(),o=e.replace(a,"").split("->"),c=Object(b.a)(o,2),l=c[0],s=c[1],m="|"===(n=l.includes(" > ")?">":l.includes(" < ")?"<":"|")?"colliding":"positioning",f=x(l).split(n).map(function(e){return H(e)}),p=x(s).split(n).map(function(e){return H(e)}),A=[],d=[],g=!0,y=!1,E=void 0;try{for(var O,w=f[Symbol.iterator]();!(g=(O=w.next()).done);g=!0){var I=O.value,C=Object(u.a)({},S(I,t));A.push(C)}}catch(K){y=!0,E=K}finally{try{g||null==w.return||w.return()}finally{if(y)throw E}}var N=A.map(function(e,t){return T(i,A,t,m)?Object(u.a)({},e,Object(h.a)({},m,T(i,A,t,m))):e}),k=0,P=!0,G=!1,D=void 0;try{for(var U,B=p[Symbol.iterator]();!(P=(U=B.next()).done);P=!0){var L=U.value,F=f[k],R={};if(F){var M=L.map(function(e){return Y(e,t)}),_=!0,Q=!1,W=void 0;try{for(var z,V=M[Symbol.iterator]();!(_=(z=V.next()).done);_=!0){var J=z.value;Object(v.merge)(R,J)}}catch(K){Q=!0,W=K}finally{try{_||null==V.return||V.return()}finally{if(Q)throw W}}}else{var X=j("TEMP_NAME",0,0);R=Object(u.a)({},X,{createNew:{direction:i}},S(L,t)),N.push(Object(u.a)({},A[0]))}d.push(R),k+=1}}catch(K){G=!0,D=K}finally{try{P||null==B.return||B.return()}finally{if(G)throw D}}return N.map(function(e,t){return[e,d[t]]})}(e,t)}),Object(v.flatten)(a)),m=s.filter(V),f=s.filter(function(e){return!V(e)});return{modify:Object(y.a)(l).concat(Object(y.a)(f)),create:m}},ue=function(e){return Object(u.a)({},e,{position:{x:Math.round(e.position.x),y:Math.round(e.position.y)}})},se=function(e){return{top:e.position.y,bottom:e.position.y+32,left:e.position.x,right:e.position.x+32}},me=function(e,t){var n=se(e),r=se(t);return n.bottom>r.top&&n.top<r.bottom&&n.right>r.left&&n.left<r.right},fe=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=e.x,a=e.y,i=se(t),o=i.top,c=i.bottom,l=i.left,u=i.right;return a>o-n&&a<c+n&&r>l-n&&r<u+n},pe=function(e,t,n){var r=function(e,t){return e===O?[{x:t.position.x,y:t.position.y+5},{x:t.position.x,y:t.position.y+32-5}]:e===w?[{x:t.position.x+32,y:t.position.y+5},{x:t.position.x+32,y:t.position.y+32-5}]:e===E?[{x:t.position.x+5,y:t.position.y},{x:t.position.x+32-5,y:t.position.y}]:"bottom"===e?[{x:t.position.x+5,y:t.position.y+32},{x:t.position.x+32-5,y:t.position.y+32}]:void 0}(e,t),a=!0,i=!1,o=void 0;try{for(var c,l=r[Symbol.iterator]();!(a=(c=l.next()).done);a=!0){var u=c.value;if(fe(u,n,1))return!0}}catch(s){i=!0,o=s}finally{try{a||null==l.return||l.return()}finally{if(i)throw o}}return!1},Ae=function(e,t){var n=se({position:Object(u.a)({},e.prevPosition)}),r=se({position:Object(u.a)({},t.prevPosition)}),a={top:!1,bottom:!1,left:!1,right:!1};return n.top>=r.bottom?a.top=!0:n.bottom<=r.top&&(a.bottom=!0),n.left>=r.right?a.left=!0:n.right<=r.left&&(a.right=!0),a},de=function(e,t,n){var r=se(n),a=Object(u.a)({},t.velocity,Object(h.a)({},{left:"x",right:"x",top:"y",bottom:"y"}[e],0)),i=Object(u.a)({},t.position);return e===E?i.y=r.bottom:"bottom"===e?i.y=r.top-32:e===O?i.x=r.right:e===w&&(i.x=r.left-32),{position:i,velocity:a}},ge=function(e,t){if(e.static)return e;var n=!0,r=!1,a=void 0;try{for(var i,o=t[Symbol.iterator]();!(n=(i=o.next()).done);n=!0){var c=i.value;if(e.id!==c.id&&me(e,c)){var l=Ae(e,c),s=Object(u.a)({},e);return l.top?s=Object(u.a)({},s,de(E,e,c)):l.bottom&&(s=Object(u.a)({},s,de("bottom",e,c))),me(s,c)&&(l.left?s=Object(u.a)({},s,de(O,e,c)):l.right&&(s=Object(u.a)({},s,de(w,e,c)))),s}}}catch(m){r=!0,a=m}finally{try{n||null==o.return||o.return()}finally{if(r)throw a}}return e},he=function(e){return Object(u.a)({},e,{prevPosition:Object(u.a)({},e.position)})},ye=function(e){var t=e.velocity,n=e.maxVelocity,r=e.acceleration;return Object(u.a)({},e,{velocity:{x:Math.max(Math.min(t.x+r.x,n.x),-n.x),y:Math.max(Math.min(t.y+r.y,n.y),-n.y)},acceleration:{x:0,y:0}})},be=function(e){return Object(u.a)({},e,{position:{x:e.position.x+e.velocity.x,y:e.position.y+e.velocity.y}})},ve=function(e){return Object(u.a)({},e,{colliding:{top:[],bottom:[],left:[],right:[]}})},Ee=function(e){return Object(u.a)({},e,{positioning:{top:[],bottom:[],left:[],right:[]}})},Oe=function(e){return Math.abs(e)>1e-4?e:0},we=function(e){var t=e.velocity.x*(1-e.friction),n=e.velocity.y*(1-e.friction);return Object(u.a)({},e,{velocity:{x:Oe(t),y:Oe(n)}})},je={currentView:"game",sprites:[],effects:[],names:{},width_in_tiles:0,height_in_tiles:0,debug:!1,imageMap:{},rules:{regular:[],create:[],modify:[]},stateTransitions:{regular:{}},availableImages:["Player","Brick","QuestionBrick","Spike","Goomba","GoombaRed"],freezeFrames:0,shake:!1},xe=function(e,t){return e.length>0||t.length>0?"menu":null},Ie=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:je,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"TOGGLE_DEBUG":return Object(u.a)({},e,{debug:!e.debug});case"SET_IMAGE":var n=Object(u.a)({},e.imageMap),r=t.variableName,a=t.imageName;return n[r]={type:"image",imageName:a},Object(u.a)({},e,{imageMap:n});case"SET_LETTER_IMAGE":var i=Object(u.a)({},e.imageMap),o=t.variableName,c=t.letter;return i[o]={type:"ascii",letter:c},Object(u.a)({},e,{imageMap:i});case"COMPILE":try{for(var l,s=(l=t.code,function(e){return e.split("\n").map(function(e){return e.trim()}).join("\n")}(function(e){return e.split("\n").filter(function(e){return!e.includes("//")}).join("\n")}(p.a.serialize(l)))),f=function(e){return e.split("\n").filter(Z).slice(1,-1).map(function(e){return e.slice(1,-1)})}(s),A=function(e){var t={};return e.split("\n").filter($).forEach(function(e){var n=e.split("=").map(function(e){return e.trim()}),r=Object(b.a)(n,2),a=r[0],i=r[1];t[a]=function(){return i}}),t}(s),d=function(e){var t={};return e.split("\n").filter(ee).forEach(function(e){var n=e.split("=").map(function(e){return e.trim()}),r=Object(b.a)(n,2),a=r[0],i=r[1].split(" or ");t[a]=function(){var e=Math.floor(Math.random()*i.length);return i[e]}}),t}(s),g=Object(u.a)({},e.imageMap),I=Object.entries(A),C=0;C<I.length;C++){var N=I[C],T=Object(b.a)(N,2),S=T[0],k=(0,T[1])();g[k]&&"ascii"!==g[k].type||(g[k]={type:"ascii",letter:S})}var P=function(e,t){var n=[];return e.map(function(e,r){return e.split("").forEach(function(e,a){var i=t[e];if(i&&"Empty"!==i()){var o=i(),c=32*a,l=32*r;n.push(Object(u.a)({id:m()()},j(o,c,l)))}})}),n}(f,Object(u.a)({},A,d)),G=function(e){var t=e.split("\n").filter($).map(function(e){var t=e.split(" = ");return Object(b.a)(t,2)[1].split(" or ")});return Object(v.flatten)(t)}(s),D=G.reduce(function(e,t){return e[t]=!0,e},{}),U=function(e){var t=e.split("\n").filter(te),n={},r=!0,a=!1,i=void 0;try{for(var o,c=t[Symbol.iterator]();!(r=(o=c.next()).done);r=!0){var l=o.value.split(" = "),u=Object(b.a)(l,2),s=u[0],m=u[1];n[s]=[x(m)]}}catch(f){a=!0,i=f}finally{try{r||null==c.return||c.return()}finally{if(a)throw i}}return n}(s),B=function(e){var t=e.split("\n").filter(ne),n={},r=!0,a=!1,i=void 0;try{for(var o,c=t[Symbol.iterator]();!(r=(o=c.next()).done);r=!0){var l=o.value.split(" = "),u=Object(b.a)(l,2),s=u[0],m=u[1],f=x(m).split(" ");n[s]=f}}catch(p){a=!0,i=p}finally{try{r||null==c.return||c.return()}finally{if(a)throw i}}return n}(s),L=le(s,D,Object(u.a)({},U,B)),F=function(e){return[e[0].length,e.length]}(f),R=Object(b.a)(F,2),M=R[0],_=R[1];return Object(u.a)({},je,{sprites:P,rules:L,width:32*M,height:32*_,names:D,imageMap:g})}catch(se){return console.error(se),Object(u.a)({},je,{error:"Compilation error \ud83d\ude1e"})}case"UPDATE":var Q;if("game"!==e.currentView)return e;if(e.freezeFrames>0)return Object(u.a)({},e,{freezeFrames:e.freezeFrames-1});var W=e.sprites.filter(function(e){return!e.remove}),H=e.effects.filter(function(e){return e.progress<e.duration}),Y=W.filter(function(e){return!1===function(e){return!e.dead}(e)});if(Y.length>0){var V=W.map(J).map(X),K=Y.map(function(e){return{name:"explosion",duration:10,progress:0,id:m()(),position:e.position}});return Object(u.a)({},e,{sprites:V,freezeFrames:5,shake:!0,effects:Object(y.a)(K).concat(Object(y.a)(H))})}Object(u.a)({},e);var q=function(e,t){var n,r,a,i=[],o=!0,c=!1,l=void 0;try{for(var s,f=e[Symbol.iterator]();!(o=(s=f.next()).done);o=!0){var p=s.value,A=!0,d=!1,g=void 0;try{for(var h,y=t[Symbol.iterator]();!(A=(h=y.next()).done);A=!0){var E=h.value,O=Object(b.a)(E,2),w=O[0],j=O[1];Object(v.matches)(w)(p)&&i.push(Object(u.a)({},j,{id:m()(),position:(n=p.position,a=j.createNew.direction,r={up:{x:0,y:-32},down:{x:0,y:32},left:{x:-32,y:0},right:{x:32,y:0}}[a],{x:n.x+r.x,y:n.y+r.y}),createNew:void 0}))}}catch(se){d=!0,g=se}finally{try{A||null==y.return||y.return()}finally{if(d)throw g}}}}catch(se){c=!0,l=se}finally{try{o||null==f.return||f.return()}finally{if(c)throw l}}return i}(W,e.rules.create),re={modify:z(e.rules.modify,W),create:z(e.rules.create,W)},ae=W.filter(function(e){return Boolean(e.win)}),ie=W.filter(function(e){return Boolean(e.lose)}),oe=(Q=function(e,t){return Object(y.a)(e).concat(Object(y.a)(t))}(W,q).map(ve).map(Ee).map(function(t){return function(e,t,n,r){if(e.static)return e;var a=Object(u.a)({},e.colliding),i=!0,o=!1,c=void 0;try{for(var l,s=t[Symbol.iterator]();!(i=(l=s.next()).done);i=!0){var m=l.value;if(e.id!==m.id)for(var f=[E,"bottom",O,w],p=0;p<f.length;p++){var A=f[p];if(pe(A,e,m)){var d=Object(u.a)({},m);d.colliding=void 0,a[A].push(d)}}}}catch(se){o=!0,c=se}finally{try{i||null==s.return||s.return()}finally{if(o)throw c}}return e.position.x<1&&a.left.push({name:"Wall"}),e.position.x>n-32-1&&a.right.push({name:"Wall"}),e.position.y<1&&a.top.push({name:"Wall"}),e.position.y>r-32-1&&a.bottom.push({name:"Wall"}),Object(u.a)({},e,{colliding:a})}(t,W,e.width,e.height)}).map(function(e){return function(e,t){if(e.static)return e;var n=Object(u.a)({},e.positioning),r=!0,a=!1,i=void 0;try{for(var o,c=t[Symbol.iterator]();!(r=(o=c.next()).done);r=!0){var l=o.value;if(e.id!==l.id){var s=function(e){return Object(u.a)({},e,{positioning:void 0})};e.position.x<l.position.x?n.right.push(s(l)):n.left.push(s(l)),e.position.y<l.position.y?n.bottom.push(s(l)):n.top.push(s(l))}}}catch(se){a=!0,i=se}finally{try{r||null==c.return||c.return()}finally{if(a)throw i}}return Object(u.a)({},e,{positioning:n})}(e,W)}).map(he).map(we).map(ye).map(be).map(function(e){return ge(e,W)}).map(function(e){return ge(e,W)}).map(function(e){return ge(e,W)}).map(function(t){return function(e,t,n){if(e.static)return e;var r=Object(u.a)({},e.position),a=Object(u.a)({},e.velocity);return e.position.y>n-32&&(r.y=n-32,a.y=0),e.position.y<0&&(r.y=0,a.y=0),e.position.x>t-32&&(r.x=t-32,a.x=0),e.position.x<0&&(r.x=0,a.x=0),Object(u.a)({},e,{position:r,velocity:a})}(t,e.width,e.height)}).map(ue),function(e,t){return t.map(function(t){var n=e[t.id];if(n){var r=Object(u.a)({},t),a=!0,i=!1,o=void 0;try{for(var c,l=n[Symbol.iterator]();!(a=(c=l.next()).done);a=!0){var s=c.value;r=Object(v.mergeWith)(t,s)}}catch(se){i=!0,o=se}finally{try{a||null==l.return||l.return()}finally{if(i)throw o}}return r}return t})}(re.modify,Q)),ce=H.map(function(e){return Object(u.a)({},e,{progress:e.progress+1})});return Object(u.a)({},e,{sprites:oe,stateTransitions:re,currentView:xe(ae,ie)||e.currentView,shake:!1,effects:ce});case"SET_INPUT":return Object(u.a)({},e,{sprites:e.sprites.map(function(e){return Object(u.a)({},e,{inputs:Object(u.a)({},e.inputs,Object(h.a)({},t.input,!0))})})});case"CANCEL_INPUT":return Object(u.a)({},e,{sprites:e.sprites.map(function(e){var n=Object(u.a)({},e.inputs);return n[t.input]=void 0,Object(u.a)({},e,{inputs:n})})});default:return e}},Ce=[[[0,1,1,0],[1,1,1,1],[1,1,1,1],[0,1,1,0]],[[0,1,1,0],[1,0,0,1],[1,0,0,1],[0,1,1,0]]],Ne=["tile0","tile1","tile2","tile3"],Te=function(e){var t=document.createElement("canvas");t.width=128,t.height=128;var n=t.getContext("2d");return e.forEach(function(t,r){return e[r].forEach(function(a,i){var o=Ne[e[r][i]],c=new Image(32,32);c.onload=function(){console.log("loaded"),n.drawImage(c,32*a,32*t)},c.src="../Game/images/tiles/".concat(o,".png")})}),t.toDataURL()},Se={tileSets:Ce,open:!1,images:Ce.map(function(e){return Te(e)}),tileImages:Ne},ke=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Se,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"spriteEditor/SET_OPEN":return Object(u.a)({},e,{open:t.open});case"spriteEditor/UPDATE_TILESETS":return Object(u.a)({},e,{tileSets:t.tileSets,images:t.tileSets.map(function(e){return Te(e)})});default:return e}},Pe=Object(l.b)({app:g,game:Ie,spriteEditor:ke}),Ge=(n(332),n(334),n(136)),De=(n(412),Ge.initializeApp({apiKey:"AIzaSyBHLFHOl9TSm557CTNB0IARouvjID9eVmA",authDomain:"micro-gg.firebaseapp.com",databaseURL:"https://micro-gg.firebaseio.com",projectId:"micro-gg",storageBucket:"micro-gg.appspot.com",messagingSenderId:"53073229739"}));Ge.firestore().enablePersistence().catch(function(e){"failed-precondition"===e.code||e.code});var Ue=De,Be=n(210),Le=(n(179),n(413),function(e){var t=e.sprite;return a.a.createElement("div",{className:"debug-colliding"},Object.entries(t.colliding).map(function(e,t){var n=Object(b.a)(e,2),r=n[0],i=n[1];return a.a.createElement("p",{className:"number ".concat(r," ").concat(i.length>0&&"active")},i.length)}))}),Fe=n(9),Re=function(e){var t=1e4*Math.sin(e++);return t-Math.floor(t)},Me=Fe.b.div.withConfig({displayName:"LetterImage__LetterImageContainer",componentId:"sc-1yhd6f2-0"})(["display:inline-block;text-align:center;width:32px;height:32px;border-radius:0.3rem;color:black;background-color:",";p{display:inline;font-weight:800;font-size:1.6rem;user-select:none;}"],function(e){return function(e){var t=e.codePointAt(0),n=255*Re(t),r=35*Re(t+1)+65,a=20*Re(t+2)+40;return"hsl(".concat(n,", ").concat(r,"%, ").concat(a,"%)")}(e.letter)}),_e=function(e){var t=e.letter;return a.a.createElement(Me,Object.assign({letter:t},e),a.a.createElement("p",null,t))},Qe=function(e,t,n){return t[e]&&"image"===t[e].type?t[e].imageName:t[e]&&"ascii"===t[e].type?null:n.includes(e)?e:null},We=Fe.b.div.attrs(function(e){var t=e.position,n=e.flash;return{style:{left:t.x,top:t.y,filter:n?"brightness(2)":"none"}}}).withConfig({displayName:"Sprite__SpriteContainer",componentId:"fu96fo-0"})(["position:relative;width:0;height:0;"]),He=Fe.b.div.attrs(function(e){var t=e.flip,n=e.mirror,r=e.rotation;return{style:{width:"".concat(32,"px"),height:"".concat(32,"px"),transform:"\n    ".concat(t?"scaleY(-1)":"","\n    ").concat(n?"scaleX(-1)":"","\n    ").concat(r?"rotate3d(0, 0, 1, ".concat(r,"deg)"):"","\n  ")}}}).withConfig({displayName:"Sprite__Inner",componentId:"fu96fo-1"})(["width:","px;height:","px;"],32,32),Ye=function(e){var t=e.availableImages,r=e.imageMap,i=e.sprite,o=e.debug,c=i.position,l=i.name,u=i.flash,s=i.flip,m=i.mirror,f=i.rotation,p=Qe(l,r,t);return a.a.createElement(We,{position:c,flash:u},a.a.createElement(He,{mirror:m,flip:s,rotation:f},p?a.a.createElement("img",{alt:"",src:n(126)("./".concat(p,".png"))}):a.a.createElement(_e,{letter:r[l].letter}),o&&a.a.createElement(Le,{sprite:i})))},ze=Fe.b.div.withConfig({displayName:"Effect__Container",componentId:"bmkp7j-0"})(["position:relative;width:0;height:0;left:","px;top:","px;"],function(e){return e.x},function(e){return e.y}),Ve=Fe.b.div.withConfig({displayName:"Effect__Explosion",componentId:"bmkp7j-1"})(["width:32px;height:32px;outline:var(--light-color);outline-width:20px;outline-style:solid;@keyframes expand{0%{transform:scale(0.8);}100%{transform:scale(2);outline-width:0px;}}animation-name:expand;animation-duration:","s;animation-fill-mode:forwards;animation-timing-function:ease-out;"],function(e){return e.duration}),Je=function(e){var t=e.effect;return a.a.createElement(ze,{x:t.position.x,y:t.position.y},a.a.createElement(Ve,{duration:t.duration/60}))},Xe=Fe.b.div.withConfig({displayName:"Game__Stage",componentId:"tn960b-0"})(["width:","px;height:","px;background-color:var(--dark-color);overflow:hidden;",""],function(e){return e.width},function(e){return e.height},function(e){return e.shake&&Object(Fe.a)(["transform:translate3d( ","px,","px,0px );"],8*Math.random()-4,8*Math.random()-4)}),Ke=Object(c.b)(function(e){var t=e.game;return{width:t.width,height:t.height,sprites:t.sprites,effects:t.effects,imageMap:t.imageMap,availableImages:t.availableImages,shake:t.shake,debug:t.debug,error:t.error,currentView:t.currentView}},null)(function(e){var t=e.width,n=e.height,r=e.sprites,i=e.effects,o=e.imageMap,c=e.availableImages,l=e.shake,u=e.error,s=e.debug;return a.a.createElement(Xe,{width:t,height:n,shake:l},u&&a.a.createElement("p",{className:"error"},u),r.map(function(e){return a.a.createElement(Ye,{key:e.id,imageMap:o,availableImages:c,sprite:e,debug:s})}),i.map(function(e){return a.a.createElement(Je,{key:e.id,effect:e})}))}),qe=Fe.b.button.withConfig({displayName:"Button",componentId:"sc-12yph62-0"})(["border:none;border-radius:0.4rem;text-transform:uppercase;font-weight:800;font-size:0.8rem;min-width:6rem;padding:0.5rem 1rem;cursor:pointer;background-color:",";color:",";&:hover{opacity:0.8;}&:active{opacity:1.0;background-color:","",";}&:focus{outline:0;}"," ",""],function(e){return e.colors.dark},function(e){return e.colors.primary},function(e){return e.colors.primary},"22",function(e){return e.secondary&&Object(Fe.a)(["color:",";background-color:transparent;border:solid 2px ",";&:hover{color:",";background-color:",";}"],e.colors.dark,e.colors.dark,function(e){return e.colors.primary},function(e){return e.colors.dark})},function(e){return e.inverted&&Object(Fe.a)(["color:",";background-color:",";"],e.colors.dark,function(e){return e.colors.primary})}),Ze=(n(425),{win:"Win.",lose:"Lose."}),$e=function(e){var t=e.width,n=e.height,r=e.onPlay,i=e.colors,o=e.currentView;return a.a.createElement("div",{className:"menu",style:{width:t,height:n}},a.a.createElement("h1",{className:"title"},Ze[o]),a.a.createElement(qe,{colors:i,inverted:!0,onClick:r},"Play again"))},et=Object(c.b)(null,function(e){return{onTimeChange:function(){e({type:"UPDATE"})}}})(function(e){var t,n=e.onTimeChange;return Object(r.useEffect)(function(){return t=requestAnimationFrame(function(){return function e(){n(),t=requestAnimationFrame(function(){return e()})}()}),function(){cancelAnimationFrame(t)}},[]),a.a.createElement("p",null)}),tt=n(213),nt=n.n(tt),rt=n(225),at=Fe.b.div.withConfig({displayName:"ImagePicker__PickerContainer",componentId:"sc-5g1plt-0"})(["position:absolute;display:inline-flex;cursor:pointer;height:0;"]),it=Fe.b.div.withConfig({displayName:"ImagePicker__PickerBox",componentId:"sc-5g1plt-1"})(["display:flex;background-color:black;border:solid 1px #555;border-radius:.5rem;padding:0.5rem;margin-top:-1rem;z-index:1;height:32px;div,img{margin-right:0.5rem;&:last-child{margin-right:0}}"]),ot=Object(c.b)(function(e){var t=e.game;return{imageMap:t.imageMap,availableImages:t.availableImages}},function(e){return{onSetImage:function(t,n){e({type:"SET_IMAGE",variableName:t,imageName:n})},onSetLetterImage:function(t,n){e({type:"SET_LETTER_IMAGE",variableName:t,letter:n})}}})(function(e){var t=e.letter,i=e.variableName,o=e.imageMap,c=e.availableImages,l=e.onSetImage,u=e.onSetLetterImage,s=Qe(i,o,c),m=Object(r.useState)(!1),f=Object(b.a)(m,2),p=f[0],A=f[1];return a.a.createElement(at,{onMouseOver:function(){return A(!0)},onMouseLeave:function(){return A(!1)}},p?a.a.createElement(it,null,a.a.createElement(_e,{letter:t,onClick:function(){return u(i,t)}}),c.map(function(e){return a.a.createElement("img",{key:e,alt:"",src:n(126)("./".concat(e,".png")),onClick:function(){return l(i,e)}})})):a.a.createElement("div",{className:"code-sprite"},s?a.a.createElement("img",{alt:"",src:n(126)("./".concat(s,".png"))}):a.a.createElement(_e,{letter:t})))}),ct={comment:/\/\/.*/,variableRandom:[{pattern:new RegExp("[^ ]{1} = (.+)or","i")}],list:[{pattern:new RegExp(".+ = [[]{1}.+[]]{1}","i")}],variable:[{pattern:new RegExp("^[^ ]{1} = (.+)","i")}]},lt=function e(t){return"string"==typeof t?t:"string"==typeof t.content?t.content:t.content.map(e).join("")},ut=function(e,t,n){var r=n()||[],a=e.getTexts().toArray(),i=a.map(function(e){return e.text}).join("\n");if(1!==a.length)return r;var o=nt.a.tokenize(i,ct),c=[],l=a.shift(),u=l,s=0,m=0,f=0,p=!0,A=!1,d=void 0;try{for(var g,h=o[Symbol.iterator]();!(p=(g=h.next()).done);p=!0){var b=g.value;l=u,s=m;var v=lt(b),E=v.split("\n").length-1,O=v.length-E,w=f+O,j=l.text.length-s,x=O;for(m=s+x;j<x&&a.length>0;)u=a.shift(),x=O-j,j=u.text.length,m=x;"object"==typeof b&&c.push({anchor:{key:l.key,offset:s},focus:{key:u.key,offset:m},mark:{type:b.type}}),f=w}}catch(I){A=!0,d=I}finally{try{p||null==h.return||h.return()}finally{if(A)throw d}}return Object(y.a)(r).concat(c)},st=function(e,t,n){var r=e.children,i=e.attributes,o=e.node;switch(e.mark.type){case"variable":var c=o.text.split("=").map(function(e){return e.trim()}),l=Object(b.a)(c,2),u=l[0],s=l[1];return a.a.createElement("span",i,r,a.a.createElement(ot,{letter:u,variableName:s}));case"comment":return a.a.createElement("span",Object.assign({className:"comment"},i),r);default:return n()}},mt=Object(c.b)(function(e){var t=e.app,n=e.game;return{code:t.code,width:n.width,height:n.height}},function(e){return{setCode:function(t){e({type:"UPDATE_CODE",code:t})},compile:function(t){e({type:"COMPILE",code:t})}}})(function(e){var t=e.code,n=e.setCode,i=e.compile;return Object(r.useEffect)(function(){i(t)},[]),a.a.createElement(rt.a,{className:"code",value:t,onChange:function(e){var t=e.value;n(t)},decorateNode:ut,renderMark:st,spellCheck:!1})}),ft=n(216),pt=n.n(ft),At=(n(432),function(e,t){return{position:"relative",left:e,top:t}}),dt=function(e){var t=e.x,r=e.y,i=e.img,o=e.onClick;return a.a.createElement("div",{className:"tile",style:At(t,r)},a.a.createElement("img",{src:n(184)("./".concat(i,".png")),alt:"",onClick:function(){return o()}}))},gt=(n(434),function(e){var t=e.images,n=(e.tileSets,e.selectedTileSet),r=e.onSelect;return a.a.createElement("div",{className:"image-list"},t.map(function(e,t){return a.a.createElement("img",{src:e,alt:"",className:"image ".concat(t===n&&"selected"),onClick:function(){return r(t)}})}))}),ht=function(e){var t=e.tiles,n=e.selectedTile,r=e.tileImages,i=e.onSelect;return a.a.createElement("div",{className:"preview"},t.map(function(e,t){return e.map(function(e,o){return a.a.createElement(dt,{img:r[e],x:32*o,y:32*t,onClick:function(){return i(t,o,n)}})})}))},yt=function(e){var t=e.selectedTile,r=e.tileImages,i=e.onSelect;return a.a.createElement("div",{className:"picker"},r.map(function(e,r){return a.a.createElement("img",{key:e,alt:"",className:r===t?"selected":"",src:n(184)("./".concat(e,".png")),onClick:function(){return i(r)}})}))},bt=Object(c.b)(function(e){e.game;var t=e.spriteEditor;return{open:t.open,tileImages:t.tileImages,images:t.images,tileSets:t.tileSets}},function(e){return{updateTileSets:function(t){e({type:"spriteEditor/UPDATE_TILESETS",tileSets:t})}}})(function(e){var t=e.tileSets,n=e.tileImages,i=e.images,o=e.open,c=e.updateTileSets,l=e.onClose,u=Object(r.useState)(0),s=Object(b.a)(u,2),m=s[0],f=s[1],p=Object(r.useState)(0),A=Object(b.a)(p,2),d=A[0],g=A[1],h=t[m];return a.a.createElement(pt.a,{open:o,onClose:l},a.a.createElement("div",{className:"container"},a.a.createElement("div",{className:"left"},a.a.createElement(gt,{images:i,tileSets:t,selectedTileSet:m,onSelect:f})),a.a.createElement("div",{className:"right"},a.a.createElement(ht,{tiles:h,tileImages:n,selectedTile:d,onSelect:function(e,n,r){var a=Object(y.a)(t);a[m][e][n]=r,c(a)}}),a.a.createElement(yt,{tileImages:n,selectedTile:d,onSelect:g}))))}),vt=Ue.firestore(),Et=Object(c.b)(function(e){var t=e.app;return{user:t.user,name:t.name,id:t.id,code:t.code}},function(e){return{saveGame:function(e,t,n,r){var a=p.a.serialize(n);vt.collection(r.uid).doc(t).set({name:e,id:t,code:a}).then(function(){console.log("Document successfully written!")}).catch(function(e){console.error("Error writing document: ",e)})},loadGames:function(t){vt.collection(t.uid).get().then(function(t){var n=[];t.forEach(function(e){var t=e.data(),r=t.name,a=t.id,i=t.code;n.push({name:r,id:a,code:i})}),e({type:"SET_GAMES",games:n})})},clearGames:function(){e({type:"SET_GAMES",games:[]})}}})(function(e){var t=e.user,n=e.name,a=e.id,i=e.code,o=e.loadGames,c=e.clearGames,l=e.saveGame;return Object(r.useEffect)(function(){t?o(t):c()},[t]),Object(r.useEffect)(function(){l(n,a,i,t)},[n,a,i]),null}),Ot=n(226),wt=Fe.b.div.withConfig({displayName:"Modal__Blanket",componentId:"mln755-0"})(["height:100%;width:100%;position:fixed;z-index:1;left:0;top:0;background-color:",";overflow-x:hidden;display:flex;align-items:center;justify-content:center;"],function(e){return e.colors.dark}),jt=Fe.b.div.withConfig({displayName:"Modal__Contents",componentId:"mln755-1"})(["width:80%;color:",";background-color:",";border-radius:0.5rem;padding:2rem;top:10%;position:absolute;margin-bottom:10%;h2{margin-top:1.5rem;line-height:2rem;}"],function(e){return e.colors.dark},function(e){return e.colors.primary}),xt=function(e){var t=e.colors,n=e.onClose,r=e.children;return a.a.createElement(wt,{colors:t,onClick:n},a.a.createElement(jt,{colors:t,onClick:function(e){return e.stopPropagation()}},r))},It=Fe.b.div.withConfig({displayName:"ExamplesModal__CodeExample",componentId:"yqfuc4-0"})(["padding:1.5rem;margin-bottom:1rem;background-color:",";border-radius:0.5rem;textarea{background-color:transparent;color:var(--primary-color);padding:0rem;border:none;overflow:hidden;resize:none;outline:none;line-height:1rem;font-family:'Fira Code';font-size:1rem;width:100%;padding:0;}"],function(e){return e.colors.dark}),Ct=Fe.b.div.withConfig({displayName:"ExamplesModal__ColumnLayout",componentId:"yqfuc4-1"})(["display:flex;flex-direction:row;align-items:baseline;justify-content:space-between;"]),Nt=Object(c.b)(function(){return{}},function(e){return{loadPreset:function(t){var n=p.a.deserialize(t);e({type:"LOAD_CODE",code:n}),e({type:"COMPILE",code:n})}}})(function(e){var t=e.colors,n=e.loadPreset,i=Object(r.useState)(!1),o=Object(b.a)(i,2),c=o[0],l=o[1];return c?a.a.createElement(xt,{colors:t,onClose:function(){return l(!1)}},a.a.createElement("h1",null,"Examples"),Object.entries(f).map(function(e){var i=Object(b.a)(e,2),o=i[0],c=i[1];return a.a.createElement(r.Fragment,{key:o},a.a.createElement(Ct,null,a.a.createElement("h2",null,o),a.a.createElement(qe,{colors:t,secondary:!0,onClick:function(){n(c),l(!1)}},"Load")),a.a.createElement(It,{colors:t},a.a.createElement(Ot.a,{value:c})))})):a.a.createElement(qe,{colors:t,onClick:function(){return l(!0)}},"Examples")}),Tt=Object(c.b)(function(e){return{games:e.app.games}},function(e){return{loadGame:function(t){var n=p.a.deserialize(t);e({type:"LOAD_CODE",code:n}),e({type:"COMPILE",code:n})}}})(function(e){var t=e.colors,n=e.games,i=e.loadGame,o=Object(r.useState)(!1),c=Object(b.a)(o,2),l=c[0],u=c[1];return l?a.a.createElement(xt,{colors:t,onClose:function(){return u(!1)}},a.a.createElement("h1",null,"Games"),n.map(function(e){var n=e.name,r=e.id,o=e.code;return a.a.createElement("div",{className:"item",key:r},a.a.createElement("h2",null,n),a.a.createElement(qe,{secondary:!0,colors:t,onClick:function(){i(o),u(!1)}},"Load"))})):a.a.createElement(qe,{colors:t,onClick:function(){return u(!0)}},"Games")}),St=n(217),kt=n.n(St),Pt=Fe.b.input.withConfig({displayName:"Input",componentId:"vg089u-0"})(["background-color:","",";&:hover,&:focus{background-color:","",";}&:focus{outline:none;}color:",";font-size:0.8rem;font-weight:800;padding:0.5rem;border:none;border-radius:0.3rem;"],function(e){return e.colors.primary},30,function(e){return e.colors.primary},45,function(e){return e.colors.primary}),Gt=Object(Fe.b)(qe).withConfig({displayName:"IconButton",componentId:"jtj0lm-0"})(["@keyframes grow{0%{transform:scale(1.0);easing:'ease-out'}30%{transform:scale(1.3);easing:'ease-in-out'}100%{transform:scale(1.2);}}@keyframes shrink{0%{transform:scale(1.2);easing:'ease-out'}30%{transform:scale(0.9);easing:'ease-in-out'}100%{transform:scale(1.0);}}min-width:auto;padding:0;background-color:transparent;animation-name:shrink;animation-duration:0.2s;animation-fill-mode:forwards;&:hover{animation-name:grow;animation-duration:0.2s;animation-fill-mode:forwards;}"]),Dt=(n(527),n(218)),Ut=n.n(Dt),Bt=n(219),Lt=n.n(Bt),Ft=n(220),Rt=n.n(Ft),Mt=n(221),_t=n.n(Mt),Qt={primary:"#F1A0A0",secondary:"#70EFA6",dark:"#000000",light:"#FDF6E2"},Wt={primary:"#43153F",secondary:"#70EFA6",dark:"#FDF6E2",light:"#FFFFFF"},Ht=n(222),Yt={up:{sequence:"up",action:"keydown"},down:{sequence:"down",action:"keydown"},left:{sequence:"left",action:"keydown"},right:{sequence:"right",action:"keydown"},action1:{sequence:"x",action:"keydown"},action2:{sequence:"z",action:"keydown"},cancel_up:{sequence:"up",action:"keyup"},cancel_down:{sequence:"down",action:"keyup"},cancel_left:{sequence:"left",action:"keyup"},cancel_right:{sequence:"right",action:"keyup"},cancel_action1:{sequence:"x",action:"keyup"},cancel_action2:{sequence:"z",action:"keyup"}},zt=function(e,t,n,r,a,i){return{up:function(){return e("up")},down:function(){return e("down")},left:function(){return e("left")},right:function(){return e("right")},action1:function(){return e("action1")},action2:function(){return e("action2")},r:function(){return n()},d:function(){return a()},space:function(){return r(!i)},cancel_up:function(){return t("up")},cancel_down:function(){return t("down")},cancel_left:function(){return t("left")},cancel_right:function(){return t("right")},cancel_action1:function(){return t("action1")},cancel_action2:function(){return t("action2")}}},Vt=Object(c.b)(function(e){var t=e.app,n=e.game;return{user:t.user,name:t.name,id:t.id,code:t.code,theme:n.theme,isGameActive:t.active,width:n.width,height:n.height,debug:n.debug,error:n.error,currentView:n.currentView}},function(e){return{compile:function(t){e({type:"COMPILE",code:t})},setGameActive:function(t){e({type:"SET_ACTIVE",active:t})},onSetInput:function(t){e(function(e){return{type:"SET_INPUT",input:e}}(t))},onCancelInput:function(t){e(function(e){return{type:"CANCEL_INPUT",input:e}}(t))},onToggleDebug:function(){var t;e({type:"TOGGLE_DEBUG",active:t})},onToggleTheme:function(){e({type:"TOGGLE_THEME"})},onOpenCloseSpriteEditor:function(t){e({type:"spriteEditor/SET_OPEN",open:t})}}})(function(e){var t=e.code,n=e.compile,r=e.isGameActive,i=e.setGameActive,o=e.onToggleDebug,c=e.onSetInput,l=e.onCancelInput,u=e.children;return a.a.createElement(Ht.HotKeys,{handlers:zt(c,l,function(){return n(t)},function(e){return i(e)},function(){return o()},r),keyMap:Yt},u)}),Jt={google:new Be.auth.GoogleAuthProvider},Xt=Fe.b.div.withConfig({displayName:"App__AppContainer",componentId:"sc-1m2p0z1-0"})(["display:flex;height:100%;background-color:",";@media only screen and (max-width:900px){flex-direction:column-reverse;}"],function(e){return e.colors.primary}),Kt=Object(c.b)(function(e){var t=e.app,n=e.game;return{user:t.user,name:t.name,id:t.id,code:t.code,theme:t.theme,isGameActive:t.active,currentView:n.currentView,width:n.width,height:n.height}},function(e){return{updateName:function(t){e({type:"SET_NAME",name:t})},signOut:function(){Ue.auth().signOut().then(function(){e({type:"SIGN_OUT"})}).catch(function(e){console.error("could not sign out")})},signInWithGoogle:function(){Ue.auth().signInWithPopup(Jt.google).then(function(t){e({type:"SET_USER",user:t.user})}).catch(function(e){console.error(e)})},compile:function(t){e({type:"COMPILE",code:t})},setGameActive:function(t){e({type:"SET_ACTIVE",active:t})},onToggleTheme:function(){e({type:"TOGGLE_THEME"})},onOpenCloseSpriteEditor:function(t){e({type:"spriteEditor/SET_OPEN",open:t})}}})(function(e){var t=e.name,n=e.code,r=e.compile,i=e.theme,o=e.imageMap,c=e.width,l=e.height,u=e.isGameActive,s=e.currentView,m=e.setGameActive,f=e.onOpenCloseSpriteEditor,p=e.onToggleTheme,A=e.updateName,d=e.user,g=e.signOut,h=e.signInWithGoogle,y="light"===i?Wt:Qt;return a.a.createElement(kt.a,{className:"custom-properties-container",properties:{"--primary-color":y.primary,"--secondary-color":y.secondary,"--dark-color":y.dark,"--primary-transparent-color":y.primaryTransparent,"--light-color":y.light,"--hover-color":"".concat(y.primary,"22")}},a.a.createElement(Xt,{colors:y},d&&a.a.createElement(Et,null),a.a.createElement("div",{className:"left"},a.a.createElement("header",null,a.a.createElement("h1",{className:"logo"},"micro gg"),a.a.createElement(Pt,{type:"text",value:t,onChange:function(e){return A(e.target.value.toUpperCase())},colors:y,onFocus:function(e){return e.target.select()}}),a.a.createElement(Tt,{colors:y}),a.a.createElement(Nt,{colors:y}),d?a.a.createElement(qe,{onClick:g,colors:y},"Sign out"):a.a.createElement(qe,{onClick:h,colors:y},"Sign in with Google to save"),a.a.createElement(Gt,{colors:y,className:"icon",onClick:function(){return p()}},"dark"===i?a.a.createElement("img",{src:Lt.a,alt:"Light UI"}):a.a.createElement("img",{src:Ut.a,alt:"Dark UI"}))),a.a.createElement(mt,{imageMap:o})),a.a.createElement(Vt,null,a.a.createElement("div",{className:"right"},a.a.createElement("header",null,u?a.a.createElement(Gt,{colors:y,className:"icon stop",onClick:function(){r(n),m(!1)}},a.a.createElement("img",{src:_t.a,alt:"Stop"})):a.a.createElement(Gt,{colors:y,className:"icon play",onClick:function(){r(n),m(!0)}},a.a.createElement("img",{src:Rt.a,alt:"Play"})),u&&a.a.createElement(et,null)),a.a.createElement("div",{className:"game-container"},a.a.createElement(bt,{onClose:function(){return f(!1)}}),"game"===s?a.a.createElement(Ke,null):a.a.createElement($e,{width:c,height:l,onPlay:function(){r(n),m(!0)},colors:y,currentView:s}))))))}),qt=Object(l.c)(Pe,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());o.a.render(a.a.createElement(c.a,{store:qt},a.a.createElement(Kt,null)),document.getElementById("root"))}},[[228,2,1]]]);
//# sourceMappingURL=main.a5b0efe3.chunk.js.map